# Generated by Django 5.2.8 on 2025-11-16 19:00

import apps.teams.models._legacy
import apps.teams.models.social
import django.core.validators
import django.db.models.deletion
import django.utils.timezone
import uuid
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('user_profile', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='RankingCriteria',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tournament_participation', models.PositiveIntegerField(default=50, help_text='Points awarded for tournament participation (once per tournament)')),
                ('tournament_winner', models.PositiveIntegerField(default=500, help_text='Points awarded for winning a tournament')),
                ('tournament_runner_up', models.PositiveIntegerField(default=300, help_text='Points awarded for tournament runner-up position')),
                ('tournament_top_4', models.PositiveIntegerField(default=150, help_text='Points awarded for reaching tournament top 4')),
                ('points_per_member', models.PositiveIntegerField(default=10, help_text='Points awarded per active team member')),
                ('points_per_month_age', models.PositiveIntegerField(default=30, help_text='Points awarded per full month since team creation')),
                ('achievement_points', models.PositiveIntegerField(default=100, help_text='Default points for notable achievements')),
                ('is_active', models.BooleanField(default=True, help_text='Whether this criteria set is currently active')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Ranking Criteria',
                'verbose_name_plural': 'Ranking Criteria',
                'db_table': 'teams_ranking_criteria',
                'ordering': ['-is_active', '-updated_at'],
            },
        ),
        migrations.CreateModel(
            name='Team',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Team name must be unique', max_length=100, unique=True)),
                ('tag', models.CharField(help_text='Team tag/abbreviation (2-10 characters)', max_length=10, unique=True)),
                ('description', models.TextField(blank=True, help_text='Brief team description', max_length=500)),
                ('logo', models.ImageField(blank=True, help_text='Team logo image', null=True, upload_to=apps.teams.models._legacy.team_logo_path)),
                ('name_ci', models.CharField(blank=True, db_index=True, max_length=255, null=True)),
                ('tag_ci', models.CharField(blank=True, db_index=True, max_length=255, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('game', models.CharField(blank=True, choices=[('valorant', 'Valorant'), ('cs2', 'Counter-Strike 2'), ('dota2', 'Dota 2'), ('mlbb', 'Mobile Legends: Bang Bang'), ('pubg', 'PUBG Mobile'), ('freefire', 'Free Fire'), ('efootball', 'eFootball'), ('fc26', 'FC 26'), ('codm', 'Call of Duty Mobile'), ('csgo', 'Counter-Strike: Global Offensive')], default='', help_text='Which game this team competes in (blank for legacy teams).', max_length=20)),
                ('banner_image', models.ImageField(blank=True, null=True, upload_to='teams/banners/')),
                ('roster_image', models.ImageField(blank=True, null=True, upload_to='teams/rosters/')),
                ('region', models.CharField(blank=True, default='', max_length=48)),
                ('twitter', models.URLField(blank=True, default='')),
                ('instagram', models.URLField(blank=True, default='')),
                ('discord', models.URLField(blank=True, default='')),
                ('youtube', models.URLField(blank=True, default='')),
                ('twitch', models.URLField(blank=True, default='')),
                ('linktree', models.URLField(blank=True, default='')),
                ('slug', models.SlugField(blank=True, default='', help_text='Unique per game', max_length=64)),
                ('followers_count', models.PositiveIntegerField(default=0, help_text='Number of followers')),
                ('posts_count', models.PositiveIntegerField(default=0, help_text='Number of posts')),
                ('is_verified', models.BooleanField(default=False, help_text='Verified team badge')),
                ('is_featured', models.BooleanField(default=False, help_text='Featured team status')),
                ('allow_posts', models.BooleanField(default=True, help_text='Allow team members to post')),
                ('allow_followers', models.BooleanField(default=True, help_text='Allow users to follow this team')),
                ('posts_require_approval', models.BooleanField(default=False, help_text='Posts need captain approval')),
                ('is_active', models.BooleanField(default=True, help_text='Team is active and visible')),
                ('is_public', models.BooleanField(default=True, help_text='Team profile is public')),
                ('allow_join_requests', models.BooleanField(default=True, help_text='Allow users to request to join')),
                ('show_statistics', models.BooleanField(default=True, help_text='Show team statistics publicly')),
                ('primary_game', models.CharField(blank=True, default='', help_text='Primary game for team', max_length=20)),
                ('banner', models.ImageField(blank=True, help_text='Team banner image', null=True, upload_to='teams/banners/')),
                ('total_points', models.PositiveIntegerField(default=0, help_text='Total ranking points earned by this team (read-only, calculated automatically)')),
                ('adjust_points', models.IntegerField(default=0, help_text='Manual points adjustment (can be positive or negative)')),
                ('hero_template', models.CharField(choices=[('default', 'Classic'), ('centered', 'Centered Focus'), ('split', 'Split Screen'), ('minimal', 'Minimal Modern'), ('championship', 'Championship')], default='default', help_text='Hero section template style', max_length=20)),
                ('tagline', models.CharField(blank=True, default='', help_text='Team tagline or motto', max_length=200)),
                ('is_recruiting', models.BooleanField(default=False, help_text='Display recruiting badge')),
                ('show_roster_publicly', models.BooleanField(default=True, help_text='Allow non-members to view team roster')),
                ('show_statistics_publicly', models.BooleanField(default=True, help_text='Display team statistics to public')),
                ('show_tournaments_publicly', models.BooleanField(default=True, help_text='Show tournament history publicly')),
                ('show_achievements_publicly', models.BooleanField(default=True, help_text='Display achievements publicly')),
                ('members_can_post', models.BooleanField(default=True, help_text='Allow team members to create posts')),
                ('require_post_approval', models.BooleanField(default=False, help_text='Captain must approve member posts')),
                ('members_can_invite', models.BooleanField(default=False, help_text='Allow members to send team invites')),
                ('auto_accept_join_requests', models.BooleanField(default=False, help_text='Automatically accept join requests')),
                ('require_application_message', models.BooleanField(default=True, help_text='Require message with join requests')),
                ('min_rank_requirement', models.CharField(blank=True, default='', help_text='Minimum rank/level required to join', max_length=50)),
                ('hide_member_stats', models.BooleanField(default=False, help_text='Hide individual member statistics')),
                ('hide_social_links', models.BooleanField(default=False, help_text='Hide social media links from public')),
                ('show_captain_only', models.BooleanField(default=False, help_text='Only show captain, hide other members')),
                ('captain', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='captain_teams', to='user_profile.userprofile')),
            ],
            options={
                'db_table': 'teams_team',
                'ordering': ('name',),
            },
        ),
        migrations.CreateModel(
            name='CODMTeam',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Team name', max_length=100)),
                ('tag', models.CharField(help_text='Team tag/abbreviation (2-10 characters)', max_length=10)),
                ('slug', models.SlugField(blank=True, help_text='URL-friendly identifier (auto-generated)', max_length=64)),
                ('description', models.TextField(blank=True, help_text='Brief team description', max_length=500)),
                ('logo', models.ImageField(blank=True, help_text='Team logo image', null=True, upload_to='teams/logos/')),
                ('banner_image', models.ImageField(blank=True, help_text='Team banner image', null=True, upload_to='teams/banners/')),
                ('region', models.CharField(blank=True, help_text='Geographic region (e.g., NA, EU, SEA)', max_length=100)),
                ('country', models.CharField(blank=True, help_text='Country', max_length=100)),
                ('twitter', models.URLField(blank=True, help_text='Twitter profile URL')),
                ('instagram', models.URLField(blank=True, help_text='Instagram profile URL')),
                ('discord', models.URLField(blank=True, help_text='Discord server URL')),
                ('youtube', models.URLField(blank=True, help_text='YouTube channel URL')),
                ('twitch', models.URLField(blank=True, help_text='Twitch channel URL')),
                ('website', models.URLField(blank=True, help_text='Official website URL')),
                ('is_active', models.BooleanField(default=True, help_text='Team is active and visible')),
                ('is_public', models.BooleanField(default=True, help_text='Team profile is publicly visible')),
                ('is_verified', models.BooleanField(default=False, help_text='Officially verified team')),
                ('is_recruiting', models.BooleanField(default=True, help_text='Team is actively recruiting')),
                ('allow_join_requests', models.BooleanField(default=True, help_text='Allow users to request to join')),
                ('require_approval', models.BooleanField(default=True, help_text='Captain must approve new members')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('game', models.CharField(default='codm', editable=False, max_length=20)),
                ('captain', models.ForeignKey(blank=True, help_text='Team captain (must be a team member)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_captain_teams', to='user_profile.userprofile')),
            ],
            options={
                'verbose_name': 'COD Mobile Team',
                'verbose_name_plural': 'COD Mobile Teams',
                'db_table': 'teams_codm_team',
            },
        ),
        migrations.CreateModel(
            name='CODMPlayerMembership',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role', models.CharField(help_text='Player role (e.g., Duelist, IGL, Carry)', max_length=50)),
                ('secondary_role', models.CharField(blank=True, help_text='Secondary/backup role', max_length=50)),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('SUBSTITUTE', 'Substitute'), ('INACTIVE', 'Inactive'), ('PENDING', 'Pending'), ('REMOVED', 'Removed')], default='PENDING', help_text='Membership status', max_length=20)),
                ('is_captain', models.BooleanField(default=False, help_text='Is team captain')),
                ('is_starter', models.BooleanField(default=True, help_text='Starting lineup member')),
                ('in_game_name', models.CharField(blank=True, help_text='In-game name (IGN)', max_length=50)),
                ('jersey_number', models.PositiveIntegerField(blank=True, help_text='Jersey/player number', null=True)),
                ('games_played', models.PositiveIntegerField(default=0, help_text='Games played with team')),
                ('joined_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('left_at', models.DateTimeField(blank=True, null=True)),
                ('game_specific_data', models.JSONField(blank=True, default=dict, help_text='Additional game-specific player data')),
                ('rank', models.CharField(blank=True, help_text='Ranked mode tier', max_length=50)),
                ('profile', models.ForeignKey(help_text='Player profile', on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_memberships', to='user_profile.userprofile')),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='codm_memberships', to='teams.codmteam')),
            ],
            options={
                'db_table': 'teams_codm_membership',
            },
        ),
        migrations.CreateModel(
            name='CS2Team',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Team name', max_length=100)),
                ('tag', models.CharField(help_text='Team tag/abbreviation (2-10 characters)', max_length=10)),
                ('slug', models.SlugField(blank=True, help_text='URL-friendly identifier (auto-generated)', max_length=64)),
                ('description', models.TextField(blank=True, help_text='Brief team description', max_length=500)),
                ('logo', models.ImageField(blank=True, help_text='Team logo image', null=True, upload_to='teams/logos/')),
                ('banner_image', models.ImageField(blank=True, help_text='Team banner image', null=True, upload_to='teams/banners/')),
                ('region', models.CharField(blank=True, help_text='Geographic region (e.g., NA, EU, SEA)', max_length=100)),
                ('country', models.CharField(blank=True, help_text='Country', max_length=100)),
                ('twitter', models.URLField(blank=True, help_text='Twitter profile URL')),
                ('instagram', models.URLField(blank=True, help_text='Instagram profile URL')),
                ('discord', models.URLField(blank=True, help_text='Discord server URL')),
                ('youtube', models.URLField(blank=True, help_text='YouTube channel URL')),
                ('twitch', models.URLField(blank=True, help_text='Twitch channel URL')),
                ('website', models.URLField(blank=True, help_text='Official website URL')),
                ('is_active', models.BooleanField(default=True, help_text='Team is active and visible')),
                ('is_public', models.BooleanField(default=True, help_text='Team profile is publicly visible')),
                ('is_verified', models.BooleanField(default=False, help_text='Officially verified team')),
                ('is_recruiting', models.BooleanField(default=True, help_text='Team is actively recruiting')),
                ('allow_join_requests', models.BooleanField(default=True, help_text='Allow users to request to join')),
                ('require_approval', models.BooleanField(default=True, help_text='Captain must approve new members')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('game', models.CharField(default='cs2', editable=False, max_length=20)),
                ('captain', models.ForeignKey(blank=True, help_text='Team captain (must be a team member)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_captain_teams', to='user_profile.userprofile')),
            ],
            options={
                'verbose_name': 'CS2 Team',
                'verbose_name_plural': 'CS2 Teams',
                'db_table': 'teams_cs2_team',
            },
        ),
        migrations.CreateModel(
            name='CS2PlayerMembership',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role', models.CharField(help_text='Player role (e.g., Duelist, IGL, Carry)', max_length=50)),
                ('secondary_role', models.CharField(blank=True, help_text='Secondary/backup role', max_length=50)),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('SUBSTITUTE', 'Substitute'), ('INACTIVE', 'Inactive'), ('PENDING', 'Pending'), ('REMOVED', 'Removed')], default='PENDING', help_text='Membership status', max_length=20)),
                ('is_captain', models.BooleanField(default=False, help_text='Is team captain')),
                ('is_starter', models.BooleanField(default=True, help_text='Starting lineup member')),
                ('in_game_name', models.CharField(blank=True, help_text='In-game name (IGN)', max_length=50)),
                ('jersey_number', models.PositiveIntegerField(blank=True, help_text='Jersey/player number', null=True)),
                ('games_played', models.PositiveIntegerField(default=0, help_text='Games played with team')),
                ('joined_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('left_at', models.DateTimeField(blank=True, null=True)),
                ('game_specific_data', models.JSONField(blank=True, default=dict, help_text='Additional game-specific player data')),
                ('faceit_elo', models.PositiveIntegerField(blank=True, help_text='FaceIT ELO rating', null=True)),
                ('profile', models.ForeignKey(help_text='Player profile', on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_memberships', to='user_profile.userprofile')),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cs2_memberships', to='teams.cs2team')),
            ],
            options={
                'db_table': 'teams_cs2_membership',
            },
        ),
        migrations.CreateModel(
            name='Dota2Team',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Team name', max_length=100)),
                ('tag', models.CharField(help_text='Team tag/abbreviation (2-10 characters)', max_length=10)),
                ('slug', models.SlugField(blank=True, help_text='URL-friendly identifier (auto-generated)', max_length=64)),
                ('description', models.TextField(blank=True, help_text='Brief team description', max_length=500)),
                ('logo', models.ImageField(blank=True, help_text='Team logo image', null=True, upload_to='teams/logos/')),
                ('banner_image', models.ImageField(blank=True, help_text='Team banner image', null=True, upload_to='teams/banners/')),
                ('region', models.CharField(blank=True, help_text='Geographic region (e.g., NA, EU, SEA)', max_length=100)),
                ('country', models.CharField(blank=True, help_text='Country', max_length=100)),
                ('twitter', models.URLField(blank=True, help_text='Twitter profile URL')),
                ('instagram', models.URLField(blank=True, help_text='Instagram profile URL')),
                ('discord', models.URLField(blank=True, help_text='Discord server URL')),
                ('youtube', models.URLField(blank=True, help_text='YouTube channel URL')),
                ('twitch', models.URLField(blank=True, help_text='Twitch channel URL')),
                ('website', models.URLField(blank=True, help_text='Official website URL')),
                ('is_active', models.BooleanField(default=True, help_text='Team is active and visible')),
                ('is_public', models.BooleanField(default=True, help_text='Team profile is publicly visible')),
                ('is_verified', models.BooleanField(default=False, help_text='Officially verified team')),
                ('is_recruiting', models.BooleanField(default=True, help_text='Team is actively recruiting')),
                ('allow_join_requests', models.BooleanField(default=True, help_text='Allow users to request to join')),
                ('require_approval', models.BooleanField(default=True, help_text='Captain must approve new members')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('game', models.CharField(default='dota2', editable=False, max_length=20)),
                ('captain', models.ForeignKey(blank=True, help_text='Team captain (must be a team member)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_captain_teams', to='user_profile.userprofile')),
            ],
            options={
                'verbose_name': 'Dota 2 Team',
                'verbose_name_plural': 'Dota 2 Teams',
                'db_table': 'teams_dota2_team',
            },
        ),
        migrations.CreateModel(
            name='Dota2PlayerMembership',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role', models.CharField(help_text='Player role (e.g., Duelist, IGL, Carry)', max_length=50)),
                ('secondary_role', models.CharField(blank=True, help_text='Secondary/backup role', max_length=50)),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('SUBSTITUTE', 'Substitute'), ('INACTIVE', 'Inactive'), ('PENDING', 'Pending'), ('REMOVED', 'Removed')], default='PENDING', help_text='Membership status', max_length=20)),
                ('is_captain', models.BooleanField(default=False, help_text='Is team captain')),
                ('is_starter', models.BooleanField(default=True, help_text='Starting lineup member')),
                ('in_game_name', models.CharField(blank=True, help_text='In-game name (IGN)', max_length=50)),
                ('jersey_number', models.PositiveIntegerField(blank=True, help_text='Jersey/player number', null=True)),
                ('games_played', models.PositiveIntegerField(default=0, help_text='Games played with team')),
                ('joined_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('left_at', models.DateTimeField(blank=True, null=True)),
                ('game_specific_data', models.JSONField(blank=True, default=dict, help_text='Additional game-specific player data')),
                ('mmr', models.PositiveIntegerField(blank=True, help_text='Matchmaking rating', null=True)),
                ('profile', models.ForeignKey(help_text='Player profile', on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_memberships', to='user_profile.userprofile')),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='dota2_memberships', to='teams.dota2team')),
            ],
            options={
                'db_table': 'teams_dota2_membership',
            },
        ),
        migrations.CreateModel(
            name='EFootballTeam',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Team name', max_length=100)),
                ('tag', models.CharField(help_text='Team tag/abbreviation (2-10 characters)', max_length=10)),
                ('slug', models.SlugField(blank=True, help_text='URL-friendly identifier (auto-generated)', max_length=64)),
                ('description', models.TextField(blank=True, help_text='Brief team description', max_length=500)),
                ('logo', models.ImageField(blank=True, help_text='Team logo image', null=True, upload_to='teams/logos/')),
                ('banner_image', models.ImageField(blank=True, help_text='Team banner image', null=True, upload_to='teams/banners/')),
                ('region', models.CharField(blank=True, help_text='Geographic region (e.g., NA, EU, SEA)', max_length=100)),
                ('country', models.CharField(blank=True, help_text='Country', max_length=100)),
                ('twitter', models.URLField(blank=True, help_text='Twitter profile URL')),
                ('instagram', models.URLField(blank=True, help_text='Instagram profile URL')),
                ('discord', models.URLField(blank=True, help_text='Discord server URL')),
                ('youtube', models.URLField(blank=True, help_text='YouTube channel URL')),
                ('twitch', models.URLField(blank=True, help_text='Twitch channel URL')),
                ('website', models.URLField(blank=True, help_text='Official website URL')),
                ('is_active', models.BooleanField(default=True, help_text='Team is active and visible')),
                ('is_public', models.BooleanField(default=True, help_text='Team profile is publicly visible')),
                ('is_verified', models.BooleanField(default=False, help_text='Officially verified team')),
                ('is_recruiting', models.BooleanField(default=True, help_text='Team is actively recruiting')),
                ('allow_join_requests', models.BooleanField(default=True, help_text='Allow users to request to join')),
                ('require_approval', models.BooleanField(default=True, help_text='Captain must approve new members')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('game', models.CharField(default='efootball', editable=False, max_length=20)),
                ('captain', models.ForeignKey(blank=True, help_text='Team captain (must be a team member)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_captain_teams', to='user_profile.userprofile')),
            ],
            options={
                'verbose_name': 'eFootball Team',
                'verbose_name_plural': 'eFootball Teams',
                'db_table': 'teams_efootball_team',
            },
        ),
        migrations.CreateModel(
            name='EFootballPlayerMembership',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role', models.CharField(help_text='Player role (e.g., Duelist, IGL, Carry)', max_length=50)),
                ('secondary_role', models.CharField(blank=True, help_text='Secondary/backup role', max_length=50)),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('SUBSTITUTE', 'Substitute'), ('INACTIVE', 'Inactive'), ('PENDING', 'Pending'), ('REMOVED', 'Removed')], default='PENDING', help_text='Membership status', max_length=20)),
                ('is_captain', models.BooleanField(default=False, help_text='Is team captain')),
                ('is_starter', models.BooleanField(default=True, help_text='Starting lineup member')),
                ('in_game_name', models.CharField(blank=True, help_text='In-game name (IGN)', max_length=50)),
                ('jersey_number', models.PositiveIntegerField(blank=True, help_text='Jersey/player number', null=True)),
                ('games_played', models.PositiveIntegerField(default=0, help_text='Games played with team')),
                ('joined_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('left_at', models.DateTimeField(blank=True, null=True)),
                ('game_specific_data', models.JSONField(blank=True, default=dict, help_text='Additional game-specific player data')),
                ('platform', models.CharField(blank=True, help_text='Gaming platform (PC, PS5, Xbox, Mobile)', max_length=50)),
                ('profile', models.ForeignKey(help_text='Player profile', on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_memberships', to='user_profile.userprofile')),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='efootball_memberships', to='teams.efootballteam')),
            ],
            options={
                'db_table': 'teams_efootball_membership',
            },
        ),
        migrations.CreateModel(
            name='EfootballTeamPreset',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=120)),
                ('team_name', models.CharField(blank=True, default='', max_length=120)),
                ('team_logo', models.ImageField(blank=True, null=True, upload_to='presets/efootball/team_logos/')),
                ('captain_name', models.CharField(blank=True, default='', max_length=120)),
                ('captain_ign', models.CharField(blank=True, default='', max_length=120)),
                ('mate_name', models.CharField(blank=True, default='', max_length=120)),
                ('mate_ign', models.CharField(blank=True, default='', max_length=120)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('profile', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='efootball_presets', to='user_profile.userprofile')),
            ],
            options={
                'verbose_name': 'eFootball Team Preset',
                'verbose_name_plural': 'eFootball Team Presets',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='FC26Team',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Team name', max_length=100)),
                ('tag', models.CharField(help_text='Team tag/abbreviation (2-10 characters)', max_length=10)),
                ('slug', models.SlugField(blank=True, help_text='URL-friendly identifier (auto-generated)', max_length=64)),
                ('description', models.TextField(blank=True, help_text='Brief team description', max_length=500)),
                ('logo', models.ImageField(blank=True, help_text='Team logo image', null=True, upload_to='teams/logos/')),
                ('banner_image', models.ImageField(blank=True, help_text='Team banner image', null=True, upload_to='teams/banners/')),
                ('region', models.CharField(blank=True, help_text='Geographic region (e.g., NA, EU, SEA)', max_length=100)),
                ('country', models.CharField(blank=True, help_text='Country', max_length=100)),
                ('twitter', models.URLField(blank=True, help_text='Twitter profile URL')),
                ('instagram', models.URLField(blank=True, help_text='Instagram profile URL')),
                ('discord', models.URLField(blank=True, help_text='Discord server URL')),
                ('youtube', models.URLField(blank=True, help_text='YouTube channel URL')),
                ('twitch', models.URLField(blank=True, help_text='Twitch channel URL')),
                ('website', models.URLField(blank=True, help_text='Official website URL')),
                ('is_active', models.BooleanField(default=True, help_text='Team is active and visible')),
                ('is_public', models.BooleanField(default=True, help_text='Team profile is publicly visible')),
                ('is_verified', models.BooleanField(default=False, help_text='Officially verified team')),
                ('is_recruiting', models.BooleanField(default=True, help_text='Team is actively recruiting')),
                ('allow_join_requests', models.BooleanField(default=True, help_text='Allow users to request to join')),
                ('require_approval', models.BooleanField(default=True, help_text='Captain must approve new members')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('game', models.CharField(default='fc26', editable=False, max_length=20)),
                ('captain', models.ForeignKey(blank=True, help_text='Team captain (must be a team member)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_captain_teams', to='user_profile.userprofile')),
            ],
            options={
                'verbose_name': 'FC 26 Team',
                'verbose_name_plural': 'FC 26 Teams',
                'db_table': 'teams_fc26_team',
            },
        ),
        migrations.CreateModel(
            name='FC26PlayerMembership',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role', models.CharField(help_text='Player role (e.g., Duelist, IGL, Carry)', max_length=50)),
                ('secondary_role', models.CharField(blank=True, help_text='Secondary/backup role', max_length=50)),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('SUBSTITUTE', 'Substitute'), ('INACTIVE', 'Inactive'), ('PENDING', 'Pending'), ('REMOVED', 'Removed')], default='PENDING', help_text='Membership status', max_length=20)),
                ('is_captain', models.BooleanField(default=False, help_text='Is team captain')),
                ('is_starter', models.BooleanField(default=True, help_text='Starting lineup member')),
                ('in_game_name', models.CharField(blank=True, help_text='In-game name (IGN)', max_length=50)),
                ('jersey_number', models.PositiveIntegerField(blank=True, help_text='Jersey/player number', null=True)),
                ('games_played', models.PositiveIntegerField(default=0, help_text='Games played with team')),
                ('joined_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('left_at', models.DateTimeField(blank=True, null=True)),
                ('game_specific_data', models.JSONField(blank=True, default=dict, help_text='Additional game-specific player data')),
                ('platform', models.CharField(blank=True, help_text='Gaming platform', max_length=50)),
                ('profile', models.ForeignKey(help_text='Player profile', on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_memberships', to='user_profile.userprofile')),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='fc26_memberships', to='teams.fc26team')),
            ],
            options={
                'db_table': 'teams_fc26_membership',
            },
        ),
        migrations.CreateModel(
            name='FreeFireTeam',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Team name', max_length=100)),
                ('tag', models.CharField(help_text='Team tag/abbreviation (2-10 characters)', max_length=10)),
                ('slug', models.SlugField(blank=True, help_text='URL-friendly identifier (auto-generated)', max_length=64)),
                ('description', models.TextField(blank=True, help_text='Brief team description', max_length=500)),
                ('logo', models.ImageField(blank=True, help_text='Team logo image', null=True, upload_to='teams/logos/')),
                ('banner_image', models.ImageField(blank=True, help_text='Team banner image', null=True, upload_to='teams/banners/')),
                ('region', models.CharField(blank=True, help_text='Geographic region (e.g., NA, EU, SEA)', max_length=100)),
                ('country', models.CharField(blank=True, help_text='Country', max_length=100)),
                ('twitter', models.URLField(blank=True, help_text='Twitter profile URL')),
                ('instagram', models.URLField(blank=True, help_text='Instagram profile URL')),
                ('discord', models.URLField(blank=True, help_text='Discord server URL')),
                ('youtube', models.URLField(blank=True, help_text='YouTube channel URL')),
                ('twitch', models.URLField(blank=True, help_text='Twitch channel URL')),
                ('website', models.URLField(blank=True, help_text='Official website URL')),
                ('is_active', models.BooleanField(default=True, help_text='Team is active and visible')),
                ('is_public', models.BooleanField(default=True, help_text='Team profile is publicly visible')),
                ('is_verified', models.BooleanField(default=False, help_text='Officially verified team')),
                ('is_recruiting', models.BooleanField(default=True, help_text='Team is actively recruiting')),
                ('allow_join_requests', models.BooleanField(default=True, help_text='Allow users to request to join')),
                ('require_approval', models.BooleanField(default=True, help_text='Captain must approve new members')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('game', models.CharField(default='freefire', editable=False, max_length=20)),
                ('captain', models.ForeignKey(blank=True, help_text='Team captain (must be a team member)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_captain_teams', to='user_profile.userprofile')),
            ],
            options={
                'verbose_name': 'Free Fire Team',
                'verbose_name_plural': 'Free Fire Teams',
                'db_table': 'teams_freefire_team',
            },
        ),
        migrations.CreateModel(
            name='FreeFirePlayerMembership',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role', models.CharField(help_text='Player role (e.g., Duelist, IGL, Carry)', max_length=50)),
                ('secondary_role', models.CharField(blank=True, help_text='Secondary/backup role', max_length=50)),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('SUBSTITUTE', 'Substitute'), ('INACTIVE', 'Inactive'), ('PENDING', 'Pending'), ('REMOVED', 'Removed')], default='PENDING', help_text='Membership status', max_length=20)),
                ('is_captain', models.BooleanField(default=False, help_text='Is team captain')),
                ('is_starter', models.BooleanField(default=True, help_text='Starting lineup member')),
                ('in_game_name', models.CharField(blank=True, help_text='In-game name (IGN)', max_length=50)),
                ('jersey_number', models.PositiveIntegerField(blank=True, help_text='Jersey/player number', null=True)),
                ('games_played', models.PositiveIntegerField(default=0, help_text='Games played with team')),
                ('joined_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('left_at', models.DateTimeField(blank=True, null=True)),
                ('game_specific_data', models.JSONField(blank=True, default=dict, help_text='Additional game-specific player data')),
                ('profile', models.ForeignKey(help_text='Player profile', on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_memberships', to='user_profile.userprofile')),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='freefire_memberships', to='teams.freefireteam')),
            ],
            options={
                'db_table': 'teams_freefire_membership',
            },
        ),
        migrations.CreateModel(
            name='MatchParticipation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role_played', models.CharField(help_text='Role/position played in this match', max_length=50)),
                ('was_starter', models.BooleanField(default=True, help_text='Whether player started or was substitute')),
                ('was_mvp', models.BooleanField(default=False, help_text='Whether player was awarded MVP for this match')),
                ('performance_score', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Individual performance score for this match', max_digits=6)),
                ('game_specific_performance', models.JSONField(default=dict, help_text='Game-specific performance metrics (kills, deaths, assists, etc.)')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('player', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='match_participation_records', to='user_profile.userprofile')),
            ],
            options={
                'verbose_name': 'Match Participation',
                'verbose_name_plural': 'Match Participations',
                'db_table': 'teams_analytics_match_participation',
            },
        ),
        migrations.CreateModel(
            name='MatchRecord',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tournament_id', models.IntegerField(blank=True, db_index=True, help_text='Legacy tournament ID - Tournament this match was part of (if any)', null=True)),
                ('opponent_name', models.CharField(help_text='Name of the opponent team', max_length=200)),
                ('match_date', models.DateTimeField(help_text='When the match was played')),
                ('game', models.CharField(help_text='Game played', max_length=50)),
                ('result', models.CharField(choices=[('win', 'Win'), ('loss', 'Loss'), ('draw', 'Draw')], help_text='Match outcome', max_length=10)),
                ('score', models.CharField(help_text="Match score (e.g., '13-7', '2-1', '3-0')", max_length=50)),
                ('team_score', models.PositiveIntegerField(default=0, help_text="Our team's score")),
                ('opponent_score', models.PositiveIntegerField(default=0, help_text="Opponent's score")),
                ('map_played', models.CharField(blank=True, help_text='Map or arena where match was played', max_length=100)),
                ('duration_minutes', models.PositiveIntegerField(blank=True, help_text='Match duration in minutes', null=True)),
                ('points_earned', models.IntegerField(default=0, help_text='Points earned/lost from this match')),
                ('game_specific_data', models.JSONField(default=dict, help_text='Additional game-specific match data')),
                ('notes', models.TextField(blank=True, help_text='Match notes or highlights')),
                ('replay_url', models.URLField(blank=True, help_text='URL to match replay or VOD')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('participants', models.ManyToManyField(related_name='match_participations', through='teams.MatchParticipation', to='user_profile.userprofile')),
                ('opponent_team', models.ForeignKey(blank=True, help_text='Opponent team (if in our system)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='matches_against', to='teams.team')),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='match_records', to='teams.team')),
            ],
            options={
                'verbose_name': 'Match Record',
                'verbose_name_plural': 'Match Records',
                'db_table': 'teams_analytics_match_record',
                'ordering': ['-match_date'],
            },
        ),
        migrations.AddField(
            model_name='matchparticipation',
            name='match',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='player_participations', to='teams.matchrecord'),
        ),
        migrations.CreateModel(
            name='MLBBTeam',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Team name', max_length=100)),
                ('tag', models.CharField(help_text='Team tag/abbreviation (2-10 characters)', max_length=10)),
                ('slug', models.SlugField(blank=True, help_text='URL-friendly identifier (auto-generated)', max_length=64)),
                ('description', models.TextField(blank=True, help_text='Brief team description', max_length=500)),
                ('logo', models.ImageField(blank=True, help_text='Team logo image', null=True, upload_to='teams/logos/')),
                ('banner_image', models.ImageField(blank=True, help_text='Team banner image', null=True, upload_to='teams/banners/')),
                ('region', models.CharField(blank=True, help_text='Geographic region (e.g., NA, EU, SEA)', max_length=100)),
                ('country', models.CharField(blank=True, help_text='Country', max_length=100)),
                ('twitter', models.URLField(blank=True, help_text='Twitter profile URL')),
                ('instagram', models.URLField(blank=True, help_text='Instagram profile URL')),
                ('discord', models.URLField(blank=True, help_text='Discord server URL')),
                ('youtube', models.URLField(blank=True, help_text='YouTube channel URL')),
                ('twitch', models.URLField(blank=True, help_text='Twitch channel URL')),
                ('website', models.URLField(blank=True, help_text='Official website URL')),
                ('is_active', models.BooleanField(default=True, help_text='Team is active and visible')),
                ('is_public', models.BooleanField(default=True, help_text='Team profile is publicly visible')),
                ('is_verified', models.BooleanField(default=False, help_text='Officially verified team')),
                ('is_recruiting', models.BooleanField(default=True, help_text='Team is actively recruiting')),
                ('allow_join_requests', models.BooleanField(default=True, help_text='Allow users to request to join')),
                ('require_approval', models.BooleanField(default=True, help_text='Captain must approve new members')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('game', models.CharField(default='mlbb', editable=False, max_length=20)),
                ('captain', models.ForeignKey(blank=True, help_text='Team captain (must be a team member)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_captain_teams', to='user_profile.userprofile')),
            ],
            options={
                'verbose_name': 'MLBB Team',
                'verbose_name_plural': 'MLBB Teams',
                'db_table': 'teams_mlbb_team',
            },
        ),
        migrations.CreateModel(
            name='MLBBPlayerMembership',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role', models.CharField(help_text='Player role (e.g., Duelist, IGL, Carry)', max_length=50)),
                ('secondary_role', models.CharField(blank=True, help_text='Secondary/backup role', max_length=50)),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('SUBSTITUTE', 'Substitute'), ('INACTIVE', 'Inactive'), ('PENDING', 'Pending'), ('REMOVED', 'Removed')], default='PENDING', help_text='Membership status', max_length=20)),
                ('is_captain', models.BooleanField(default=False, help_text='Is team captain')),
                ('is_starter', models.BooleanField(default=True, help_text='Starting lineup member')),
                ('in_game_name', models.CharField(blank=True, help_text='In-game name (IGN)', max_length=50)),
                ('jersey_number', models.PositiveIntegerField(blank=True, help_text='Jersey/player number', null=True)),
                ('games_played', models.PositiveIntegerField(default=0, help_text='Games played with team')),
                ('joined_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('left_at', models.DateTimeField(blank=True, null=True)),
                ('game_specific_data', models.JSONField(blank=True, default=dict, help_text='Additional game-specific player data')),
                ('server', models.CharField(blank=True, help_text='Game server (e.g., Asia, NA)', max_length=50)),
                ('profile', models.ForeignKey(help_text='Player profile', on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_memberships', to='user_profile.userprofile')),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='mlbb_memberships', to='teams.mlbbteam')),
            ],
            options={
                'db_table': 'teams_mlbb_membership',
            },
        ),
        migrations.CreateModel(
            name='PUBGTeam',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Team name', max_length=100)),
                ('tag', models.CharField(help_text='Team tag/abbreviation (2-10 characters)', max_length=10)),
                ('slug', models.SlugField(blank=True, help_text='URL-friendly identifier (auto-generated)', max_length=64)),
                ('description', models.TextField(blank=True, help_text='Brief team description', max_length=500)),
                ('logo', models.ImageField(blank=True, help_text='Team logo image', null=True, upload_to='teams/logos/')),
                ('banner_image', models.ImageField(blank=True, help_text='Team banner image', null=True, upload_to='teams/banners/')),
                ('region', models.CharField(blank=True, help_text='Geographic region (e.g., NA, EU, SEA)', max_length=100)),
                ('country', models.CharField(blank=True, help_text='Country', max_length=100)),
                ('twitter', models.URLField(blank=True, help_text='Twitter profile URL')),
                ('instagram', models.URLField(blank=True, help_text='Instagram profile URL')),
                ('discord', models.URLField(blank=True, help_text='Discord server URL')),
                ('youtube', models.URLField(blank=True, help_text='YouTube channel URL')),
                ('twitch', models.URLField(blank=True, help_text='Twitch channel URL')),
                ('website', models.URLField(blank=True, help_text='Official website URL')),
                ('is_active', models.BooleanField(default=True, help_text='Team is active and visible')),
                ('is_public', models.BooleanField(default=True, help_text='Team profile is publicly visible')),
                ('is_verified', models.BooleanField(default=False, help_text='Officially verified team')),
                ('is_recruiting', models.BooleanField(default=True, help_text='Team is actively recruiting')),
                ('allow_join_requests', models.BooleanField(default=True, help_text='Allow users to request to join')),
                ('require_approval', models.BooleanField(default=True, help_text='Captain must approve new members')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('game', models.CharField(default='pubg', editable=False, max_length=20)),
                ('captain', models.ForeignKey(blank=True, help_text='Team captain (must be a team member)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_captain_teams', to='user_profile.userprofile')),
            ],
            options={
                'verbose_name': 'PUBG Team',
                'verbose_name_plural': 'PUBG Teams',
                'db_table': 'teams_pubg_team',
            },
        ),
        migrations.CreateModel(
            name='PUBGPlayerMembership',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role', models.CharField(help_text='Player role (e.g., Duelist, IGL, Carry)', max_length=50)),
                ('secondary_role', models.CharField(blank=True, help_text='Secondary/backup role', max_length=50)),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('SUBSTITUTE', 'Substitute'), ('INACTIVE', 'Inactive'), ('PENDING', 'Pending'), ('REMOVED', 'Removed')], default='PENDING', help_text='Membership status', max_length=20)),
                ('is_captain', models.BooleanField(default=False, help_text='Is team captain')),
                ('is_starter', models.BooleanField(default=True, help_text='Starting lineup member')),
                ('in_game_name', models.CharField(blank=True, help_text='In-game name (IGN)', max_length=50)),
                ('jersey_number', models.PositiveIntegerField(blank=True, help_text='Jersey/player number', null=True)),
                ('games_played', models.PositiveIntegerField(default=0, help_text='Games played with team')),
                ('joined_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('left_at', models.DateTimeField(blank=True, null=True)),
                ('game_specific_data', models.JSONField(blank=True, default=dict, help_text='Additional game-specific player data')),
                ('tier', models.CharField(blank=True, help_text='Player tier/rank', max_length=50)),
                ('profile', models.ForeignKey(help_text='Player profile', on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_memberships', to='user_profile.userprofile')),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='pubg_memberships', to='teams.pubgteam')),
            ],
            options={
                'db_table': 'teams_pubg_membership',
            },
        ),
        migrations.CreateModel(
            name='TeamRankingBreakdown',
            fields=[
                ('team', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, primary_key=True, related_name='ranking_breakdown', serialize=False, to='teams.team')),
                ('tournament_participation_points', models.PositiveIntegerField(default=0)),
                ('tournament_winner_points', models.PositiveIntegerField(default=0)),
                ('tournament_runner_up_points', models.PositiveIntegerField(default=0)),
                ('tournament_top_4_points', models.PositiveIntegerField(default=0)),
                ('member_count_points', models.PositiveIntegerField(default=0)),
                ('team_age_points', models.PositiveIntegerField(default=0)),
                ('achievement_points', models.PositiveIntegerField(default=0)),
                ('manual_adjustment_points', models.IntegerField(default=0)),
                ('calculated_total', models.PositiveIntegerField(default=0, help_text='Sum of all automatic point calculations')),
                ('final_total', models.PositiveIntegerField(default=0, help_text='Final total including manual adjustments')),
                ('last_calculated', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Team Ranking Breakdown',
                'verbose_name_plural': 'Team Ranking Breakdowns',
                'db_table': 'teams_ranking_breakdown',
            },
        ),
        migrations.CreateModel(
            name='PlayerStats',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('game', models.CharField(help_text='Game for which these stats apply', max_length=50)),
                ('tournaments_played', models.PositiveIntegerField(default=0, help_text='Total tournaments participated in')),
                ('matches_played', models.PositiveIntegerField(default=0, help_text='Total matches played')),
                ('matches_won', models.PositiveIntegerField(default=0, help_text='Matches won')),
                ('attendance_rate', models.DecimalField(decimal_places=2, default=Decimal('100.00'), help_text='Attendance percentage (0-100)', max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('mvp_count', models.PositiveIntegerField(default=0, help_text='Number of times awarded MVP')),
                ('contribution_score', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Overall contribution score', max_digits=6)),
                ('individual_rating', models.DecimalField(decimal_places=2, default=Decimal('1000.00'), help_text='Individual skill rating', max_digits=6)),
                ('game_specific_stats', models.JSONField(default=dict, help_text='Game-specific performance metrics (KDA, accuracy, etc.)')),
                ('last_active', models.DateTimeField(blank=True, help_text='Last time player was active in a match', null=True)),
                ('is_active', models.BooleanField(default=True, help_text='Whether player is currently active in the team')),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('player', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='player_statistics', to='user_profile.userprofile')),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='player_stats', to='teams.team')),
            ],
            options={
                'verbose_name': 'Player Analytics',
                'verbose_name_plural': 'Player Analytics',
                'db_table': 'teams_analytics_player_stats',
            },
        ),
        migrations.CreateModel(
            name='ChatTypingIndicator',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('started_typing_at', models.DateTimeField(auto_now=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='typing_indicators', to='user_profile.userprofile')),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='typing_indicators', to='teams.team')),
            ],
            options={
                'verbose_name': 'Chat Typing Indicator',
                'verbose_name_plural': 'Chat Typing Indicators',
                'db_table': 'teams_chat_typing',
            },
        ),
        migrations.CreateModel(
            name='TeamAchievement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(help_text='Tournament or event name', max_length=160)),
                ('placement', models.CharField(choices=[('WINNER', 'Winner'), ('RUNNER_UP', 'Runner-up'), ('TOP4', 'Top 4'), ('TOP8', 'Top 8'), ('PARTICIPANT', 'Participant')], default='PARTICIPANT', max_length=20)),
                ('year', models.PositiveIntegerField(blank=True, null=True)),
                ('notes', models.CharField(blank=True, default='', max_length=255)),
                ('tournament_id', models.IntegerField(blank=True, db_index=True, help_text='Legacy tournament ID (reference only)', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='achievements', to='teams.team')),
            ],
            options={
                'ordering': ['-year', 'title'],
            },
        ),
        migrations.CreateModel(
            name='TeamAnalytics',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('game', models.CharField(help_text='Game for which these stats apply', max_length=50)),
                ('total_matches', models.PositiveIntegerField(default=0, help_text='Total matches played')),
                ('matches_won', models.PositiveIntegerField(default=0, help_text='Total matches won')),
                ('matches_lost', models.PositiveIntegerField(default=0, help_text='Total matches lost')),
                ('matches_drawn', models.PositiveIntegerField(default=0, help_text='Total matches drawn')),
                ('win_rate', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Win percentage (0-100)', max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('total_points', models.PositiveIntegerField(default=0, help_text='Total points earned')),
                ('points_history', models.JSONField(default=list, help_text='Historical points data: [{date, points, change, reason}]')),
                ('tournaments_participated', models.PositiveIntegerField(default=0, help_text='Total tournaments entered')),
                ('tournaments_won', models.PositiveIntegerField(default=0, help_text='Total tournaments won')),
                ('game_specific_stats', models.JSONField(default=dict, help_text='Game-specific statistics (maps, heroes, etc.)')),
                ('current_streak', models.IntegerField(default=0, help_text='Current win/loss streak (positive = wins, negative = losses)')),
                ('best_win_streak', models.PositiveIntegerField(default=0, help_text='Best winning streak achieved')),
                ('last_match_date', models.DateTimeField(blank=True, help_text='Date of last match played', null=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='statistics', to='teams.team')),
            ],
            options={
                'verbose_name': 'Team Analytics',
                'verbose_name_plural': 'Team Analytics',
                'db_table': 'teams_analytics_team_stats',
            },
        ),
        migrations.CreateModel(
            name='TeamChatMessage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('message', models.TextField(help_text='Message content (supports markdown)')),
                ('attachment', models.FileField(blank=True, help_text='Optional file attachment', null=True, upload_to='team_chat/%Y/%m/%d/', validators=[django.core.validators.FileExtensionValidator(allowed_extensions=['jpg', 'jpeg', 'png', 'gif', 'pdf', 'doc', 'docx', 'txt'])])),
                ('attachment_type', models.CharField(blank=True, choices=[('image', 'Image'), ('document', 'Document'), ('other', 'Other')], help_text='Type of attachment', max_length=20)),
                ('is_edited', models.BooleanField(default=False, help_text='Whether message has been edited')),
                ('is_deleted', models.BooleanField(default=False, help_text='Soft delete flag')),
                ('is_pinned', models.BooleanField(default=False, help_text='Whether message is pinned to chat')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('edited_at', models.DateTimeField(blank=True, null=True)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('mentions', models.ManyToManyField(blank=True, help_text='Users mentioned in this message (@username)', related_name='mentioned_in_messages', to='user_profile.userprofile')),
                ('reply_to', models.ForeignKey(blank=True, help_text='Original message if this is a reply', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='replies', to='teams.teamchatmessage')),
                ('sender', models.ForeignKey(help_text='User who sent the message', on_delete=django.db.models.deletion.CASCADE, related_name='sent_messages', to='user_profile.userprofile')),
                ('team', models.ForeignKey(help_text='Team this message belongs to', on_delete=django.db.models.deletion.CASCADE, related_name='chat_messages', to='teams.team')),
            ],
            options={
                'verbose_name': 'Team Chat Message',
                'verbose_name_plural': 'Team Chat Messages',
                'db_table': 'teams_chat_message',
                'ordering': ['created_at'],
            },
        ),
        migrations.CreateModel(
            name='ChatReadReceipt',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('last_read_at', models.DateTimeField(auto_now=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='chat_read_receipts', to='user_profile.userprofile')),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='chat_read_receipts', to='teams.team')),
                ('last_read_message', models.ForeignKey(help_text='Last message read by this user in this team', on_delete=django.db.models.deletion.CASCADE, to='teams.teamchatmessage')),
            ],
            options={
                'verbose_name': 'Chat Read Receipt',
                'verbose_name_plural': 'Chat Read Receipts',
                'db_table': 'teams_chat_read_receipt',
            },
        ),
        migrations.CreateModel(
            name='ChatMessageReaction',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('emoji', models.CharField(help_text='Emoji or reaction identifier', max_length=50)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='chat_reactions', to='user_profile.userprofile')),
                ('message', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reactions', to='teams.teamchatmessage')),
            ],
            options={
                'verbose_name': 'Chat Message Reaction',
                'verbose_name_plural': 'Chat Message Reactions',
                'db_table': 'teams_chat_reaction',
            },
        ),
        migrations.CreateModel(
            name='TeamDiscussionPost',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('post_type', models.CharField(choices=[('general', 'General Discussion'), ('announcement', 'Announcement'), ('strategy', 'Strategy & Tactics'), ('recruitment', 'Recruitment'), ('question', 'Question'), ('feedback', 'Feedback'), ('event', 'Event')], default='general', help_text='Category/type of post', max_length=20)),
                ('title', models.CharField(help_text='Post title', max_length=200)),
                ('slug', models.SlugField(help_text='URL-friendly version of title', max_length=250)),
                ('content', models.TextField(help_text='Post content (supports markdown)')),
                ('is_public', models.BooleanField(default=False, help_text='Whether non-team members can view')),
                ('is_pinned', models.BooleanField(default=False, help_text='Pin to top of discussion board')),
                ('is_locked', models.BooleanField(default=False, help_text='Prevent new comments')),
                ('is_deleted', models.BooleanField(default=False, help_text='Soft delete flag')),
                ('views_count', models.PositiveIntegerField(default=0, help_text='Number of times viewed')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('last_activity_at', models.DateTimeField(auto_now_add=True, help_text='Last comment or update time')),
                ('author', models.ForeignKey(help_text='User who created the post', on_delete=django.db.models.deletion.CASCADE, related_name='discussion_posts', to='user_profile.userprofile')),
                ('likes', models.ManyToManyField(blank=True, help_text='Users who liked this post', related_name='liked_posts', to='user_profile.userprofile')),
                ('team', models.ForeignKey(help_text='Team this post belongs to', on_delete=django.db.models.deletion.CASCADE, related_name='discussion_posts', to='teams.team')),
            ],
            options={
                'verbose_name': 'Discussion Post',
                'verbose_name_plural': 'Discussion Posts',
                'db_table': 'teams_discussion_post',
                'ordering': ['-is_pinned', '-last_activity_at'],
            },
        ),
        migrations.CreateModel(
            name='TeamDiscussionComment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('content', models.TextField(help_text='Comment content (supports markdown)')),
                ('is_edited', models.BooleanField(default=False, help_text='Whether comment has been edited')),
                ('is_deleted', models.BooleanField(default=False, help_text='Soft delete flag')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('edited_at', models.DateTimeField(blank=True, null=True)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('author', models.ForeignKey(help_text='User who wrote the comment', on_delete=django.db.models.deletion.CASCADE, related_name='discussion_comments', to='user_profile.userprofile')),
                ('likes', models.ManyToManyField(blank=True, help_text='Users who liked this comment', related_name='liked_comments', to='user_profile.userprofile')),
                ('reply_to', models.ForeignKey(blank=True, help_text='Parent comment if this is a reply', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='replies', to='teams.teamdiscussioncomment')),
                ('post', models.ForeignKey(help_text='Post this comment belongs to', on_delete=django.db.models.deletion.CASCADE, related_name='comments', to='teams.teamdiscussionpost')),
            ],
            options={
                'verbose_name': 'Discussion Comment',
                'verbose_name_plural': 'Discussion Comments',
                'db_table': 'teams_discussion_comment',
                'ordering': ['created_at'],
            },
        ),
        migrations.CreateModel(
            name='DiscussionSubscription',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('notify_on_comment', models.BooleanField(default=True, help_text='Notify when new comments are added')),
                ('notify_on_like', models.BooleanField(default=False, help_text='Notify when post is liked')),
                ('subscribed_at', models.DateTimeField(auto_now_add=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='discussion_subscriptions', to='user_profile.userprofile')),
                ('post', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='subscriptions', to='teams.teamdiscussionpost')),
            ],
            options={
                'verbose_name': 'Discussion Subscription',
                'verbose_name_plural': 'Discussion Subscriptions',
                'db_table': 'teams_discussion_subscription',
            },
        ),
        migrations.CreateModel(
            name='DiscussionNotification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('notification_type', models.CharField(choices=[('new_comment', 'New Comment'), ('new_reply', 'New Reply to Your Comment'), ('post_liked', 'Post Liked'), ('comment_liked', 'Comment Liked'), ('post_pinned', 'Post Pinned'), ('mentioned', 'Mentioned in Post/Comment')], max_length=20)),
                ('is_read', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('read_at', models.DateTimeField(blank=True, null=True)),
                ('actor', models.ForeignKey(help_text='User who triggered the notification', on_delete=django.db.models.deletion.CASCADE, related_name='discussion_actions', to='user_profile.userprofile')),
                ('recipient', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='discussion_notifications', to='user_profile.userprofile')),
                ('comment', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='notifications', to='teams.teamdiscussioncomment')),
                ('post', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notifications', to='teams.teamdiscussionpost')),
            ],
            options={
                'verbose_name': 'Discussion Notification',
                'verbose_name_plural': 'Discussion Notifications',
                'db_table': 'teams_discussion_notification',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TeamFollower',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('notify_posts', models.BooleanField(default=True)),
                ('notify_matches', models.BooleanField(default=True)),
                ('notify_achievements', models.BooleanField(default=False)),
                ('followed_at', models.DateTimeField(auto_now_add=True)),
                ('follower', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='following_teams', to='user_profile.userprofile')),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='followers', to='teams.team')),
            ],
        ),
        migrations.CreateModel(
            name='TeamInvite',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('invited_email', models.EmailField(blank=True, max_length=254)),
                ('role', models.CharField(choices=[('OWNER', 'Team Owner'), ('MANAGER', 'Manager'), ('COACH', 'Coach'), ('PLAYER', 'Player'), ('SUBSTITUTE', 'Substitute'), ('CAPTAIN', 'Captain (Legacy)'), ('SUB', 'Substitute (Legacy)')], default='PLAYER', max_length=16)),
                ('token', models.CharField(default=uuid.uuid4, editable=False, max_length=36, unique=True)),
                ('status', models.CharField(choices=[('PENDING', 'Pending'), ('ACCEPTED', 'Accepted'), ('DECLINED', 'Declined'), ('EXPIRED', 'Expired'), ('CANCELLED', 'Cancelled')], default='PENDING', max_length=16)),
                ('expires_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('invited_user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='team_invites', to='user_profile.userprofile')),
                ('inviter', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='sent_team_invites', to='user_profile.userprofile')),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='invites', to='teams.team')),
            ],
            options={
                'ordering': ('-created_at',),
            },
        ),
        migrations.CreateModel(
            name='TeamMembership',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role', models.CharField(choices=[('OWNER', 'Team Owner'), ('MANAGER', 'Manager'), ('COACH', 'Coach'), ('PLAYER', 'Player'), ('SUBSTITUTE', 'Substitute'), ('CAPTAIN', 'Captain (Legacy)'), ('SUB', 'Substitute (Legacy)')], default='PLAYER', max_length=16)),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('PENDING', 'Pending'), ('REMOVED', 'Removed')], default='ACTIVE', max_length=16)),
                ('joined_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('player_role', models.CharField(blank=True, default='', help_text='In-game tactical role (e.g., Duelist, IGL, AWPer). Game-specific.', max_length=50, verbose_name='In-Game Role')),
                ('is_captain', models.BooleanField(default=False, help_text='In-game leader badge. Can only be true for PLAYER or SUBSTITUTE roles.', verbose_name='Captain Title')),
                ('can_manage_roster', models.BooleanField(default=False, help_text='Cached permission: Can invite/kick members')),
                ('can_edit_team', models.BooleanField(default=False, help_text='Cached permission: Can edit team profile')),
                ('can_register_tournaments', models.BooleanField(default=False, help_text='Cached permission: Can register team for tournaments')),
                ('profile', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='team_memberships', to='user_profile.userprofile')),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='memberships', to='teams.team')),
            ],
            options={
                'ordering': ('team', 'role', '-joined_at'),
            },
        ),
        migrations.CreateModel(
            name='TeamMerchItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200)),
                ('slug', models.SlugField(blank=True, max_length=220)),
                ('sku', models.CharField(help_text='Stock Keeping Unit', max_length=100, unique=True)),
                ('category', models.CharField(choices=[('jersey', 'Jersey'), ('hoodie', 'Hoodie'), ('tshirt', 'T-Shirt'), ('cap', 'Cap'), ('accessory', 'Accessory'), ('collectible', 'Collectible'), ('digital', 'Digital Item'), ('other', 'Other')], default='tshirt', max_length=20)),
                ('description', models.TextField()),
                ('price', models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))])),
                ('currency', models.CharField(default='USD', max_length=3)),
                ('sale_price', models.DecimalField(blank=True, decimal_places=2, help_text='Discounted price if on sale', max_digits=10, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))])),
                ('stock', models.PositiveIntegerField(default=0, help_text='Available quantity')),
                ('is_in_stock', models.BooleanField(default=True)),
                ('unlimited_stock', models.BooleanField(default=False, help_text='Digital items or print-on-demand')),
                ('image', models.ImageField(blank=True, null=True, upload_to='merchandise/')),
                ('image_url', models.URLField(blank=True, help_text='External image URL', validators=[django.core.validators.URLValidator()])),
                ('external_link', models.URLField(blank=True, help_text='Link to external store (e.g., Shopify, Teespring)', validators=[django.core.validators.URLValidator()])),
                ('affiliate_link', models.URLField(blank=True, help_text='Affiliate tracking link', validators=[django.core.validators.URLValidator()])),
                ('has_variants', models.BooleanField(default=False, help_text='Has sizes/colors')),
                ('variant_options', models.JSONField(blank=True, default=dict, help_text='{"sizes": ["S", "M", "L"], "colors": ["Black", "White"]}')),
                ('is_featured', models.BooleanField(default=False)),
                ('is_active', models.BooleanField(default=True)),
                ('display_order', models.PositiveIntegerField(default=0)),
                ('view_count', models.PositiveIntegerField(default=0)),
                ('click_count', models.PositiveIntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='merchandise', to='teams.team')),
            ],
            options={
                'verbose_name': 'Team Merchandise Item',
                'verbose_name_plural': 'Team Merchandise Items',
                'ordering': ['team', 'display_order', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TeamPost',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('post_type', models.CharField(choices=[('status', 'Status Update'), ('announcement', 'Announcement'), ('achievement', 'Achievement'), ('media', 'Media Post'), ('blog', 'Blog Post'), ('match_result', 'Match Result'), ('recruitment', 'Recruitment')], default='status', max_length=20)),
                ('title', models.CharField(blank=True, help_text='Optional title for the post', max_length=200)),
                ('content', models.TextField(help_text='Post content (supports markdown)', max_length=5000)),
                ('visibility', models.CharField(choices=[('public', 'Public'), ('followers', 'Followers Only'), ('members', 'Team Members Only'), ('private', 'Private')], default='public', max_length=20)),
                ('is_pinned', models.BooleanField(default=False, help_text='Pin this post to the top of team feed')),
                ('is_featured', models.BooleanField(default=False, help_text='Feature this post in community hub')),
                ('likes_count', models.PositiveIntegerField(default=0)),
                ('comments_count', models.PositiveIntegerField(default=0)),
                ('shares_count', models.PositiveIntegerField(default=0)),
                ('views_count', models.PositiveIntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('published_at', models.DateTimeField(blank=True, null=True)),
                ('is_edited', models.BooleanField(default=False, help_text='Indicates if this post has been edited after creation')),
                ('author', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='team_posts', to='user_profile.userprofile')),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='posts', to='teams.team')),
            ],
            options={
                'ordering': ['-is_pinned', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TeamActivity',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('activity_type', models.CharField(choices=[('team_created', 'Team Created'), ('member_joined', 'Member Joined'), ('member_left', 'Member Left'), ('captain_changed', 'Captain Changed'), ('post_published', 'Post Published'), ('match_scheduled', 'Match Scheduled'), ('match_completed', 'Match Completed'), ('achievement_earned', 'Achievement Earned'), ('tournament_joined', 'Tournament Joined'), ('tournament_won', 'Tournament Won')], max_length=30)),
                ('description', models.CharField(help_text='Human-readable description of the activity', max_length=500)),
                ('metadata', models.JSONField(blank=True, default=dict, help_text='Additional activity data')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('is_public', models.BooleanField(default=True, help_text='Whether this activity is visible to public')),
                ('actor', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='team_activities', to='user_profile.userprofile')),
                ('related_user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='mentioned_in_activities', to='user_profile.userprofile')),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='activities', to='teams.team')),
                ('related_post', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='teams.teampost')),
            ],
            options={
                'verbose_name_plural': 'Team Activities',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TeamPostComment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('content', models.TextField(help_text='Comment content', max_length=1000)),
                ('likes_count', models.PositiveIntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_edited', models.BooleanField(default=False)),
                ('author', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='team_post_comments', to='user_profile.userprofile')),
                ('parent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='replies', to='teams.teampostcomment')),
                ('post', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='comments', to='teams.teampost')),
            ],
            options={
                'ordering': ['created_at'],
            },
        ),
        migrations.CreateModel(
            name='TeamPostLike',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('content_type', models.CharField(choices=[('post', 'Post'), ('comment', 'Comment')], max_length=10)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('comment', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='likes', to='teams.teampostcomment')),
                ('post', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='likes', to='teams.teampost')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='team_post_likes', to='user_profile.userprofile')),
            ],
        ),
        migrations.CreateModel(
            name='TeamPostMedia',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('media_type', models.CharField(choices=[('image', 'Image'), ('video', 'Video'), ('document', 'Document')], default='image', max_length=20)),
                ('file', models.FileField(upload_to=apps.teams.models.social.team_media_upload_path, validators=[django.core.validators.FileExtensionValidator(allowed_extensions=['jpg', 'jpeg', 'png', 'gif', 'mp4', 'mov', 'pdf', 'doc', 'docx'])])),
                ('caption', models.CharField(blank=True, help_text='Optional caption for the media', max_length=500)),
                ('alt_text', models.CharField(blank=True, help_text='Alternative text for accessibility', max_length=200)),
                ('file_size', models.PositiveIntegerField(blank=True, null=True)),
                ('duration', models.PositiveIntegerField(blank=True, help_text='Duration in seconds for videos', null=True)),
                ('width', models.PositiveIntegerField(blank=True, null=True)),
                ('height', models.PositiveIntegerField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('post', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='media', to='teams.teampost')),
            ],
            options={
                'ordering': ['created_at'],
            },
        ),
        migrations.CreateModel(
            name='TeamPromotion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('promotion_type', models.CharField(choices=[('featured_homepage', 'Featured on Homepage'), ('featured_hub', 'Featured in Team Hub'), ('banner_ad', 'Banner Advertisement'), ('spotlight', 'Team Spotlight'), ('boosted_ranking', 'Boosted in Rankings'), ('social_media', 'Social Media Feature'), ('newsletter', 'Newsletter Feature')], max_length=30)),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True)),
                ('start_at', models.DateTimeField()),
                ('end_at', models.DateTimeField()),
                ('is_active', models.BooleanField(default=False)),
                ('paid_amount', models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))])),
                ('currency', models.CharField(default='USD', max_length=3)),
                ('status', models.CharField(choices=[('pending', 'Pending Payment'), ('paid', 'Paid'), ('active', 'Active'), ('completed', 'Completed'), ('cancelled', 'Cancelled')], default='pending', max_length=20)),
                ('transaction_ref', models.CharField(blank=True, help_text='Payment gateway transaction ID', max_length=200)),
                ('payment_method', models.CharField(blank=True, max_length=50)),
                ('paid_at', models.DateTimeField(blank=True, null=True)),
                ('impression_count', models.PositiveIntegerField(default=0)),
                ('click_count', models.PositiveIntegerField(default=0)),
                ('conversion_count', models.PositiveIntegerField(default=0, help_text='Number of conversions (follows, visits, etc.)')),
                ('approved_at', models.DateTimeField(blank=True, null=True)),
                ('admin_notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_promotions', to=settings.AUTH_USER_MODEL)),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='promotions', to='teams.team')),
            ],
            options={
                'verbose_name': 'Team Promotion',
                'verbose_name_plural': 'Team Promotions',
                'ordering': ['-start_at'],
            },
        ),
        migrations.CreateModel(
            name='TeamRankingHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('points_change', models.IntegerField(help_text='Points added (+) or subtracted (-) in this transaction')),
                ('points_before', models.PositiveIntegerField(help_text="Team's total points before this change")),
                ('points_after', models.PositiveIntegerField(help_text="Team's total points after this change")),
                ('source', models.CharField(choices=[('tournament_participation', 'Tournament Participation'), ('tournament_winner', 'Tournament Winner'), ('tournament_runner_up', 'Tournament Runner-up'), ('tournament_top_4', 'Tournament Top 4'), ('member_count', 'Team Member Count'), ('team_age', 'Team Age Bonus'), ('achievement', 'Achievement Points'), ('manual_adjustment', 'Manual Admin Adjustment'), ('recalculation', 'System Recalculation')], help_text='Source of the point change', max_length=30)),
                ('reason', models.TextField(blank=True, help_text='Detailed explanation for the point change')),
                ('related_object_type', models.CharField(blank=True, max_length=50)),
                ('related_object_id', models.PositiveIntegerField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('admin_user', models.ForeignKey(blank=True, help_text='Admin user who made manual adjustment', null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ranking_history', to='teams.team')),
            ],
            options={
                'verbose_name': 'Team Ranking History',
                'verbose_name_plural': 'Team Ranking History',
                'db_table': 'teams_ranking_history',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TeamRankingSettings',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tournament_victory_points', models.PositiveIntegerField(default=100, help_text='Points awarded for each tournament victory (1st place)', validators=[django.core.validators.MinValueValidator(1)])),
                ('runner_up_points', models.PositiveIntegerField(default=60, help_text='Points awarded for each runner-up finish (2nd place)', validators=[django.core.validators.MinValueValidator(1)])),
                ('top4_finish_points', models.PositiveIntegerField(default=40, help_text='Points awarded for each top 4 tournament finish', validators=[django.core.validators.MinValueValidator(1)])),
                ('top8_finish_points', models.PositiveIntegerField(default=20, help_text='Points awarded for each top 8 tournament finish', validators=[django.core.validators.MinValueValidator(1)])),
                ('participation_points', models.PositiveIntegerField(default=10, help_text='Points awarded for each tournament participation', validators=[django.core.validators.MinValueValidator(1)])),
                ('general_achievement_points', models.PositiveIntegerField(default=50, help_text='Points awarded per general achievement/trophy', validators=[django.core.validators.MinValueValidator(1)])),
                ('member_points', models.PositiveIntegerField(default=5, help_text='Points awarded per active team member', validators=[django.core.validators.MinValueValidator(1)])),
                ('monthly_age_points', models.PositiveIntegerField(default=2, help_text='Points awarded per month since team creation', validators=[django.core.validators.MinValueValidator(1)])),
                ('verified_team_multiplier', models.DecimalField(decimal_places=2, default=1.1, help_text='Multiplier for verified teams (e.g., 1.10 = 10% bonus)', max_digits=3, validators=[django.core.validators.MinValueValidator(1.0)])),
                ('featured_team_bonus', models.PositiveIntegerField(default=50, help_text='Flat bonus points for featured teams', validators=[django.core.validators.MinValueValidator(0)])),
                ('is_active', models.BooleanField(default=True, help_text='Whether this ranking system is currently active')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('updated_by', models.ForeignKey(blank=True, help_text='Last admin who updated these settings', null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Team Ranking Settings',
                'verbose_name_plural': 'Team Ranking Settings',
                'db_table': 'teams_ranking_settings',
            },
        ),
        migrations.CreateModel(
            name='TeamSponsor',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('sponsor_name', models.CharField(max_length=200)),
                ('sponsor_logo', models.ImageField(blank=True, help_text='Sponsor logo image', null=True, upload_to='sponsors/logos/')),
                ('sponsor_logo_url', models.URLField(blank=True, help_text='External URL for sponsor logo (if not uploaded)', validators=[django.core.validators.URLValidator()])),
                ('sponsor_link', models.URLField(help_text='Link to sponsor website', validators=[django.core.validators.URLValidator()])),
                ('sponsor_tier', models.CharField(choices=[('platinum', 'Platinum'), ('gold', 'Gold'), ('silver', 'Silver'), ('bronze', 'Bronze'), ('partner', 'Partner')], default='bronze', max_length=20)),
                ('contact_name', models.CharField(blank=True, max_length=200)),
                ('contact_email', models.EmailField(blank=True, max_length=254)),
                ('contact_phone', models.CharField(blank=True, max_length=50)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField()),
                ('status', models.CharField(choices=[('pending', 'Pending Approval'), ('active', 'Active'), ('expired', 'Expired'), ('rejected', 'Rejected'), ('cancelled', 'Cancelled')], default='pending', max_length=20)),
                ('is_active', models.BooleanField(default=False)),
                ('deal_value', models.DecimalField(blank=True, decimal_places=2, help_text='Sponsorship deal value', max_digits=10, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))])),
                ('currency', models.CharField(default='USD', max_length=3)),
                ('click_count', models.PositiveIntegerField(default=0)),
                ('impression_count', models.PositiveIntegerField(default=0)),
                ('notes', models.TextField(blank=True, help_text='Internal notes about the sponsorship')),
                ('benefits', models.TextField(blank=True, help_text='Benefits provided to sponsor')),
                ('display_order', models.PositiveIntegerField(default=0, help_text='Order in which sponsors are displayed (lower = first)')),
                ('show_on_profile', models.BooleanField(default=True, help_text='Display sponsor on team profile')),
                ('show_on_jerseys', models.BooleanField(default=False, help_text='Display sponsor logo on team jerseys')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('approved_at', models.DateTimeField(blank=True, null=True)),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_sponsors', to=settings.AUTH_USER_MODEL)),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sponsors', to='teams.team')),
            ],
            options={
                'verbose_name': 'Team Sponsor',
                'verbose_name_plural': 'Team Sponsors',
                'ordering': ['team', 'display_order', '-start_date'],
            },
        ),
        migrations.CreateModel(
            name='SponsorInquiry',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('company_name', models.CharField(max_length=200)),
                ('contact_name', models.CharField(max_length=200)),
                ('contact_email', models.EmailField(max_length=254)),
                ('contact_phone', models.CharField(blank=True, max_length=50)),
                ('website', models.URLField(blank=True, validators=[django.core.validators.URLValidator()])),
                ('interested_tier', models.CharField(blank=True, choices=[('platinum', 'Platinum'), ('gold', 'Gold'), ('silver', 'Silver'), ('bronze', 'Bronze'), ('partner', 'Partner')], max_length=20)),
                ('budget_range', models.CharField(blank=True, max_length=100)),
                ('message', models.TextField(help_text='Why they want to sponsor')),
                ('industry', models.CharField(blank=True, max_length=100)),
                ('company_size', models.CharField(blank=True, help_text='Number of employees or revenue range', max_length=50)),
                ('previous_sponsorships', models.TextField(blank=True, help_text='Previous esports/gaming sponsorships')),
                ('status', models.CharField(choices=[('pending', 'Pending Review'), ('contacted', 'Contacted'), ('negotiating', 'Negotiating'), ('approved', 'Approved'), ('rejected', 'Rejected')], default='pending', max_length=20)),
                ('admin_notes', models.TextField(blank=True)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('user_agent', models.CharField(blank=True, max_length=500)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('responded_at', models.DateTimeField(blank=True, null=True)),
                ('assigned_to', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='assigned_inquiries', to=settings.AUTH_USER_MODEL)),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sponsor_inquiries', to='teams.team')),
                ('converted_to_sponsor', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='source_inquiry', to='teams.teamsponsor')),
            ],
            options={
                'verbose_name': 'Sponsor Inquiry',
                'verbose_name_plural': 'Sponsor Inquiries',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TeamStats',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('matches_played', models.PositiveIntegerField(default=0)),
                ('wins', models.PositiveIntegerField(default=0)),
                ('losses', models.PositiveIntegerField(default=0)),
                ('win_rate', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('streak', models.IntegerField(default=0, help_text='Positive = current win streak, negative = current loss streak')),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='stats_snapshots', to='teams.team')),
            ],
            options={
                'ordering': ['-updated_at'],
            },
        ),
        migrations.CreateModel(
            name='TeamTournamentRegistration',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tournament_id', models.IntegerField(blank=True, db_index=True, help_text='Legacy tournament ID (reference only)', null=True)),
                ('status', models.CharField(choices=[('pending', 'Pending Review'), ('approved', 'Approved'), ('rejected', 'Rejected'), ('cancelled', 'Cancelled'), ('confirmed', 'Confirmed')], default='pending', max_length=16)),
                ('roster_snapshot', models.JSONField(default=dict, help_text='Snapshot of team roster at registration time (player IDs, roles, IGNs)')),
                ('validation_passed', models.BooleanField(default=False, help_text='Whether roster validation passed')),
                ('validation_errors', models.JSONField(default=list, help_text='List of validation errors if any')),
                ('max_roster_size', models.PositiveIntegerField(blank=True, help_text='Max roster for this tournament (overrides game default)', null=True)),
                ('min_starters', models.PositiveIntegerField(blank=True, help_text='Minimum starting players required', null=True)),
                ('allowed_roles', models.JSONField(blank=True, default=list, help_text='Specific roles allowed for this tournament (empty = all)')),
                ('is_roster_locked', models.BooleanField(default=False, help_text='Whether roster is locked for this tournament')),
                ('locked_at', models.DateTimeField(blank=True, help_text='When roster was locked', null=True)),
                ('payment_reference', models.CharField(blank=True, help_text='Payment transaction reference', max_length=100)),
                ('payment_verified', models.BooleanField(default=False, help_text='Whether payment has been verified')),
                ('payment_verified_at', models.DateTimeField(blank=True, null=True)),
                ('admin_notes', models.TextField(blank=True, help_text='Internal admin notes about this registration')),
                ('rejection_reason', models.TextField(blank=True, help_text='Reason for rejection if applicable')),
                ('registered_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('payment_verified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='verified_team_registrations', to=settings.AUTH_USER_MODEL)),
                ('registered_by', models.ForeignKey(help_text='Captain who registered the team', on_delete=django.db.models.deletion.PROTECT, related_name='team_tournament_registrations', to='user_profile.userprofile')),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='tournament_registrations', to='teams.team')),
            ],
            options={
                'verbose_name': 'Team Tournament Registration',
                'verbose_name_plural': 'Team Tournament Registrations',
                'db_table': 'teams_tournament_registration',
                'ordering': ['-registered_at'],
            },
        ),
        migrations.CreateModel(
            name='TournamentParticipation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role', models.CharField(help_text="Player's role in the team for this tournament", max_length=16)),
                ('is_starter', models.BooleanField(default=True, help_text='Whether player is in starting lineup')),
                ('matches_played', models.PositiveIntegerField(default=0, help_text='Number of matches this player participated in')),
                ('mvp_count', models.PositiveIntegerField(default=0, help_text='Number of times player was MVP')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('player', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='tournament_participations', to='user_profile.userprofile')),
                ('registration', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='participations', to='teams.teamtournamentregistration')),
            ],
            options={
                'verbose_name': 'Tournament Participation',
                'verbose_name_plural': 'Tournament Participations',
                'db_table': 'teams_tournament_participation',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TournamentRosterLock',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('is_unlock', models.BooleanField(default=False, help_text='True if this is an unlock event, False for lock')),
                ('locked_by_system', models.BooleanField(default=False, help_text='Whether lock was automatic (tournament start)')),
                ('reason', models.TextField(blank=True, help_text='Reason for lock/unlock')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('registration', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lock_history', to='teams.teamtournamentregistration')),
                ('unlocked_by', models.ForeignKey(blank=True, help_text='Admin who unlocked roster (if manual)', null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Tournament Roster Lock',
                'verbose_name_plural': 'Tournament Roster Locks',
                'db_table': 'teams_tournament_roster_lock',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ValorantTeam',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Team name', max_length=100)),
                ('tag', models.CharField(help_text='Team tag/abbreviation (2-10 characters)', max_length=10)),
                ('slug', models.SlugField(blank=True, help_text='URL-friendly identifier (auto-generated)', max_length=64)),
                ('description', models.TextField(blank=True, help_text='Brief team description', max_length=500)),
                ('logo', models.ImageField(blank=True, help_text='Team logo image', null=True, upload_to='teams/logos/')),
                ('banner_image', models.ImageField(blank=True, help_text='Team banner image', null=True, upload_to='teams/banners/')),
                ('region', models.CharField(blank=True, help_text='Geographic region (e.g., NA, EU, SEA)', max_length=100)),
                ('country', models.CharField(blank=True, help_text='Country', max_length=100)),
                ('twitter', models.URLField(blank=True, help_text='Twitter profile URL')),
                ('instagram', models.URLField(blank=True, help_text='Instagram profile URL')),
                ('discord', models.URLField(blank=True, help_text='Discord server URL')),
                ('youtube', models.URLField(blank=True, help_text='YouTube channel URL')),
                ('twitch', models.URLField(blank=True, help_text='Twitch channel URL')),
                ('website', models.URLField(blank=True, help_text='Official website URL')),
                ('is_active', models.BooleanField(default=True, help_text='Team is active and visible')),
                ('is_public', models.BooleanField(default=True, help_text='Team profile is publicly visible')),
                ('is_verified', models.BooleanField(default=False, help_text='Officially verified team')),
                ('is_recruiting', models.BooleanField(default=True, help_text='Team is actively recruiting')),
                ('allow_join_requests', models.BooleanField(default=True, help_text='Allow users to request to join')),
                ('require_approval', models.BooleanField(default=True, help_text='Captain must approve new members')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('game', models.CharField(default='valorant', editable=False, max_length=20)),
                ('average_rank', models.CharField(blank=True, help_text='Team average competitive rank', max_length=50)),
                ('captain', models.ForeignKey(blank=True, help_text='Team captain (must be a team member)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_captain_teams', to='user_profile.userprofile')),
            ],
            options={
                'verbose_name': 'Valorant Team',
                'verbose_name_plural': 'Valorant Teams',
                'db_table': 'teams_valorant_team',
            },
        ),
        migrations.CreateModel(
            name='ValorantPlayerMembership',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role', models.CharField(help_text='Player role (e.g., Duelist, IGL, Carry)', max_length=50)),
                ('secondary_role', models.CharField(blank=True, help_text='Secondary/backup role', max_length=50)),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('SUBSTITUTE', 'Substitute'), ('INACTIVE', 'Inactive'), ('PENDING', 'Pending'), ('REMOVED', 'Removed')], default='PENDING', help_text='Membership status', max_length=20)),
                ('is_captain', models.BooleanField(default=False, help_text='Is team captain')),
                ('is_starter', models.BooleanField(default=True, help_text='Starting lineup member')),
                ('in_game_name', models.CharField(blank=True, help_text='In-game name (IGN)', max_length=50)),
                ('jersey_number', models.PositiveIntegerField(blank=True, help_text='Jersey/player number', null=True)),
                ('games_played', models.PositiveIntegerField(default=0, help_text='Games played with team')),
                ('joined_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('left_at', models.DateTimeField(blank=True, null=True)),
                ('game_specific_data', models.JSONField(blank=True, default=dict, help_text='Additional game-specific player data')),
                ('agent_pool', models.JSONField(blank=True, default=list, help_text='List of agents this player uses')),
                ('competitive_rank', models.CharField(blank=True, help_text="Player's competitive rank", max_length=50)),
                ('profile', models.ForeignKey(help_text='Player profile', on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_memberships', to='user_profile.userprofile')),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='valorant_memberships', to='teams.valorantteam')),
            ],
            options={
                'verbose_name': 'Valorant Player',
                'verbose_name_plural': 'Valorant Players',
                'db_table': 'teams_valorant_membership',
            },
        ),
        migrations.CreateModel(
            name='ValorantTeamPreset',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=120)),
                ('team_name', models.CharField(blank=True, default='', max_length=120)),
                ('team_tag', models.CharField(blank=True, default='', max_length=10)),
                ('team_logo', models.ImageField(blank=True, null=True, upload_to='presets/valorant/team_logos/')),
                ('banner_image', models.ImageField(blank=True, null=True, upload_to='presets/valorant/banners/')),
                ('region', models.CharField(blank=True, default='', max_length=48)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('profile', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='valorant_presets', to='user_profile.userprofile')),
            ],
            options={
                'verbose_name': 'Valorant Team Preset',
                'verbose_name_plural': 'Valorant Team Presets',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ValorantPlayerPreset',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('in_game_name', models.CharField(blank=True, default='', max_length=120)),
                ('riot_id', models.CharField(blank=True, default='', help_text='Riot ID#Tagline', max_length=120)),
                ('discord', models.CharField(blank=True, default='', max_length=120)),
                ('role', models.CharField(blank=True, default='PLAYER', help_text='CAPTAIN/PLAYER/SUB', max_length=24)),
                ('preset', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='players', to='teams.valorantteampreset')),
            ],
            options={
                'verbose_name': 'Valorant Player Preset',
                'verbose_name_plural': 'Valorant Player Presets',
            },
        ),
        migrations.AddConstraint(
            model_name='codmteam',
            constraint=models.UniqueConstraint(fields=('game', 'slug'), name='unique_codm_team_slug'),
        ),
        migrations.AddConstraint(
            model_name='codmplayermembership',
            constraint=models.UniqueConstraint(condition=models.Q(('is_captain', True), ('status', 'ACTIVE')), fields=('team',), name='one_captain_per_codm_team'),
        ),
        migrations.AlterUniqueTogether(
            name='codmplayermembership',
            unique_together={('team', 'profile')},
        ),
        migrations.AddConstraint(
            model_name='cs2team',
            constraint=models.UniqueConstraint(fields=('game', 'slug'), name='unique_cs2_team_slug'),
        ),
        migrations.AddConstraint(
            model_name='cs2playermembership',
            constraint=models.UniqueConstraint(condition=models.Q(('is_captain', True), ('status', 'ACTIVE')), fields=('team',), name='one_captain_per_cs2_team'),
        ),
        migrations.AlterUniqueTogether(
            name='cs2playermembership',
            unique_together={('team', 'profile')},
        ),
        migrations.AddConstraint(
            model_name='dota2team',
            constraint=models.UniqueConstraint(fields=('game', 'slug'), name='unique_dota2_team_slug'),
        ),
        migrations.AddConstraint(
            model_name='dota2playermembership',
            constraint=models.UniqueConstraint(condition=models.Q(('is_captain', True), ('status', 'ACTIVE')), fields=('team',), name='one_captain_per_dota2_team'),
        ),
        migrations.AddConstraint(
            model_name='dota2playermembership',
            constraint=models.UniqueConstraint(condition=models.Q(('is_starter', True), ('status', 'ACTIVE')), fields=('team', 'role'), name='unique_dota2_position_per_team'),
        ),
        migrations.AlterUniqueTogether(
            name='dota2playermembership',
            unique_together={('team', 'profile')},
        ),
        migrations.AddConstraint(
            model_name='efootballteam',
            constraint=models.UniqueConstraint(fields=('game', 'slug'), name='unique_efootball_team_slug'),
        ),
        migrations.AddConstraint(
            model_name='efootballplayermembership',
            constraint=models.UniqueConstraint(condition=models.Q(('is_captain', True), ('status', 'ACTIVE')), fields=('team',), name='one_captain_per_efootball_team'),
        ),
        migrations.AlterUniqueTogether(
            name='efootballplayermembership',
            unique_together={('team', 'profile')},
        ),
        migrations.AddConstraint(
            model_name='fc26team',
            constraint=models.UniqueConstraint(fields=('game', 'slug'), name='unique_fc26_team_slug'),
        ),
        migrations.AddConstraint(
            model_name='fc26playermembership',
            constraint=models.UniqueConstraint(condition=models.Q(('is_captain', True), ('status', 'ACTIVE')), fields=('team',), name='one_captain_per_fc26_team'),
        ),
        migrations.AlterUniqueTogether(
            name='fc26playermembership',
            unique_together={('team', 'profile')},
        ),
        migrations.AddConstraint(
            model_name='freefireteam',
            constraint=models.UniqueConstraint(fields=('game', 'slug'), name='unique_freefire_team_slug'),
        ),
        migrations.AddConstraint(
            model_name='freefireplayermembership',
            constraint=models.UniqueConstraint(condition=models.Q(('is_captain', True), ('status', 'ACTIVE')), fields=('team',), name='one_captain_per_freefire_team'),
        ),
        migrations.AlterUniqueTogether(
            name='freefireplayermembership',
            unique_together={('team', 'profile')},
        ),
        migrations.AddIndex(
            model_name='matchparticipation',
            index=models.Index(fields=['match', 'player'], name='teams_analy_match_i_8dd158_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='matchparticipation',
            unique_together={('match', 'player')},
        ),
        migrations.AddConstraint(
            model_name='mlbbteam',
            constraint=models.UniqueConstraint(fields=('game', 'slug'), name='unique_mlbb_team_slug'),
        ),
        migrations.AddConstraint(
            model_name='mlbbplayermembership',
            constraint=models.UniqueConstraint(condition=models.Q(('is_captain', True), ('status', 'ACTIVE')), fields=('team',), name='one_captain_per_mlbb_team'),
        ),
        migrations.AlterUniqueTogether(
            name='mlbbplayermembership',
            unique_together={('team', 'profile')},
        ),
        migrations.AddConstraint(
            model_name='pubgteam',
            constraint=models.UniqueConstraint(fields=('game', 'slug'), name='unique_pubg_team_slug'),
        ),
        migrations.AddConstraint(
            model_name='pubgplayermembership',
            constraint=models.UniqueConstraint(condition=models.Q(('is_captain', True), ('status', 'ACTIVE')), fields=('team',), name='one_captain_per_pubg_team'),
        ),
        migrations.AlterUniqueTogether(
            name='pubgplayermembership',
            unique_together={('team', 'profile')},
        ),
        migrations.AddIndex(
            model_name='team',
            index=models.Index(fields=['-total_points', 'name'], name='teams_leaderboard_idx'),
        ),
        migrations.AddIndex(
            model_name='team',
            index=models.Index(fields=['game', '-total_points'], name='teams_game_leader_idx'),
        ),
        migrations.AddIndex(
            model_name='team',
            index=models.Index(fields=['-created_at'], name='teams_recent_idx'),
        ),
        migrations.AddConstraint(
            model_name='team',
            constraint=models.UniqueConstraint(condition=models.Q(('slug', ''), _negated=True), fields=('game', 'slug'), name='uniq_team_slug_per_game'),
        ),
        migrations.AddIndex(
            model_name='playerstats',
            index=models.Index(fields=['team', 'game'], name='teams_analy_team_id_8ed44f_idx'),
        ),
        migrations.AddIndex(
            model_name='playerstats',
            index=models.Index(fields=['player', 'game'], name='teams_analy_player__bfb65c_idx'),
        ),
        migrations.AddIndex(
            model_name='playerstats',
            index=models.Index(fields=['-contribution_score'], name='teams_analy_contrib_e5474b_idx'),
        ),
        migrations.AddIndex(
            model_name='playerstats',
            index=models.Index(fields=['-mvp_count'], name='teams_analy_mvp_cou_6bcd28_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='playerstats',
            unique_together={('player', 'team', 'game')},
        ),
        migrations.AddIndex(
            model_name='matchrecord',
            index=models.Index(fields=['team', '-match_date'], name='teams_analy_team_id_a5ad31_idx'),
        ),
        migrations.AddIndex(
            model_name='matchrecord',
            index=models.Index(fields=['tournament_id', '-match_date'], name='teams_analy_tournam_7636f8_idx'),
        ),
        migrations.AddIndex(
            model_name='matchrecord',
            index=models.Index(fields=['game', '-match_date'], name='teams_analy_game_55e342_idx'),
        ),
        migrations.AddIndex(
            model_name='matchrecord',
            index=models.Index(fields=['result'], name='teams_analy_result_f9a53e_idx'),
        ),
        migrations.AddIndex(
            model_name='chattypingindicator',
            index=models.Index(fields=['team', 'started_typing_at'], name='teams_chat__team_id_281f41_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='chattypingindicator',
            unique_together={('user', 'team')},
        ),
        migrations.AddIndex(
            model_name='teamachievement',
            index=models.Index(fields=['team'], name='teams_teama_team_id_daea1e_idx'),
        ),
        migrations.AddIndex(
            model_name='teamachievement',
            index=models.Index(fields=['year'], name='teams_teama_year_42a46a_idx'),
        ),
        migrations.AddIndex(
            model_name='teamanalytics',
            index=models.Index(fields=['team', 'game'], name='teams_analy_team_id_853a9b_idx'),
        ),
        migrations.AddIndex(
            model_name='teamanalytics',
            index=models.Index(fields=['win_rate'], name='teams_analy_win_rat_9aac2e_idx'),
        ),
        migrations.AddIndex(
            model_name='teamanalytics',
            index=models.Index(fields=['-total_points'], name='teams_analy_total_p_8f2287_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='teamanalytics',
            unique_together={('team', 'game')},
        ),
        migrations.AddIndex(
            model_name='teamchatmessage',
            index=models.Index(fields=['team', 'created_at'], name='teams_chat__team_id_ff7796_idx'),
        ),
        migrations.AddIndex(
            model_name='teamchatmessage',
            index=models.Index(fields=['sender', 'created_at'], name='teams_chat__sender__73e26d_idx'),
        ),
        migrations.AddIndex(
            model_name='teamchatmessage',
            index=models.Index(fields=['is_deleted', 'created_at'], name='teams_chat__is_dele_3b2d20_idx'),
        ),
        migrations.AddIndex(
            model_name='chatreadreceipt',
            index=models.Index(fields=['user', 'team'], name='teams_chat__user_id_a4260e_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='chatreadreceipt',
            unique_together={('user', 'team')},
        ),
        migrations.AddIndex(
            model_name='chatmessagereaction',
            index=models.Index(fields=['message', 'emoji'], name='teams_chat__message_723130_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='chatmessagereaction',
            unique_together={('message', 'user', 'emoji')},
        ),
        migrations.AddIndex(
            model_name='teamdiscussionpost',
            index=models.Index(fields=['team', '-last_activity_at'], name='teams_discu_team_id_3fe107_idx'),
        ),
        migrations.AddIndex(
            model_name='teamdiscussionpost',
            index=models.Index(fields=['team', 'post_type', '-last_activity_at'], name='teams_discu_team_id_a3cadc_idx'),
        ),
        migrations.AddIndex(
            model_name='teamdiscussionpost',
            index=models.Index(fields=['author', '-created_at'], name='teams_discu_author__8de515_idx'),
        ),
        migrations.AddIndex(
            model_name='teamdiscussionpost',
            index=models.Index(fields=['-is_pinned', '-last_activity_at'], name='teams_discu_is_pinn_13f665_idx'),
        ),
        migrations.AddIndex(
            model_name='teamdiscussionpost',
            index=models.Index(fields=['is_deleted'], name='teams_discu_is_dele_2aa75f_idx'),
        ),
        migrations.AddIndex(
            model_name='teamdiscussioncomment',
            index=models.Index(fields=['post', 'created_at'], name='teams_discu_post_id_ce7ee5_idx'),
        ),
        migrations.AddIndex(
            model_name='teamdiscussioncomment',
            index=models.Index(fields=['author', '-created_at'], name='teams_discu_author__d85c29_idx'),
        ),
        migrations.AddIndex(
            model_name='teamdiscussioncomment',
            index=models.Index(fields=['reply_to', 'created_at'], name='teams_discu_reply_t_4a31ce_idx'),
        ),
        migrations.AddIndex(
            model_name='discussionsubscription',
            index=models.Index(fields=['user', 'subscribed_at'], name='teams_discu_user_id_916d9b_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='discussionsubscription',
            unique_together={('user', 'post')},
        ),
        migrations.AddIndex(
            model_name='discussionnotification',
            index=models.Index(fields=['recipient', '-created_at'], name='teams_discu_recipie_e82748_idx'),
        ),
        migrations.AddIndex(
            model_name='discussionnotification',
            index=models.Index(fields=['recipient', 'is_read', '-created_at'], name='teams_discu_recipie_22ea59_idx'),
        ),
        migrations.AddIndex(
            model_name='teamfollower',
            index=models.Index(fields=['team', '-followed_at'], name='teams_teamf_team_id_35cd4a_idx'),
        ),
        migrations.AddIndex(
            model_name='teamfollower',
            index=models.Index(fields=['follower', '-followed_at'], name='teams_teamf_followe_624478_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='teamfollower',
            unique_together={('team', 'follower')},
        ),
        migrations.AddIndex(
            model_name='teaminvite',
            index=models.Index(fields=['team', 'status'], name='teams_invite_lookup_idx'),
        ),
        migrations.AddIndex(
            model_name='teaminvite',
            index=models.Index(fields=['status', 'expires_at'], name='teams_invite_expire_idx'),
        ),
        migrations.AddIndex(
            model_name='teammembership',
            index=models.Index(fields=['team', 'status'], name='teams_member_lookup_idx'),
        ),
        migrations.AddIndex(
            model_name='teammembership',
            index=models.Index(fields=['profile', 'status'], name='teams_user_teams_idx'),
        ),
        migrations.AddIndex(
            model_name='teammembership',
            index=models.Index(fields=['team', 'role'], name='teams_role_lookup_idx'),
        ),
        migrations.AddConstraint(
            model_name='teammembership',
            constraint=models.UniqueConstraint(condition=models.Q(('role', 'OWNER'), ('status', 'ACTIVE')), fields=('team',), name='uq_one_active_owner_per_team'),
        ),
        migrations.AddConstraint(
            model_name='teammembership',
            constraint=models.UniqueConstraint(condition=models.Q(('is_captain', True), ('status', 'ACTIVE')), fields=('team',), name='uq_one_captain_title_per_team'),
        ),
        migrations.AddConstraint(
            model_name='teammembership',
            constraint=models.UniqueConstraint(condition=models.Q(('role', 'CAPTAIN'), ('status', 'ACTIVE')), fields=('team',), name='uq_one_active_captain_per_team'),
        ),
        migrations.AlterUniqueTogether(
            name='teammembership',
            unique_together={('team', 'profile')},
        ),
        migrations.AddIndex(
            model_name='teammerchitem',
            index=models.Index(fields=['team', 'is_active'], name='teams_teamm_team_id_cdb49d_idx'),
        ),
        migrations.AddIndex(
            model_name='teammerchitem',
            index=models.Index(fields=['sku'], name='teams_teamm_sku_f66d44_idx'),
        ),
        migrations.AddIndex(
            model_name='teammerchitem',
            index=models.Index(fields=['is_featured', 'is_active'], name='teams_teamm_is_feat_1ad750_idx'),
        ),
        migrations.AddIndex(
            model_name='teampost',
            index=models.Index(fields=['team', '-created_at'], name='teams_teamp_team_id_6f448f_idx'),
        ),
        migrations.AddIndex(
            model_name='teampost',
            index=models.Index(fields=['visibility', '-created_at'], name='teams_teamp_visibil_eb0e6f_idx'),
        ),
        migrations.AddIndex(
            model_name='teampost',
            index=models.Index(fields=['is_featured', '-created_at'], name='teams_teamp_is_feat_3e4ac8_idx'),
        ),
        migrations.AddIndex(
            model_name='teamactivity',
            index=models.Index(fields=['team', '-created_at'], name='teams_teama_team_id_66ed68_idx'),
        ),
        migrations.AddIndex(
            model_name='teamactivity',
            index=models.Index(fields=['activity_type', '-created_at'], name='teams_teama_activit_c585a3_idx'),
        ),
        migrations.AddIndex(
            model_name='teamactivity',
            index=models.Index(fields=['is_public', '-created_at'], name='teams_teama_is_publ_3d9302_idx'),
        ),
        migrations.AddIndex(
            model_name='teampostcomment',
            index=models.Index(fields=['post', 'created_at'], name='teams_teamp_post_id_d011f4_idx'),
        ),
        migrations.AddIndex(
            model_name='teampostcomment',
            index=models.Index(fields=['parent', 'created_at'], name='teams_teamp_parent__96ec36_idx'),
        ),
        migrations.AddIndex(
            model_name='teampostlike',
            index=models.Index(fields=['content_type', 'created_at'], name='teams_teamp_content_907a79_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='teampostlike',
            unique_together={('user', 'comment'), ('user', 'post')},
        ),
        migrations.AddIndex(
            model_name='teampromotion',
            index=models.Index(fields=['team', 'status'], name='teams_teamp_team_id_71eb40_idx'),
        ),
        migrations.AddIndex(
            model_name='teampromotion',
            index=models.Index(fields=['status', 'is_active'], name='teams_teamp_status_8d0cfa_idx'),
        ),
        migrations.AddIndex(
            model_name='teampromotion',
            index=models.Index(fields=['start_at', 'end_at'], name='teams_teamp_start_a_1bffa0_idx'),
        ),
        migrations.AddIndex(
            model_name='teampromotion',
            index=models.Index(fields=['promotion_type', 'is_active'], name='teams_teamp_promoti_ed56d3_idx'),
        ),
        migrations.AddIndex(
            model_name='teamrankinghistory',
            index=models.Index(fields=['team', '-created_at'], name='teams_ranki_team_id_fecc23_idx'),
        ),
        migrations.AddIndex(
            model_name='teamrankinghistory',
            index=models.Index(fields=['source', '-created_at'], name='teams_ranki_source_f101e9_idx'),
        ),
        migrations.AddIndex(
            model_name='teamsponsor',
            index=models.Index(fields=['team', 'status'], name='teams_teams_team_id_4e5525_idx'),
        ),
        migrations.AddIndex(
            model_name='teamsponsor',
            index=models.Index(fields=['status', 'is_active'], name='teams_teams_status_86c270_idx'),
        ),
        migrations.AddIndex(
            model_name='teamsponsor',
            index=models.Index(fields=['start_date', 'end_date'], name='teams_teams_start_d_eb76c9_idx'),
        ),
        migrations.AddIndex(
            model_name='sponsorinquiry',
            index=models.Index(fields=['team', 'status'], name='teams_spons_team_id_6b5cd1_idx'),
        ),
        migrations.AddIndex(
            model_name='sponsorinquiry',
            index=models.Index(fields=['status', 'created_at'], name='teams_spons_status_7cceaa_idx'),
        ),
        migrations.AddIndex(
            model_name='sponsorinquiry',
            index=models.Index(fields=['contact_email'], name='teams_spons_contact_96b964_idx'),
        ),
        migrations.AddIndex(
            model_name='teamstats',
            index=models.Index(fields=['team'], name='teams_teams_team_id_f0bc27_idx'),
        ),
        migrations.AddIndex(
            model_name='teamstats',
            index=models.Index(fields=['updated_at'], name='teams_teams_updated_01ef2e_idx'),
        ),
        migrations.AddIndex(
            model_name='teamtournamentregistration',
            index=models.Index(fields=['tournament_id', 'status'], name='teams_tourn_tournam_00b2f4_idx'),
        ),
        migrations.AddIndex(
            model_name='teamtournamentregistration',
            index=models.Index(fields=['team', 'tournament_id'], name='teams_tourn_team_id_4ef1a7_idx'),
        ),
        migrations.AddIndex(
            model_name='teamtournamentregistration',
            index=models.Index(fields=['status', '-registered_at'], name='teams_tourn_status_f33ab9_idx'),
        ),
        migrations.AddConstraint(
            model_name='teamtournamentregistration',
            constraint=models.UniqueConstraint(fields=('team', 'tournament_id'), name='unique_team_tournament_registration'),
        ),
        migrations.AddIndex(
            model_name='tournamentparticipation',
            index=models.Index(fields=['player', 'registration'], name='teams_tourn_player__cfb1a3_idx'),
        ),
        migrations.AddIndex(
            model_name='tournamentparticipation',
            index=models.Index(fields=['registration', 'is_starter'], name='teams_tourn_registr_039227_idx'),
        ),
        migrations.AddConstraint(
            model_name='tournamentparticipation',
            constraint=models.UniqueConstraint(fields=('registration', 'player'), name='unique_player_per_registration'),
        ),
        migrations.AddIndex(
            model_name='tournamentrosterlock',
            index=models.Index(fields=['registration', '-created_at'], name='teams_tourn_registr_0349bb_idx'),
        ),
        migrations.AddConstraint(
            model_name='valorantteam',
            constraint=models.UniqueConstraint(fields=('game', 'slug'), name='unique_valorant_team_slug'),
        ),
        migrations.AddConstraint(
            model_name='valorantteam',
            constraint=models.UniqueConstraint(fields=('game', 'name'), name='unique_valorant_team_name'),
        ),
        migrations.AddConstraint(
            model_name='valorantplayermembership',
            constraint=models.UniqueConstraint(condition=models.Q(('is_captain', True), ('status', 'ACTIVE')), fields=('team',), name='one_captain_per_valorant_team'),
        ),
        migrations.AlterUniqueTogether(
            name='valorantplayermembership',
            unique_together={('team', 'profile')},
        ),
    ]
