# Generated by Django 5.2.8 on 2026-01-23 17:57

import apps.user_profile.models_main
import django.core.validators
import django.db.models.deletion
import django.utils.timezone
import django_countries.fields
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ("games", "0001_initial"),
        ("teams", "0001_initial"),
        ("tournaments", "0001_initial"),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name="Bounty",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "title",
                    models.CharField(
                        help_text="Challenge title (e.g., 'First to 100k in Gridshot')",
                        max_length=200,
                    ),
                ),
                (
                    "description",
                    models.TextField(
                        blank=True, help_text="Detailed challenge requirements and rules"
                    ),
                ),
                (
                    "stake_amount",
                    models.IntegerField(help_text="DeltaCoins locked in escrow (creator's stake)"),
                ),
                (
                    "payout_amount",
                    models.IntegerField(
                        blank=True, help_text="Actual payout to winner (stake * 0.95)", null=True
                    ),
                ),
                (
                    "platform_fee",
                    models.IntegerField(
                        blank=True, help_text="Platform fee retained (stake * 0.05)", null=True
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("open", "Open"),
                            ("accepted", "Accepted"),
                            ("in_progress", "In Progress"),
                            ("pending_result", "Pending Result"),
                            ("disputed", "Disputed"),
                            ("completed", "Completed"),
                            ("expired", "Expired"),
                            ("cancelled", "Cancelled"),
                        ],
                        db_index=True,
                        default="open",
                        max_length=20,
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("accepted_at", models.DateTimeField(blank=True, null=True)),
                (
                    "started_at",
                    models.DateTimeField(
                        blank=True, help_text="When match started (IN_PROGRESS)", null=True
                    ),
                ),
                ("result_submitted_at", models.DateTimeField(blank=True, null=True)),
                ("completed_at", models.DateTimeField(blank=True, null=True)),
                (
                    "expires_at",
                    models.DateTimeField(
                        db_index=True, help_text="Auto-refund if still OPEN after this timestamp"
                    ),
                ),
                ("ip_address", models.GenericIPAddressField(blank=True, null=True)),
                ("user_agent", models.CharField(blank=True, max_length=255, null=True)),
                (
                    "acceptor",
                    models.ForeignKey(
                        blank=True,
                        help_text="User who accepted the challenge",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="accepted_bounties",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "creator",
                    models.ForeignKey(
                        help_text="User who created and funded the bounty",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="created_bounties",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "game",
                    models.ForeignKey(
                        help_text="Game for this challenge",
                        on_delete=django.db.models.deletion.PROTECT,
                        to="tournaments.game",
                    ),
                ),
                (
                    "match",
                    models.ForeignKey(
                        blank=True,
                        help_text="Optional link to tournament match if used",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="bounties",
                        to="tournaments.match",
                    ),
                ),
                (
                    "target_user",
                    models.ForeignKey(
                        blank=True,
                        help_text="If set, only this user can accept (private challenge)",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="targeted_bounties",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "winner",
                    models.ForeignKey(
                        blank=True,
                        help_text="Final winner after verification",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="won_bounties",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Bounty",
                "verbose_name_plural": "Bounties",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="GameProfileConfig",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "cooldown_days",
                    models.IntegerField(
                        default=30, help_text="Days before identity can be changed again"
                    ),
                ),
                (
                    "allow_id_change",
                    models.BooleanField(
                        default=True, help_text="Whether users can change identities"
                    ),
                ),
                (
                    "max_pinned_games",
                    models.IntegerField(
                        default=3, help_text="Maximum number of games a user can pin"
                    ),
                ),
                (
                    "require_region",
                    models.BooleanField(
                        default=False, help_text="Whether region is required for passports"
                    ),
                ),
                (
                    "enable_ip_smurf_detection",
                    models.BooleanField(default=False, help_text="Enable IP-based smurf detection"),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
            ],
            options={
                "verbose_name": "Game Passport Configuration",
                "verbose_name_plural": "Game Passport Configuration",
            },
        ),
        migrations.CreateModel(
            name="Badge",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                ("name", models.CharField(max_length=100, unique=True)),
                ("slug", models.SlugField(max_length=100, unique=True)),
                ("description", models.TextField(help_text="What this badge represents")),
                (
                    "icon",
                    models.CharField(
                        default="üèÜ", help_text="Emoji or icon identifier", max_length=50
                    ),
                ),
                (
                    "color",
                    models.CharField(
                        default="#FFD700",
                        help_text="Hex color code for badge display",
                        max_length=7,
                    ),
                ),
                (
                    "rarity",
                    models.CharField(
                        choices=[
                            ("common", "Common"),
                            ("rare", "Rare"),
                            ("epic", "Epic"),
                            ("legendary", "Legendary"),
                        ],
                        default="common",
                        max_length=20,
                    ),
                ),
                (
                    "category",
                    models.CharField(
                        choices=[
                            ("achievement", "Achievement"),
                            ("tournament", "Tournament"),
                            ("milestone", "Milestone"),
                            ("special", "Special Event"),
                            ("community", "Community"),
                        ],
                        default="achievement",
                        max_length=20,
                    ),
                ),
                (
                    "criteria",
                    models.JSONField(
                        default=dict,
                        help_text='\n        Earning criteria:\n        {\n            "type": "match_wins",\n            "threshold": 10,\n            "game": "valorant"  // optional\n        }\n        ',
                    ),
                ),
                (
                    "xp_reward",
                    models.IntegerField(default=0, help_text="XP awarded when badge is earned"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        default=True, help_text="Whether this badge can still be earned"
                    ),
                ),
                (
                    "is_hidden",
                    models.BooleanField(
                        default=False,
                        help_text="Hidden badges don't show in badge list until earned",
                    ),
                ),
                (
                    "order",
                    models.IntegerField(default=0, help_text="Display order (lower = first)"),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
            ],
            options={
                "ordering": ["order", "name"],
                "indexes": [
                    models.Index(
                        fields=["category", "rarity"], name="user_profil_categor_14e389_idx"
                    ),
                    models.Index(
                        fields=["is_active", "is_hidden"], name="user_profil_is_acti_bbbbcc_idx"
                    ),
                ],
            },
        ),
        migrations.CreateModel(
            name="BountyProof",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "proof_url",
                    models.URLField(
                        help_text="Screenshot or video URL (Imgur, YouTube, etc.)", max_length=500
                    ),
                ),
                (
                    "proof_type",
                    models.CharField(
                        choices=[
                            ("screenshot", "Screenshot"),
                            ("video", "Video"),
                            ("replay", "Replay File"),
                        ],
                        default="screenshot",
                        max_length=20,
                    ),
                ),
                (
                    "description",
                    models.TextField(blank=True, help_text="Additional context for proof"),
                ),
                ("submitted_at", models.DateTimeField(auto_now_add=True)),
                ("ip_address", models.GenericIPAddressField(blank=True, null=True)),
                (
                    "bounty",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="proofs",
                        to="user_profile.bounty",
                    ),
                ),
                (
                    "claimed_winner",
                    models.ForeignKey(
                        help_text="User claimed as winner in this proof",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="bounty_win_claims",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "submitted_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="bounty_proofs",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Bounty Proof",
                "verbose_name_plural": "Bounty Proofs",
                "ordering": ["submitted_at"],
            },
        ),
        migrations.CreateModel(
            name="Certificate",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                ("title", models.CharField(help_text="Certificate title", max_length=200)),
                ("tournament_name", models.CharField(help_text="Tournament name", max_length=200)),
                (
                    "tournament_id",
                    models.IntegerField(blank=True, help_text="Tournament ID reference", null=True),
                ),
                (
                    "image",
                    models.ImageField(
                        help_text="Full certificate image", upload_to="certificates/"
                    ),
                ),
                (
                    "thumbnail_url",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Thumbnail URL (auto-generated if empty)",
                        max_length=500,
                    ),
                ),
                ("issued_at", models.DateTimeField(help_text="When certificate was issued")),
                (
                    "verification_code",
                    models.CharField(
                        help_text="Unique verification code", max_length=50, unique=True
                    ),
                ),
                (
                    "is_verified",
                    models.BooleanField(default=True, help_text="Whether certificate is verified"),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                (
                    "metadata",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="Additional certificate data (placement, prize, etc.)",
                    ),
                ),
                (
                    "user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="certificates",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Certificate",
                "verbose_name_plural": "Certificates",
                "ordering": ["-issued_at"],
            },
        ),
        migrations.CreateModel(
            name="EndorsementOpportunity",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "expires_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When endorsement window closes (24 hours after match completion)",
                        verbose_name="Expires At",
                    ),
                ),
                (
                    "is_used",
                    models.BooleanField(
                        default=False,
                        help_text="Player has given endorsement for this match",
                        verbose_name="Used",
                    ),
                ),
                (
                    "used_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="When player gave endorsement",
                        null=True,
                        verbose_name="Used At",
                    ),
                ),
                (
                    "notified",
                    models.BooleanField(
                        default=False,
                        help_text="Player was notified of endorsement opportunity",
                        verbose_name="Notified",
                    ),
                ),
                (
                    "notified_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="When notification was sent",
                        null=True,
                        verbose_name="Notified At",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, verbose_name="Created At")),
                (
                    "match",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="endorsement_opportunities",
                        to="tournaments.match",
                        verbose_name="Match",
                    ),
                ),
                (
                    "player",
                    models.ForeignKey(
                        help_text="Player who can give endorsement",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="endorsement_opportunities",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="Player",
                    ),
                ),
            ],
            options={
                "verbose_name": "Endorsement Opportunity",
                "verbose_name_plural": "Endorsement Opportunities",
                "db_table": "user_profile_endorsement_opportunity",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="Follow",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                (
                    "follower",
                    models.ForeignKey(
                        help_text="User who is following",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="following",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "following",
                    models.ForeignKey(
                        help_text="User being followed",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="followers",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="GameConfig",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "settings",
                    models.JSONField(
                        default=dict,
                        help_text="Game-specific configuration (sensitivity, crosshair, keybinds, etc.)",
                    ),
                ),
                (
                    "is_public",
                    models.BooleanField(
                        default=True, help_text="Show on public profile (owner-only if False)"
                    ),
                ),
                (
                    "notes",
                    models.TextField(
                        blank=True,
                        default="",
                        help_text="Optional notes about this config (e.g., 'Tournament setup')",
                        max_length=500,
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "game",
                    models.ForeignKey(
                        help_text="Game this configuration applies to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="user_configs",
                        to="games.game",
                    ),
                ),
                (
                    "user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="game_configs",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Game Configuration",
                "verbose_name_plural": "Game Configurations",
                "db_table": "user_profile_game_config",
                "ordering": ["-updated_at"],
            },
        ),
        migrations.CreateModel(
            name="GamePassportCooldown",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "cooldown_type",
                    models.CharField(
                        choices=[
                            ("POST_DELETE", "Post-Deletion Cooldown"),
                            ("IDENTITY_LOCK", "Identity Lock"),
                            ("ADMIN_OVERRIDE", "Admin Override"),
                        ],
                        default="POST_DELETE",
                        help_text="Type of cooldown restriction",
                        max_length=20,
                    ),
                ),
                (
                    "reason",
                    models.TextField(blank=True, help_text="Reason for cooldown (admin notes)"),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("expires_at", models.DateTimeField(help_text="When cooldown expires")),
                (
                    "overridden",
                    models.BooleanField(
                        default=False, help_text="Has this cooldown been overridden by admin?"
                    ),
                ),
                (
                    "overridden_at",
                    models.DateTimeField(
                        blank=True, help_text="When was cooldown overridden", null=True
                    ),
                ),
                (
                    "override_reason",
                    models.TextField(blank=True, help_text="Reason for overriding cooldown"),
                ),
                (
                    "game",
                    models.ForeignKey(
                        help_text="Game affected by cooldown",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="passport_cooldowns",
                        to="games.game",
                    ),
                ),
                (
                    "overridden_by",
                    models.ForeignKey(
                        blank=True,
                        help_text="Admin who overrode cooldown",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="overridden_cooldowns",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "user",
                    models.ForeignKey(
                        help_text="User with cooldown restriction",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="passport_cooldowns",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Game Passport Cooldown",
                "verbose_name_plural": "Game Passport Cooldowns",
                "db_table": "user_profile_gamepassport_cooldown",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="GamePassportSchema",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "identity_fields",
                    models.JSONField(
                        default=dict,
                        help_text='\n        Required identity fields for this game.\n        Format: {\n            "riot_name": {"label": "Riot ID", "required": True, "max_length": 50},\n            "tagline": {"label": "Tagline", "required": True, "max_length": 5}\n        }\n        ',
                    ),
                ),
                (
                    "identity_format",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Format template (e.g., '{riot_name}#{tagline}' for Riot games)",
                        max_length=200,
                    ),
                ),
                (
                    "identity_key_format",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Normalization format for uniqueness check (e.g., '{riot_name_lower}#{tagline_lower}')",
                        max_length=200,
                    ),
                ),
                (
                    "region_choices",
                    models.JSONField(
                        default=list,
                        help_text='\n        Allowed region choices for this game.\n        Format: [\n            {"value": "NA", "label": "North America"},\n            {"value": "EU", "label": "Europe"}\n        ]\n        ',
                    ),
                ),
                (
                    "region_required",
                    models.BooleanField(
                        default=False, help_text="Whether region selection is mandatory"
                    ),
                ),
                (
                    "role_choices",
                    models.JSONField(
                        default=list,
                        help_text='\n        Available role choices for this game.\n        Format: [\n            {"value": "duelist", "label": "Duelist"},\n            {"value": "controller", "label": "Controller"}\n        ]\n        ',
                    ),
                ),
                (
                    "platform_choices",
                    models.JSONField(
                        default=list,
                        help_text='\n        Platform choices for cross-platform games.\n        Format: ["ps5", "xbox", "pc", "switch", "mobile"]\n        ',
                    ),
                ),
                (
                    "server_choices",
                    models.JSONField(
                        default=list,
                        help_text='\n        Server/datacenter choices for games with server-based regions.\n        Format: ["use", "usw", "euw", "eue", "sea", "etc."]\n        ',
                    ),
                ),
                (
                    "mode_choices",
                    models.JSONField(
                        default=list,
                        help_text='\n        Game mode choices (PUBG modes, Rocket League playlists, etc.).\n        Format: ["tpp", "fpp", "1v1", "2v2", "3v3", etc.]\n        ',
                    ),
                ),
                (
                    "premier_rating_choices",
                    models.JSONField(
                        default=list,
                        help_text='\n        CS2 Premier rating ranges.\n        Format: ["0-5000", "5000-10000", "10000-15000", etc.]\n        ',
                    ),
                ),
                (
                    "division_choices",
                    models.JSONField(
                        default=list,
                        help_text='\n        EA FC/eFootball division choices.\n        Format: ["div10", "div9", "div8", ..., "elite"]\n        ',
                    ),
                ),
                (
                    "rank_system",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Rank system identifier (e.g., 'valorant_competitive', 'dota2_mmr')",
                        max_length=50,
                    ),
                ),
                (
                    "rank_choices",
                    models.JSONField(
                        default=list,
                        help_text='\n        Available rank choices for this game.\n        Format: [\n            {"value": "iron", "label": "Iron", "tier": 1},\n            {"value": "bronze", "label": "Bronze", "tier": 2}\n        ]\n        ',
                    ),
                ),
                (
                    "normalization_rules",
                    models.JSONField(
                        default=dict,
                        help_text='\n        Rules for normalizing identity values.\n        Format: {\n            "riot_name": {"lowercase": true, "strip": true, "max_length": 50},\n            "tagline": {"lowercase": true, "strip": true, "max_length": 5}\n        }\n        ',
                    ),
                ),
                (
                    "platform_specific",
                    models.BooleanField(
                        default=False,
                        help_text="Whether identity is platform-specific (PC, Mobile, Console)",
                    ),
                ),
                (
                    "requires_verification",
                    models.BooleanField(
                        default=False,
                        help_text="Whether this game requires external verification (for Phase 2+)",
                    ),
                ),
                (
                    "notes",
                    models.TextField(
                        blank=True,
                        default="",
                        help_text="Admin notes about this schema configuration",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "game",
                    models.OneToOneField(
                        help_text="Game this schema applies to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="passport_schema",
                        to="games.game",
                    ),
                ),
            ],
            options={
                "verbose_name": "Game Passport Schema",
                "verbose_name_plural": "Game Passport Schemas",
                "ordering": ["game__name"],
            },
        ),
        migrations.CreateModel(
            name="GameProfile",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "game_display_name",
                    models.CharField(
                        editable=False, help_text="Auto-filled from choices", max_length=100
                    ),
                ),
                (
                    "ign",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="In-game name / username (e.g., 'Player123' for Riot, 'SteamID64' for Steam)",
                        max_length=64,
                        null=True,
                    ),
                ),
                (
                    "discriminator",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="Discriminator / Tag / Zone (e.g., '#NA1' for Riot, Zone ID for MLBB)",
                        max_length=32,
                        null=True,
                    ),
                ),
                (
                    "platform",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="Platform identifier (e.g., 'PC', 'PS5', 'Xbox', platform-specific ID)",
                        max_length=32,
                        null=True,
                    ),
                ),
                (
                    "in_game_name",
                    models.CharField(
                        help_text="Display name (computed from ign+discriminator, e.g., 'Player#TAG')",
                        max_length=100,
                    ),
                ),
                (
                    "identity_key",
                    models.CharField(
                        db_index=True,
                        help_text="Normalized identity for uniqueness (computed from ign+discriminator+region+platform, lowercase)",
                        max_length=100,
                    ),
                ),
                (
                    "rank_name",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Current rank (e.g., Diamond 2, Global Elite)",
                        max_length=50,
                    ),
                ),
                (
                    "rank_image",
                    models.ImageField(
                        blank=True,
                        help_text="Rank badge image",
                        null=True,
                        upload_to="rank_images/",
                    ),
                ),
                (
                    "rank_points",
                    models.IntegerField(blank=True, help_text="LP/RR/MMR points", null=True),
                ),
                (
                    "rank_tier",
                    models.IntegerField(
                        default=0, help_text="Numeric rank tier (for sorting/comparison)"
                    ),
                ),
                (
                    "peak_rank",
                    models.CharField(
                        blank=True, default="", help_text="Highest rank achieved", max_length=50
                    ),
                ),
                (
                    "matches_played",
                    models.IntegerField(default=0, help_text="Total matches played"),
                ),
                (
                    "win_rate",
                    models.IntegerField(default=0, help_text="Win rate percentage (0-100)"),
                ),
                (
                    "kd_ratio",
                    models.FloatField(blank=True, help_text="Kill/Death ratio", null=True),
                ),
                (
                    "hours_played",
                    models.IntegerField(blank=True, help_text="Total hours played", null=True),
                ),
                (
                    "main_role",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Main role/position (e.g., Duelist, Support, Mid)",
                        max_length=50,
                    ),
                ),
                (
                    "visibility",
                    models.CharField(
                        choices=[
                            ("PUBLIC", "Public"),
                            ("PROTECTED", "Protected"),
                            ("PRIVATE", "Private"),
                        ],
                        default="PUBLIC",
                        help_text="Privacy level for this passport",
                        max_length=20,
                    ),
                ),
                ("is_lft", models.BooleanField(default=False, help_text="Looking for team flag")),
                (
                    "region",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        default="",
                        help_text="Player region (part of identity for some games, used for join gating)",
                        max_length=10,
                    ),
                ),
                (
                    "is_pinned",
                    models.BooleanField(
                        default=False, help_text="Whether this passport is pinned to profile"
                    ),
                ),
                (
                    "pinned_order",
                    models.SmallIntegerField(
                        blank=True, help_text="Order for pinned passports (1-N)", null=True
                    ),
                ),
                ("sort_order", models.SmallIntegerField(default=0, help_text="General sort order")),
                (
                    "locked_until",
                    models.DateTimeField(
                        blank=True,
                        help_text="Identity cannot be changed until this date",
                        null=True,
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[("ACTIVE", "Active"), ("SUSPENDED", "Suspended")],
                        default="ACTIVE",
                        help_text="Passport status",
                        max_length=20,
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="SHOWCASE/CONFIG ONLY - DO NOT store identity here (use ign/discriminator/region/platform columns)",
                    ),
                ),
                (
                    "is_verified",
                    models.BooleanField(
                        default=False,
                        editable=False,
                        help_text="DEPRECATED: Use verification_status instead",
                    ),
                ),
                (
                    "verification_status",
                    models.CharField(
                        choices=[
                            ("PENDING", "Pending Verification"),
                            ("VERIFIED", "Verified"),
                            ("FLAGGED", "Flagged for Review"),
                        ],
                        db_index=True,
                        default="PENDING",
                        help_text="Verification pipeline status: PENDING ‚Üí VERIFIED or FLAGGED",
                        max_length=20,
                    ),
                ),
                (
                    "verification_notes",
                    models.TextField(
                        blank=True, default="", help_text="Admin notes for verification/flagging"
                    ),
                ),
                (
                    "verified_at",
                    models.DateTimeField(
                        blank=True, help_text="Timestamp when passport was verified", null=True
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "game",
                    models.ForeignKey(
                        help_text="Game from registry (source of truth)",
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="passports",
                        to="games.game",
                    ),
                ),
                (
                    "user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="game_profiles",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "verified_by",
                    models.ForeignKey(
                        blank=True,
                        help_text="Admin who verified this passport",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="verified_passports",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Game Passport",
                "verbose_name_plural": "Game Passports",
                "ordering": ["-is_pinned", "-pinned_order", "sort_order", "-updated_at"],
            },
        ),
        migrations.CreateModel(
            name="GamePassportDeleteOTP",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                ("code", models.CharField(help_text="6-digit OTP code", max_length=6)),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                (
                    "expires_at",
                    models.DateTimeField(help_text="OTP expires 10 minutes after creation"),
                ),
                ("used", models.BooleanField(default=False, help_text="Has this OTP been used?")),
                (
                    "used_at",
                    models.DateTimeField(blank=True, help_text="When was OTP used", null=True),
                ),
                (
                    "ip_address",
                    models.GenericIPAddressField(
                        blank=True, help_text="IP address of request", null=True
                    ),
                ),
                (
                    "user",
                    models.ForeignKey(
                        help_text="User requesting deletion",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="passport_delete_otps",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "passport",
                    models.ForeignKey(
                        help_text="Passport to be deleted",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="delete_otps",
                        to="user_profile.gameprofile",
                    ),
                ),
            ],
            options={
                "verbose_name": "Game Passport Delete OTP",
                "verbose_name_plural": "Game Passport Delete OTPs",
                "db_table": "user_profile_gamepassport_delete_otp",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="GameProfileAlias",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "old_in_game_name",
                    models.CharField(
                        help_text="Previous in-game name (display format)", max_length=100
                    ),
                ),
                (
                    "old_ign",
                    models.CharField(
                        blank=True, help_text="Previous IGN/username", max_length=64, null=True
                    ),
                ),
                (
                    "old_discriminator",
                    models.CharField(
                        blank=True,
                        help_text="Previous discriminator/tag/zone",
                        max_length=32,
                        null=True,
                    ),
                ),
                (
                    "old_platform",
                    models.CharField(
                        blank=True, help_text="Previous platform", max_length=32, null=True
                    ),
                ),
                (
                    "old_region",
                    models.CharField(
                        blank=True, default="", help_text="Previous region", max_length=10
                    ),
                ),
                (
                    "changed_at",
                    models.DateTimeField(
                        auto_now_add=True, help_text="When the identity was changed"
                    ),
                ),
                (
                    "changed_by_user_id",
                    models.IntegerField(
                        blank=True,
                        help_text="User ID who made the change (nullable for system)",
                        null=True,
                    ),
                ),
                (
                    "request_ip",
                    models.GenericIPAddressField(
                        blank=True, help_text="IP address of change request", null=True
                    ),
                ),
                (
                    "reason",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Reason for identity change",
                        max_length=200,
                    ),
                ),
                (
                    "game_profile",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="aliases",
                        to="user_profile.gameprofile",
                    ),
                ),
            ],
            options={
                "verbose_name": "Game Profile Alias",
                "verbose_name_plural": "Game Profile Aliases",
                "ordering": ["-changed_at"],
            },
        ),
        migrations.CreateModel(
            name="HardwareGear",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "category",
                    models.CharField(
                        choices=[
                            ("MOUSE", "Mouse"),
                            ("KEYBOARD", "Keyboard"),
                            ("HEADSET", "Headset"),
                            ("MONITOR", "Monitor"),
                            ("MOUSEPAD", "Mousepad"),
                        ],
                        help_text="Hardware category (mouse, keyboard, etc.)",
                        max_length=20,
                    ),
                ),
                (
                    "brand",
                    models.CharField(
                        help_text="Brand name (e.g., Logitech, Razer, SteelSeries)", max_length=100
                    ),
                ),
                (
                    "model",
                    models.CharField(
                        help_text="Product model (e.g., G Pro X Superlight)", max_length=200
                    ),
                ),
                (
                    "specs",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="Hardware specifications (DPI, polling rate, weight, etc.)",
                    ),
                ),
                (
                    "purchase_url",
                    models.URLField(
                        blank=True,
                        default="",
                        help_text="Optional purchase link (affiliate URL)",
                        max_length=500,
                    ),
                ),
                (
                    "is_public",
                    models.BooleanField(
                        default=True, help_text="Show on public profile (owner-only if False)"
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="hardware_gear",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Hardware Gear",
                "verbose_name_plural": "Hardware Gear",
                "db_table": "user_profile_hardware_gear",
                "ordering": ["category", "-updated_at"],
            },
        ),
        migrations.CreateModel(
            name="HighlightClip",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "clip_url",
                    models.URLField(
                        help_text="YouTube, Twitch clip, or Medal.tv URL", max_length=500
                    ),
                ),
                (
                    "platform",
                    models.CharField(
                        choices=[
                            ("youtube", "YouTube"),
                            ("twitch", "Twitch"),
                            ("medal", "Medal.tv"),
                        ],
                        editable=False,
                        max_length=20,
                    ),
                ),
                (
                    "video_id",
                    models.CharField(
                        editable=False, help_text="Video/clip identifier", max_length=200
                    ),
                ),
                (
                    "embed_url",
                    models.URLField(
                        editable=False,
                        help_text="Safe iframe embed URL (auto-generated)",
                        max_length=500,
                    ),
                ),
                (
                    "thumbnail_url",
                    models.URLField(
                        blank=True,
                        editable=False,
                        help_text="Video thumbnail (auto-generated, may be NULL if unavailable)",
                        max_length=500,
                        null=True,
                    ),
                ),
                ("title", models.CharField(help_text="Clip title/description", max_length=200)),
                (
                    "display_order",
                    models.IntegerField(
                        default=0, help_text="Display order on profile (lower = first)"
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "game",
                    models.ForeignKey(
                        blank=True,
                        help_text="Game featured in this clip",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="highlight_clips",
                        to="games.game",
                    ),
                ),
                (
                    "user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="highlight_clips",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Highlight Clip",
                "verbose_name_plural": "Highlight Clips",
                "db_table": "user_profile_highlight_clip",
                "ordering": ["display_order", "-created_at"],
            },
        ),
        migrations.CreateModel(
            name="Match",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                ("game_name", models.CharField(help_text="Game name", max_length=100)),
                (
                    "mode",
                    models.CharField(
                        default="Competitive",
                        help_text="Game mode (Competitive, Ranked, Casual)",
                        max_length=50,
                    ),
                ),
                (
                    "result",
                    models.CharField(
                        choices=[("win", "Win"), ("loss", "Loss"), ("draw", "Draw")],
                        help_text="Match result",
                        max_length=10,
                    ),
                ),
                (
                    "score",
                    models.CharField(
                        blank=True, default="", help_text="Match score (e.g., 13-11)", max_length=20
                    ),
                ),
                (
                    "kda",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Kill/Death/Assist (e.g., 24/12/8)",
                        max_length=30,
                    ),
                ),
                (
                    "duration",
                    models.IntegerField(
                        blank=True, help_text="Match duration in minutes", null=True
                    ),
                ),
                ("played_at", models.DateTimeField(help_text="When the match was played")),
                (
                    "metadata",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="Additional match data (map, characters, tournament_id, etc.)",
                    ),
                ),
                (
                    "user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="matches",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Match",
                "verbose_name_plural": "Matches",
                "ordering": ["-played_at"],
            },
        ),
        migrations.CreateModel(
            name="PinnedHighlight",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "pinned_at",
                    models.DateTimeField(auto_now_add=True, help_text="When this clip was pinned"),
                ),
                (
                    "clip",
                    models.ForeignKey(
                        help_text="The highlighted clip being pinned",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="pinned_by",
                        to="user_profile.highlightclip",
                    ),
                ),
                (
                    "user",
                    models.OneToOneField(
                        help_text="User who pinned this clip",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="pinned_highlight",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Pinned Highlight",
                "verbose_name_plural": "Pinned Highlights",
                "db_table": "user_profile_pinned_highlight",
            },
        ),
        migrations.CreateModel(
            name="SkillEndorsement",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "skill_name",
                    models.CharField(
                        choices=[
                            ("shotcalling", "Shotcalling"),
                            ("aim", "Aim"),
                            ("clutch", "Clutch"),
                            ("support", "Support"),
                            ("igl", "IGL (In-Game Leader)"),
                            ("entry_fragging", "Entry Fragging"),
                        ],
                        db_index=True,
                        help_text="Recognized skill category",
                        max_length=20,
                        verbose_name="Skill",
                    ),
                ),
                (
                    "comment",
                    models.TextField(
                        blank=True,
                        help_text="Optional endorsement message (max 500 chars)",
                        max_length=500,
                        verbose_name="Comment",
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True,
                        db_index=True,
                        help_text="When endorsement was awarded",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "ip_address",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address of endorser (for fraud detection)",
                        null=True,
                        verbose_name="IP Address",
                    ),
                ),
                (
                    "user_agent",
                    models.CharField(
                        blank=True,
                        help_text="Browser user agent (for fraud detection)",
                        max_length=500,
                        verbose_name="User Agent",
                    ),
                ),
                (
                    "is_flagged",
                    models.BooleanField(
                        default=False,
                        help_text="Endorsement flagged for review (spam/manipulation)",
                        verbose_name="Flagged",
                    ),
                ),
                (
                    "flag_reason",
                    models.TextField(
                        blank=True,
                        help_text="Reason for flagging (moderator notes)",
                        verbose_name="Flag Reason",
                    ),
                ),
                (
                    "reviewed_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="When endorsement was reviewed",
                        null=True,
                        verbose_name="Reviewed At",
                    ),
                ),
                (
                    "bounty",
                    models.ForeignKey(
                        blank=True,
                        help_text="Bounty match where skill was recognized",
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="skill_endorsements",
                        to="user_profile.bounty",
                        verbose_name="Bounty",
                    ),
                ),
                (
                    "endorser",
                    models.ForeignKey(
                        help_text="Player who gave the endorsement (teammate)",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="endorsements_given",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="Endorser",
                    ),
                ),
                (
                    "match",
                    models.ForeignKey(
                        blank=True,
                        help_text="Tournament match where skill was recognized",
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="skill_endorsements",
                        to="tournaments.match",
                        verbose_name="Match",
                    ),
                ),
                (
                    "receiver",
                    models.ForeignKey(
                        help_text="Player who received the endorsement",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="endorsements_received",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="Receiver",
                    ),
                ),
                (
                    "reviewed_by",
                    models.ForeignKey(
                        blank=True,
                        help_text="Moderator who reviewed flagged endorsement",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="endorsements_reviewed",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="Reviewed By",
                    ),
                ),
            ],
            options={
                "verbose_name": "Skill Endorsement",
                "verbose_name_plural": "Skill Endorsements",
                "db_table": "user_profile_skill_endorsement",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="SocialLink",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "platform",
                    models.CharField(
                        choices=[
                            ("twitch", "Twitch"),
                            ("youtube", "YouTube"),
                            ("kick", "Kick"),
                            ("facebook_gaming", "Facebook Gaming"),
                            ("twitter", "Twitter/X"),
                            ("discord", "Discord"),
                            ("instagram", "Instagram"),
                            ("tiktok", "TikTok"),
                            ("facebook", "Facebook"),
                            ("steam", "Steam"),
                            ("riot", "Riot Games"),
                            ("github", "GitHub"),
                        ],
                        help_text="Social media platform",
                        max_length=20,
                    ),
                ),
                ("url", models.URLField(help_text="Full URL to profile", max_length=500)),
                (
                    "handle",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Display name or handle (optional)",
                        max_length=100,
                    ),
                ),
                (
                    "is_verified",
                    models.BooleanField(
                        default=False,
                        help_text="Whether this link has been verified by platform API",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="social_links",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Social Link",
                "verbose_name_plural": "Social Links",
                "ordering": ["platform"],
            },
        ),
        migrations.CreateModel(
            name="StreamConfig",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "stream_url",
                    models.URLField(
                        help_text="Twitch, YouTube, or Facebook stream URL", max_length=500
                    ),
                ),
                (
                    "platform",
                    models.CharField(
                        choices=[
                            ("twitch", "Twitch"),
                            ("youtube", "YouTube"),
                            ("facebook", "Facebook Gaming"),
                        ],
                        editable=False,
                        max_length=20,
                    ),
                ),
                (
                    "channel_id",
                    models.CharField(
                        editable=False, help_text="Username or channel identifier", max_length=200
                    ),
                ),
                (
                    "embed_url",
                    models.URLField(
                        editable=False,
                        help_text="Safe iframe embed URL (auto-generated)",
                        max_length=500,
                    ),
                ),
                (
                    "title",
                    models.CharField(
                        blank=True, default="", help_text="Optional stream title", max_length=200
                    ),
                ),
                (
                    "is_active",
                    models.BooleanField(default=True, help_text="Show stream on profile"),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "user",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="stream_config",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Stream Configuration",
                "verbose_name_plural": "Stream Configurations",
                "db_table": "user_profile_stream_config",
            },
        ),
        migrations.CreateModel(
            name="TrophyShowcaseConfig",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "border",
                    models.CharField(
                        choices=[
                            ("none", "No Border"),
                            ("bronze", "Bronze Border"),
                            ("silver", "Silver Border"),
                            ("gold", "Gold Border"),
                            ("platinum", "Platinum Border"),
                            ("diamond", "Diamond Border"),
                            ("master", "Master Border"),
                        ],
                        default="none",
                        help_text="Selected profile border (must be unlocked)",
                        max_length=20,
                    ),
                ),
                (
                    "frame",
                    models.CharField(
                        choices=[
                            ("none", "No Frame"),
                            ("competitor", "Competitor Frame"),
                            ("finalist", "Finalist Frame"),
                            ("champion", "Champion Frame"),
                            ("grand_champion", "Grand Champion Frame"),
                            ("legend", "Legend Frame"),
                        ],
                        default="none",
                        help_text="Selected profile frame (must be unlocked)",
                        max_length=20,
                    ),
                ),
                (
                    "pinned_badge_ids",
                    models.JSONField(
                        blank=True,
                        default=list,
                        help_text="List of UserBadge IDs to display (max 5)",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "user",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="trophy_showcase",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Trophy Showcase Config",
                "verbose_name_plural": "Trophy Showcase Configs",
                "db_table": "user_profile_trophy_showcase",
            },
        ),
        migrations.CreateModel(
            name="UserActivity",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "event_type",
                    models.CharField(
                        choices=[
                            ("tournament_registered", "Registered for Tournament"),
                            ("tournament_joined", "Tournament Started"),
                            ("tournament_completed", "Tournament Finished"),
                            ("tournament_won", "Won Tournament (1st)"),
                            ("tournament_runner_up", "Runner-Up (2nd)"),
                            ("tournament_top4", "Top 4 Placement"),
                            ("tournament_placed", "Placed in Tournament"),
                            ("match_played", "Played Match"),
                            ("match_won", "Won Match"),
                            ("match_lost", "Lost Match"),
                            ("coins_earned", "Earned DeltaCoins"),
                            ("coins_spent", "Spent DeltaCoins"),
                            ("achievement_unlocked", "Unlocked Achievement"),
                            ("team_created", "Created Team"),
                            ("team_joined", "Joined Team"),
                            ("team_left", "Left Team"),
                        ],
                        db_index=True,
                        help_text="Type of event (tournament_won, match_played, etc.)",
                        max_length=50,
                    ),
                ),
                (
                    "timestamp",
                    models.DateTimeField(
                        auto_now_add=True,
                        db_index=True,
                        help_text="When the event occurred (immutable)",
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="Event-specific data (tournament_id, match_id, amount, etc.)",
                    ),
                ),
                (
                    "source_model",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="Model name that triggered event (Registration, Match, etc.)",
                        max_length=50,
                        null=True,
                    ),
                ),
                (
                    "source_id",
                    models.IntegerField(
                        blank=True,
                        db_index=True,
                        help_text="Primary key of source model instance",
                        null=True,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, help_text="Event creation timestamp"),
                ),
                (
                    "user",
                    models.ForeignKey(
                        help_text="User who performed the action",
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="activities",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "User Activity",
                "verbose_name_plural": "User Activities",
                "db_table": "user_profile_useractivity",
                "ordering": ["-timestamp"],
                "permissions": [
                    ("view_activity_feed", "Can view user activity feed"),
                    ("export_activity_data", "Can export activity data (GDPR)"),
                ],
            },
        ),
        migrations.CreateModel(
            name="UserAuditEvent",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "event_type",
                    models.CharField(
                        choices=[
                            ("public_id_assigned", "Public ID Assigned"),
                            ("public_id_backfilled", "Public ID Backfilled"),
                            ("economy_sync", "Economy Sync"),
                            ("economy_drift_corrected", "Economy Drift Corrected"),
                            ("stats_recomputed", "Stats Recomputed"),
                            ("stats_backfilled", "Stats Backfilled"),
                            ("profile_created", "Profile Created"),
                            ("profile_updated", "Profile Updated"),
                            ("privacy_settings_changed", "Privacy Settings Changed"),
                            ("game_profile_created", "Game Profile Created"),
                            ("game_profile_updated", "Game Profile Updated"),
                            ("game_profile_deleted", "Game Profile Deleted"),
                            ("follow_created", "Follow Created"),
                            ("follow_deleted", "Follow Deleted"),
                            ("follow_requested", "Follow Request Created"),
                            ("follow_request_approved", "Follow Request Approved"),
                            ("follow_request_rejected", "Follow Request Rejected"),
                            ("admin_override", "Admin Override"),
                            ("system_reconcile", "System Reconcile"),
                        ],
                        db_index=True,
                        help_text="Type of event",
                        max_length=50,
                    ),
                ),
                (
                    "source_app",
                    models.CharField(
                        db_index=True,
                        help_text="Source app (user_profile, economy, tournaments, etc.)",
                        max_length=50,
                    ),
                ),
                (
                    "object_type",
                    models.CharField(
                        help_text="Type of object changed (UserProfile, UserProfileStats, DeltaCrownWallet, etc.)",
                        max_length=100,
                    ),
                ),
                ("object_id", models.BigIntegerField(help_text="ID of object changed")),
                (
                    "request_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="Request ID for correlation",
                        max_length=100,
                        null=True,
                    ),
                ),
                (
                    "idempotency_key",
                    models.CharField(
                        blank=True,
                        help_text="Idempotency key for deduplication",
                        max_length=100,
                        null=True,
                    ),
                ),
                (
                    "ip_address",
                    models.GenericIPAddressField(
                        blank=True, help_text="IP address of requester", null=True
                    ),
                ),
                (
                    "user_agent",
                    models.CharField(
                        blank=True, help_text="User agent string", max_length=500, null=True
                    ),
                ),
                (
                    "before_snapshot",
                    models.JSONField(
                        blank=True,
                        help_text="State before change (privacy-safe fields only)",
                        null=True,
                    ),
                ),
                (
                    "after_snapshot",
                    models.JSONField(
                        blank=True,
                        help_text="State after change (privacy-safe fields only)",
                        null=True,
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="Additional context (reason, source command, etc.)",
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        db_index=True,
                        default=django.utils.timezone.now,
                        help_text="When event occurred",
                    ),
                ),
                (
                    "actor_user",
                    models.ForeignKey(
                        blank=True,
                        help_text="User who performed the action (null for system)",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="audit_actions_performed",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "subject_user",
                    models.ForeignKey(
                        help_text="User whose data was affected",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="audit_events",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "User Audit Event",
                "verbose_name_plural": "User Audit Events",
                "db_table": "user_profile_audit_event",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="UserBadge",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                ("earned_at", models.DateTimeField(auto_now_add=True)),
                (
                    "progress",
                    models.JSONField(
                        default=dict,
                        help_text='\n        Progress toward earning badge:\n        {\n            "current": 5,\n            "required": 10,\n            "updated_at": "2025-11-26T12:00:00Z"\n        }\n        ',
                    ),
                ),
                (
                    "context",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text='\n        Context about how badge was earned:\n        {\n            "tournament_id": 123,\n            "match_id": 456,\n            "game": "valorant"\n        }\n        ',
                    ),
                ),
                (
                    "is_pinned",
                    models.BooleanField(
                        default=False, help_text="Whether this badge is pinned to profile showcase"
                    ),
                ),
                (
                    "badge",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="earned_by",
                        to="user_profile.badge",
                    ),
                ),
                (
                    "user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="user_badges",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "ordering": ["-earned_at"],
            },
        ),
        migrations.CreateModel(
            name="UserProfile",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "uuid",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        help_text="Public unique identifier",
                        unique=True,
                    ),
                ),
                (
                    "public_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="Human-readable public identifier (DC-YY-NNNNNN format, e.g., DC-25-000042)",
                        max_length=15,
                        null=True,
                        unique=True,
                    ),
                ),
                (
                    "real_full_name",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Full legal name for official tournament registration and certificates",
                        max_length=200,
                    ),
                ),
                (
                    "date_of_birth",
                    models.DateField(
                        blank=True,
                        help_text="Date of birth for age verification and tournament eligibility",
                        null=True,
                    ),
                ),
                (
                    "nationality",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Nationality/citizenship (may differ from country of residence)",
                        max_length=100,
                    ),
                ),
                (
                    "kyc_status",
                    models.CharField(
                        choices=[
                            ("unverified", "Unverified"),
                            ("pending", "Pending Review"),
                            ("verified", "Verified"),
                            ("rejected", "Rejected"),
                        ],
                        default="unverified",
                        help_text="KYC verification status",
                        max_length=20,
                    ),
                ),
                (
                    "kyc_verified_at",
                    models.DateTimeField(
                        blank=True, help_text="Timestamp when KYC was verified", null=True
                    ),
                ),
                ("display_name", models.CharField(max_length=80)),
                (
                    "slug",
                    models.SlugField(
                        blank=True,
                        default="",
                        help_text="Custom URL slug (e.g., deltacrown.com/u/legend)",
                        max_length=64,
                        unique=True,
                    ),
                ),
                (
                    "avatar",
                    models.ImageField(
                        blank=True,
                        null=True,
                        upload_to=apps.user_profile.models_main.user_avatar_path,
                    ),
                ),
                (
                    "banner",
                    models.ImageField(
                        blank=True,
                        help_text="Profile banner image",
                        null=True,
                        upload_to=apps.user_profile.models_main.user_banner_path,
                    ),
                ),
                (
                    "bio",
                    models.TextField(
                        blank=True, db_default="", default="", help_text="Profile bio/headline"
                    ),
                ),
                (
                    "about_bio",
                    models.TextField(
                        blank=True,
                        db_default="",
                        default="",
                        help_text="Short about/bio copy used during account verification safety nets",
                    ),
                ),
                (
                    "country",
                    django_countries.fields.CountryField(
                        blank=True,
                        help_text="Country of residence (for regional tournaments, with flag support)",
                        max_length=2,
                    ),
                ),
                (
                    "region",
                    models.CharField(
                        choices=[
                            ("BD", "Bangladesh"),
                            ("SA", "South Asia"),
                            ("AS", "Asia (Other)"),
                            ("EU", "Europe"),
                            ("NA", "North America"),
                        ],
                        default="BD",
                        max_length=2,
                    ),
                ),
                (
                    "city",
                    models.CharField(
                        blank=True, default="", help_text="City of residence", max_length=100
                    ),
                ),
                (
                    "postal_code",
                    models.CharField(
                        blank=True, default="", help_text="Postal/ZIP code", max_length=20
                    ),
                ),
                (
                    "address",
                    models.TextField(
                        blank=True,
                        default="",
                        help_text="Street address for correspondence and prize shipping",
                        max_length=300,
                    ),
                ),
                (
                    "gender",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("male", "Male"),
                            ("female", "Female"),
                            ("other", "Other"),
                            ("prefer_not_to_say", "Prefer not to say"),
                        ],
                        default="",
                        help_text="Gender identity (optional, for demographics and gender-specific events)",
                        max_length=20,
                    ),
                ),
                (
                    "pronouns",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("", "Prefer not to say"),
                            ("he_him", "He/Him"),
                            ("she_her", "She/Her"),
                            ("they_them", "They/Them"),
                            ("she_they", "She/They"),
                            ("he_they", "He/They"),
                            ("other", "Other"),
                        ],
                        default="",
                        help_text="Preferred pronouns (automatically suggested based on gender)",
                        max_length=20,
                    ),
                ),
                (
                    "phone",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Primary phone number (international format preferred: +8801XXXXXXXXX)",
                        max_length=20,
                    ),
                ),
                (
                    "whatsapp",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="WhatsApp number (can be different from phone, international format)",
                        max_length=20,
                    ),
                ),
                (
                    "secondary_email",
                    models.EmailField(
                        blank=True,
                        default="",
                        help_text="Public/secondary email for contact (primary email stays private)",
                        max_length=254,
                    ),
                ),
                (
                    "secondary_email_verified",
                    models.BooleanField(
                        default=False, help_text="Whether secondary email has been verified via OTP"
                    ),
                ),
                (
                    "preferred_contact_method",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("email", "Email"),
                            ("phone", "Phone"),
                            ("whatsapp", "WhatsApp"),
                            ("discord", "Discord"),
                            ("facebook", "Facebook"),
                        ],
                        default="",
                        help_text="User's preferred method of contact",
                        max_length=20,
                    ),
                ),
                (
                    "emergency_contact_name",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Emergency contact full name",
                        max_length=200,
                    ),
                ),
                (
                    "emergency_contact_phone",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Emergency contact phone number",
                        max_length=20,
                    ),
                ),
                (
                    "emergency_contact_relation",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Relationship to emergency contact (e.g., Parent, Spouse, Guardian)",
                        max_length=50,
                    ),
                ),
                (
                    "reputation_score",
                    models.IntegerField(
                        default=100, help_text="Fair play karma rating (anti-toxicity)"
                    ),
                ),
                (
                    "skill_rating",
                    models.IntegerField(
                        default=1000, help_text="Platform-calculated ELO/MMR for dynamic seeding"
                    ),
                ),
                (
                    "level",
                    models.IntegerField(
                        default=1, help_text="User level based on platform activity"
                    ),
                ),
                ("xp", models.IntegerField(default=0, help_text="Experience points")),
                (
                    "pinned_badges",
                    models.JSONField(
                        blank=True,
                        default=list,
                        help_text="List of pinned badge IDs for showcase (max 5)",
                    ),
                ),
                (
                    "inventory_items",
                    models.JSONField(
                        blank=True,
                        default=list,
                        help_text="Digital assets (profile frames, chat colors, etc.)",
                    ),
                ),
                (
                    "deltacoin_balance",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Current DeltaCoin balance (read-only, managed by wallet)",
                        max_digits=10,
                    ),
                ),
                (
                    "lifetime_earnings",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Total value of prizes won (bragging rights)",
                        max_digits=10,
                    ),
                ),
                (
                    "stream_status",
                    models.BooleanField(
                        default=False,
                        help_text="Indicates if user is currently streaming (grants XP bonuses)",
                    ),
                ),
                (
                    "profile_story",
                    models.TextField(
                        blank=True,
                        default="",
                        help_text="Detailed player story/background for About section",
                    ),
                ),
                (
                    "competitive_goal",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Short-term competitive goal or aspiration (120-160 characters)",
                        max_length=160,
                    ),
                ),
                ("preferred_games", models.JSONField(blank=True, default=list, null=True)),
                (
                    "game_profiles",
                    models.JSONField(
                        blank=True,
                        default=list,
                        help_text="DEPRECATED: Use GameProfile model and GamePassportService instead. See GP-0 documentation.",
                    ),
                ),
                (
                    "preferred_language",
                    models.CharField(
                        choices=[("en", "English"), ("bn", "Bengali (Coming Soon)")],
                        default="en",
                        help_text="Preferred UI language",
                        max_length=10,
                    ),
                ),
                (
                    "timezone_pref",
                    models.CharField(
                        default="Asia/Dhaka",
                        help_text="User's preferred timezone for displaying times (e.g., 'Asia/Dhaka', 'UTC')",
                        max_length=50,
                    ),
                ),
                (
                    "time_format",
                    models.CharField(
                        choices=[("12h", "12-hour (3:00 PM)"), ("24h", "24-hour (15:00)")],
                        default="12h",
                        help_text="Preferred time display format",
                        max_length=10,
                    ),
                ),
                (
                    "theme_preference",
                    models.CharField(
                        choices=[("light", "Light"), ("dark", "Dark"), ("system", "System")],
                        default="dark",
                        help_text="UI theme preference",
                        max_length=10,
                    ),
                ),
                (
                    "device_platform",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("PC", "PC"),
                            ("CONSOLE_PS", "PlayStation"),
                            ("CONSOLE_XBOX", "Xbox"),
                            ("MOBILE_ANDROID", "Mobile (Android)"),
                            ("MOBILE_IOS", "Mobile (iOS)"),
                        ],
                        default="",
                        help_text="Primary gaming platform/device",
                        max_length=20,
                    ),
                ),
                (
                    "play_style",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("CASUAL", "Casual Player"),
                            ("COMPETITIVE", "Competitive"),
                            ("PROFESSIONAL", "Professional"),
                            ("CONTENT_CREATOR", "Content Creator"),
                        ],
                        default="",
                        help_text="Player's competitive intent and play style",
                        max_length=20,
                    ),
                ),
                (
                    "lan_availability",
                    models.BooleanField(
                        default=False, help_text="Available for LAN tournaments and offline events"
                    ),
                ),
                (
                    "main_role",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Primary competitive role (e.g., 'Entry Fragger', 'Support', 'IGL')",
                        max_length=50,
                    ),
                ),
                (
                    "secondary_role",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Secondary competitive role for flexibility",
                        max_length=50,
                    ),
                ),
                (
                    "lft_status",
                    models.CharField(
                        choices=[
                            ("NOT_LOOKING", "Not Looking"),
                            ("LFT_TEAM", "LFT Team"),
                            ("LFT_SCRIMS", "LFT Scrims"),
                        ],
                        default="NOT_LOOKING",
                        help_text="Looking For Team/Scrims availability status",
                        max_length=20,
                    ),
                ),
                (
                    "communication_languages",
                    models.JSONField(
                        blank=True,
                        default=list,
                        help_text="List of languages for team communication (e.g., ['en', 'bn', 'hi'])",
                    ),
                ),
                (
                    "active_hours",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Typical active gaming hours (e.g., '14:00-22:00 UTC' or '6PM-2AM local')",
                        max_length=200,
                    ),
                ),
                (
                    "attributes",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="Flexible metadata for future features (jersey size, dietary restrictions for LANs, etc.)",
                    ),
                ),
                (
                    "system_settings",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="User preferences (theme, notifications, language)",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "primary_game",
                    models.ForeignKey(
                        blank=True,
                        help_text="User's primary/signature game (auto-set from primary_team, or manual if no team)",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="primary_players",
                        to="games.game",
                    ),
                ),
                (
                    "primary_team",
                    models.ForeignKey(
                        blank=True,
                        help_text="User's primary/main team (auto-syncs primary_game to team's game)",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="primary_members",
                        to="teams.team",
                    ),
                ),
                (
                    "user",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="profile",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "User Profile",
            },
        ),
        migrations.CreateModel(
            name="ProfileShowcase",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "enabled_sections",
                    models.JSONField(
                        default=list,
                        help_text="List of enabled About subsections: ['identity', 'demographics', 'contact', 'gaming', 'social', 'competitive']",
                    ),
                ),
                (
                    "featured_team_id",
                    models.IntegerField(
                        blank=True,
                        help_text="ID of featured team (if user wants to highlight their current team)",
                        null=True,
                    ),
                ),
                (
                    "featured_team_role",
                    models.CharField(
                        blank=True,
                        help_text="Role in featured team (e.g., 'Team Captain', 'IGL', 'Fragger')",
                        max_length=50,
                    ),
                ),
                (
                    "featured_passport_id",
                    models.IntegerField(
                        blank=True,
                        help_text="ID of featured game passport (user's main game)",
                        null=True,
                    ),
                ),
                (
                    "highlights",
                    models.JSONField(
                        default=list,
                        help_text="List of highlight items: [{'type': 'tournament', 'id': 123, 'label': 'Champions 2024 Winner', 'icon': 'üèÜ'}]",
                    ),
                ),
                (
                    "section_order",
                    models.JSONField(
                        blank=True,
                        default=list,
                        help_text="Custom section order if user wants non-default arrangement",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "user_profile",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="showcase",
                        to="user_profile.userprofile",
                    ),
                ),
            ],
            options={
                "verbose_name": "Profile Showcase",
                "verbose_name_plural": "Profile Showcases",
                "db_table": "user_profile_showcase",
            },
        ),
        migrations.CreateModel(
            name="ProfileLocation",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "country",
                    django_countries.fields.CountryField(
                        blank=True,
                        help_text="Country of residence (for regional tournaments, with flag support)",
                        max_length=2,
                    ),
                ),
                (
                    "city",
                    models.CharField(
                        blank=True, default="", help_text="City of residence", max_length=100
                    ),
                ),
                (
                    "postal_code",
                    models.CharField(
                        blank=True, default="", help_text="Postal/ZIP code", max_length=20
                    ),
                ),
                (
                    "address_line",
                    models.TextField(
                        blank=True,
                        default="",
                        help_text="Street address for correspondence and prize shipping",
                        max_length=300,
                    ),
                ),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "user_profile",
                    models.OneToOneField(
                        help_text="Owner of this location data",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="location",
                        to="user_profile.userprofile",
                    ),
                ),
            ],
            options={
                "verbose_name": "Profile Location",
                "verbose_name_plural": "Profile Locations",
                "db_table": "user_profile_location",
            },
        ),
        migrations.CreateModel(
            name="ProfileAboutItem",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, help_text="Timestamp when this record was created"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        auto_now=True, help_text="Timestamp when this record was last updated"
                    ),
                ),
                (
                    "item_type",
                    models.CharField(
                        choices=[
                            ("team", "Team Role"),
                            ("game", "Game Passport"),
                            ("achievement", "Achievement"),
                            ("stat", "Stat Highlight"),
                            ("bio", "Bio Line"),
                            ("custom", "Custom Text"),
                        ],
                        help_text="Type of About item",
                        max_length=20,
                    ),
                ),
                (
                    "visibility",
                    models.CharField(
                        choices=[
                            ("public", "Public"),
                            ("followers_only", "Followers Only"),
                            ("private", "Private (Only Me)"),
                        ],
                        default="public",
                        help_text="Who can see this item",
                        max_length=20,
                    ),
                ),
                (
                    "source_model",
                    models.CharField(
                        blank=True,
                        help_text="Source model name (Team, GameProfile, UserBadge, etc.)",
                        max_length=100,
                    ),
                ),
                (
                    "source_id",
                    models.PositiveIntegerField(
                        blank=True, help_text="Source object ID", null=True
                    ),
                ),
                (
                    "display_text",
                    models.CharField(
                        help_text="Text to display (auto-generated or user-provided)",
                        max_length=200,
                    ),
                ),
                (
                    "icon_emoji",
                    models.CharField(
                        blank=True,
                        help_text="Optional emoji icon (üéÆ, üèÜ, üíº, etc.)",
                        max_length=10,
                    ),
                ),
                (
                    "order_index",
                    models.PositiveIntegerField(
                        default=0,
                        help_text="Display order (0 = first)",
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        default=True, help_text="Whether this item is currently visible"
                    ),
                ),
                (
                    "user_profile",
                    models.ForeignKey(
                        help_text="Profile this About item belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="about_items",
                        to="user_profile.userprofile",
                    ),
                ),
            ],
            options={
                "verbose_name": "Profile About Item",
                "verbose_name_plural": "Profile About Items",
                "db_table": "user_profile_about_item",
                "ordering": ["user_profile", "order_index", "-created_at"],
            },
        ),
        migrations.CreateModel(
            name="PrivacySettings",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "visibility_preset",
                    models.CharField(
                        choices=[
                            ("PUBLIC", "Public - Everyone can see everything"),
                            ("PROTECTED", "Protected - Show limited info to non-friends"),
                            ("PRIVATE", "Private - Minimal public visibility"),
                        ],
                        default="PUBLIC",
                        help_text="Quick privacy preset that sets multiple toggles",
                        max_length=20,
                    ),
                ),
                (
                    "show_real_name",
                    models.BooleanField(
                        default=False, help_text="Show real full name on public profile"
                    ),
                ),
                (
                    "show_phone",
                    models.BooleanField(
                        default=False, help_text="Show phone number on public profile"
                    ),
                ),
                (
                    "show_email",
                    models.BooleanField(
                        default=False, help_text="Show email address on public profile"
                    ),
                ),
                (
                    "show_age",
                    models.BooleanField(
                        default=True, help_text="Show age (calculated from date of birth)"
                    ),
                ),
                (
                    "show_gender",
                    models.BooleanField(default=False, help_text="Show gender on public profile"),
                ),
                (
                    "show_country",
                    models.BooleanField(default=True, help_text="Show country of residence"),
                ),
                (
                    "show_address",
                    models.BooleanField(
                        default=False, help_text="Show full address on public profile"
                    ),
                ),
                (
                    "show_game_ids",
                    models.BooleanField(
                        default=True, help_text="Show gaming IDs (Riot ID, Steam ID, etc.)"
                    ),
                ),
                (
                    "show_match_history",
                    models.BooleanField(default=True, help_text="Show tournament match history"),
                ),
                (
                    "show_teams",
                    models.BooleanField(default=True, help_text="Show team memberships"),
                ),
                (
                    "show_achievements",
                    models.BooleanField(default=True, help_text="Show badges and achievements"),
                ),
                (
                    "show_activity_feed",
                    models.BooleanField(default=True, help_text="Show activity feed on profile"),
                ),
                (
                    "show_tournaments",
                    models.BooleanField(
                        default=True, help_text="Show tournament participation history"
                    ),
                ),
                (
                    "show_inventory_value",
                    models.BooleanField(
                        default=False, help_text="Show total inventory/cosmetics value"
                    ),
                ),
                (
                    "show_level_xp",
                    models.BooleanField(default=True, help_text="Show player level and XP"),
                ),
                (
                    "inventory_visibility",
                    models.CharField(
                        choices=[
                            ("PUBLIC", "Everyone"),
                            ("FRIENDS", "Friends Only"),
                            ("PRIVATE", "Only Me"),
                        ],
                        default="PUBLIC",
                        help_text="Who can see your inventory and cosmetics collection",
                        max_length=20,
                    ),
                ),
                (
                    "show_social_links",
                    models.BooleanField(
                        default=True,
                        help_text="Show social media links (Facebook, Instagram, etc.)",
                    ),
                ),
                (
                    "show_followers_count",
                    models.BooleanField(default=True, help_text="Show follower count on profile"),
                ),
                (
                    "show_following_count",
                    models.BooleanField(default=True, help_text="Show following count on profile"),
                ),
                (
                    "show_followers_list",
                    models.BooleanField(default=True, help_text="Allow viewing list of followers"),
                ),
                (
                    "show_following_list",
                    models.BooleanField(
                        default=True, help_text="Allow viewing list of users being followed"
                    ),
                ),
                (
                    "followers_list_visibility",
                    models.CharField(
                        choices=[
                            ("everyone", "Everyone"),
                            ("followers", "Followers Only"),
                            ("only_me", "Only Me"),
                        ],
                        default="everyone",
                        help_text="Who can view your followers list",
                        max_length=20,
                    ),
                ),
                (
                    "following_list_visibility",
                    models.CharField(
                        choices=[
                            ("everyone", "Everyone"),
                            ("followers", "Followers Only"),
                            ("only_me", "Only Me"),
                        ],
                        default="everyone",
                        help_text="Who can view your following list",
                        max_length=20,
                    ),
                ),
                (
                    "allow_team_invites",
                    models.BooleanField(default=True, help_text="Allow receiving team invitations"),
                ),
                (
                    "allow_friend_requests",
                    models.BooleanField(default=True, help_text="Allow receiving friend requests"),
                ),
                (
                    "allow_direct_messages",
                    models.BooleanField(
                        default=True, help_text="Allow receiving direct messages from other users"
                    ),
                ),
                (
                    "is_private_account",
                    models.BooleanField(
                        default=False,
                        help_text="When enabled, people must request to follow you (follow requests require approval)",
                    ),
                ),
                (
                    "show_nationality",
                    models.BooleanField(
                        default=True, help_text="Show nationality on public profile"
                    ),
                ),
                (
                    "show_device_platform",
                    models.BooleanField(
                        default=True, help_text="Show gaming device/platform (PC, Console, Mobile)"
                    ),
                ),
                (
                    "show_play_style",
                    models.BooleanField(
                        default=True,
                        help_text="Show play style (Casual, Competitive, Professional)",
                    ),
                ),
                (
                    "show_roles",
                    models.BooleanField(
                        default=True, help_text="Show competitive roles (main/secondary)"
                    ),
                ),
                (
                    "show_active_hours",
                    models.BooleanField(default=True, help_text="Show active gaming hours"),
                ),
                (
                    "show_preferred_contact",
                    models.BooleanField(
                        default=False, help_text="Show preferred contact method publicly"
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "user_profile",
                    models.OneToOneField(
                        help_text="User profile these settings belong to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="privacy_settings",
                        to="user_profile.userprofile",
                    ),
                ),
            ],
            options={
                "verbose_name": "Privacy Settings",
                "verbose_name_plural": "Privacy Settings",
            },
        ),
        migrations.CreateModel(
            name="NotificationPreferences",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "email_enabled",
                    models.BooleanField(default=True, help_text="Receive email notifications"),
                ),
                (
                    "push_enabled",
                    models.BooleanField(
                        default=True, help_text="Receive push notifications (browser/mobile)"
                    ),
                ),
                (
                    "sms_enabled",
                    models.BooleanField(
                        default=False,
                        help_text="Receive SMS notifications (requires phone verification)",
                    ),
                ),
                (
                    "notif_tournaments",
                    models.BooleanField(
                        default=True,
                        help_text="Tournament updates (registrations, matches, results)",
                    ),
                ),
                (
                    "notif_teams",
                    models.BooleanField(
                        default=True, help_text="Team updates (invites, roster changes, promotions)"
                    ),
                ),
                (
                    "notif_bounties",
                    models.BooleanField(
                        default=True, help_text="Bounty updates (offers, acceptances, completions)"
                    ),
                ),
                (
                    "notif_messages",
                    models.BooleanField(
                        default=True, help_text="Direct messages and chat notifications"
                    ),
                ),
                (
                    "notif_system",
                    models.BooleanField(
                        default=True, help_text="System announcements and maintenance alerts"
                    ),
                ),
                (
                    "quiet_hours_enabled",
                    models.BooleanField(
                        default=False,
                        help_text="Enable quiet hours (mute notifications during specified time)",
                    ),
                ),
                (
                    "quiet_hours_start",
                    models.TimeField(
                        blank=True, help_text="Start time for quiet hours (e.g., 22:00)", null=True
                    ),
                ),
                (
                    "quiet_hours_end",
                    models.TimeField(
                        blank=True, help_text="End time for quiet hours (e.g., 08:00)", null=True
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "user_profile",
                    models.OneToOneField(
                        help_text="User profile these preferences belong to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="notification_prefs",
                        to="user_profile.userprofile",
                    ),
                ),
            ],
            options={
                "verbose_name": "Notification Preferences",
                "verbose_name_plural": "Notification Preferences",
                "db_table": "user_profile_notification_preferences",
            },
        ),
        migrations.CreateModel(
            name="MatchmakingPreferences",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "enabled",
                    models.BooleanField(
                        default=True, help_text="Accept matchmaking/bounty challenges"
                    ),
                ),
                (
                    "games_enabled",
                    models.JSONField(
                        blank=True,
                        default=list,
                        help_text="List of game slugs enabled for matchmaking (e.g., ['valorant', 'cs2'])",
                    ),
                ),
                (
                    "preferred_modes",
                    models.JSONField(
                        blank=True,
                        default=list,
                        help_text="Preferred game modes (e.g., ['ranked', '1v1', 'team'])",
                    ),
                ),
                (
                    "min_bounty",
                    models.IntegerField(
                        blank=True, help_text="Minimum bounty amount (DC) to consider", null=True
                    ),
                ),
                (
                    "max_bounty",
                    models.IntegerField(
                        blank=True,
                        help_text="Maximum bounty amount (DC) - for risk management",
                        null=True,
                    ),
                ),
                (
                    "auto_accept",
                    models.BooleanField(
                        default=False, help_text="Auto-accept challenges meeting criteria"
                    ),
                ),
                (
                    "auto_reject_below_min",
                    models.BooleanField(
                        default=False, help_text="Auto-reject challenges below min_bounty"
                    ),
                ),
                (
                    "region_lock",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Only accept challenges from specific region (empty = any)",
                        max_length=10,
                    ),
                ),
                (
                    "skill_range_min",
                    models.IntegerField(
                        blank=True, help_text="Minimum skill rating of opponents", null=True
                    ),
                ),
                (
                    "skill_range_max",
                    models.IntegerField(
                        blank=True, help_text="Maximum skill rating of opponents", null=True
                    ),
                ),
                (
                    "allow_team_bounties",
                    models.BooleanField(
                        default=True, help_text="Accept team vs team bounty challenges"
                    ),
                ),
                ("updated_at", models.DateTimeField(auto_now=True)),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                (
                    "user_profile",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="matchmaking_prefs",
                        to="user_profile.userprofile",
                    ),
                ),
            ],
            options={
                "verbose_name": "Matchmaking Preferences",
                "verbose_name_plural": "Matchmaking Preferences",
                "db_table": "user_profile_matchmaking_preferences",
            },
        ),
        migrations.CreateModel(
            name="KYCSubmission",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "document_type",
                    models.CharField(
                        choices=[
                            ("nid", "National ID Card"),
                            ("passport", "Passport"),
                            ("driving_license", "Driving License"),
                            ("birth_certificate", "Birth Certificate"),
                        ],
                        help_text="Type of identity document",
                        max_length=30,
                    ),
                ),
                (
                    "document_front",
                    models.ImageField(
                        help_text="Front side of the identity document",
                        upload_to=apps.user_profile.models_main.kyc_document_path,
                    ),
                ),
                (
                    "document_back",
                    models.ImageField(
                        blank=True,
                        help_text="Back side of the identity document (if applicable)",
                        null=True,
                        upload_to=apps.user_profile.models_main.kyc_document_path,
                    ),
                ),
                (
                    "selfie_with_document",
                    models.ImageField(
                        blank=True,
                        help_text="Selfie holding the document for verification",
                        null=True,
                        upload_to=apps.user_profile.models_main.kyc_document_path,
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("pending", "Pending Review"),
                            ("approved", "Approved"),
                            ("rejected", "Rejected"),
                        ],
                        db_index=True,
                        default="pending",
                        help_text="Current verification status",
                        max_length=20,
                    ),
                ),
                (
                    "rejection_reason",
                    models.TextField(
                        blank=True,
                        default="",
                        help_text="Reason for rejection if status is rejected",
                    ),
                ),
                (
                    "submitted_at",
                    models.DateTimeField(
                        auto_now_add=True, help_text="When the KYC submission was created"
                    ),
                ),
                (
                    "reviewed_at",
                    models.DateTimeField(
                        blank=True, help_text="When the submission was reviewed", null=True
                    ),
                ),
                (
                    "notes",
                    models.TextField(
                        blank=True,
                        default="",
                        help_text="Internal admin notes about the submission",
                    ),
                ),
                (
                    "reviewed_by",
                    models.ForeignKey(
                        blank=True,
                        help_text="Admin who reviewed this submission",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="kyc_reviews",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "user_profile",
                    models.ForeignKey(
                        help_text="User profile this KYC submission belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="kyc_submissions",
                        to="user_profile.userprofile",
                    ),
                ),
            ],
            options={
                "verbose_name": "KYC Submission",
                "verbose_name_plural": "KYC Submissions",
                "db_table": "user_profile_kyc_submission",
                "ordering": ["-submitted_at"],
            },
        ),
        migrations.CreateModel(
            name="HardwareLoadout",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "mouse_brand",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Mouse brand/model (e.g., 'Logitech G Pro X Superlight')",
                        max_length=100,
                    ),
                ),
                (
                    "keyboard_brand",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Keyboard brand/model (e.g., 'Wooting 60HE')",
                        max_length=100,
                    ),
                ),
                (
                    "headset_brand",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Headset brand/model (e.g., 'HyperX Cloud II')",
                        max_length=100,
                    ),
                ),
                (
                    "monitor_brand",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Monitor brand/model (e.g., 'BenQ Zowie XL2546K 240Hz')",
                        max_length=100,
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "user_profile",
                    models.OneToOneField(
                        help_text="User profile this hardware loadout belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="hardware_loadout",
                        to="user_profile.userprofile",
                    ),
                ),
            ],
            options={
                "verbose_name": "Hardware Loadout",
                "verbose_name_plural": "Hardware Loadouts",
                "db_table": "user_profile_hardware_loadout",
            },
        ),
        migrations.CreateModel(
            name="FollowRequest",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("PENDING", "Pending"),
                            ("APPROVED", "Approved"),
                            ("REJECTED", "Rejected"),
                        ],
                        db_index=True,
                        default="PENDING",
                        help_text="Current status of the follow request",
                        max_length=20,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, help_text="When the follow request was created"
                    ),
                ),
                (
                    "resolved_at",
                    models.DateTimeField(
                        blank=True, help_text="When the request was approved or rejected", null=True
                    ),
                ),
                (
                    "requester",
                    models.ForeignKey(
                        help_text="User requesting to follow",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="outgoing_follow_requests",
                        to="user_profile.userprofile",
                    ),
                ),
                (
                    "target",
                    models.ForeignKey(
                        help_text="User whose approval is needed",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="incoming_follow_requests",
                        to="user_profile.userprofile",
                    ),
                ),
            ],
            options={
                "verbose_name": "Follow Request",
                "verbose_name_plural": "Follow Requests",
                "db_table": "user_profile_follow_request",
            },
        ),
        migrations.CreateModel(
            name="CareerProfile",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "career_status",
                    models.CharField(
                        choices=[
                            ("SIGNED", "Signed to Team"),
                            ("FREE_AGENT", "Free Agent"),
                            ("LOOKING", "Actively Looking"),
                            ("NOT_LOOKING", "Not Looking"),
                        ],
                        default="NOT_LOOKING",
                        help_text="Current recruitment status",
                        max_length=20,
                    ),
                ),
                (
                    "lft_enabled",
                    models.BooleanField(
                        default=False, help_text="Show 'Looking for Team' badge on profile"
                    ),
                ),
                (
                    "primary_roles",
                    models.JSONField(
                        blank=True,
                        default=list,
                        help_text="Primary esports roles (IGL, Duelist, Support, etc.)",
                    ),
                ),
                (
                    "secondary_roles",
                    models.JSONField(
                        blank=True, default=list, help_text="Secondary roles willing to play"
                    ),
                ),
                (
                    "preferred_region",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Preferred region for teams (e.g., NA, EU, AS)",
                        max_length=10,
                    ),
                ),
                (
                    "availability",
                    models.CharField(
                        choices=[
                            ("FULL_TIME", "Full Time"),
                            ("PART_TIME", "Part Time"),
                            ("WEEKENDS", "Weekends Only"),
                            ("CUSTOM", "Custom Schedule"),
                        ],
                        default="PART_TIME",
                        help_text="Time commitment availability",
                        max_length=20,
                    ),
                ),
                (
                    "salary_expectation_min",
                    models.IntegerField(
                        blank=True,
                        help_text="Minimum monthly salary expectation (in local currency or DC)",
                        null=True,
                    ),
                ),
                (
                    "contract_type",
                    models.CharField(
                        choices=[
                            ("TEAM", "Team Contract"),
                            ("ORG", "Organization Contract"),
                            ("SPONSORSHIP", "Sponsorship"),
                            ("STREAMING", "Streaming/Content"),
                        ],
                        default="TEAM",
                        help_text="Preferred contract type",
                        max_length=20,
                    ),
                ),
                (
                    "recruiter_visibility",
                    models.CharField(
                        choices=[
                            ("PUBLIC", "Public (Anyone)"),
                            ("VERIFIED_SCOUTS", "Verified Scouts Only"),
                            ("PRIVATE", "Private (Hidden)"),
                        ],
                        default="PUBLIC",
                        help_text="Who can view career profile",
                        max_length=20,
                    ),
                ),
                (
                    "allow_direct_contracts",
                    models.BooleanField(
                        default=True, help_text="Allow managers to send draft contracts via DM"
                    ),
                ),
                ("last_updated", models.DateTimeField(auto_now=True)),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                (
                    "user_profile",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="career_profile",
                        to="user_profile.userprofile",
                    ),
                ),
            ],
            options={
                "verbose_name": "Career Profile",
                "verbose_name_plural": "Career Profiles",
                "db_table": "user_profile_career_profile",
            },
        ),
        migrations.CreateModel(
            name="UserProfileStats",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "tournaments_played",
                    models.IntegerField(
                        default=0,
                        help_text="Total tournaments participated in (TOURNAMENT_JOINED events)",
                    ),
                ),
                (
                    "tournaments_won",
                    models.IntegerField(
                        default=0, help_text="Total tournament victories (TOURNAMENT_WON events)"
                    ),
                ),
                (
                    "tournaments_top3",
                    models.IntegerField(
                        default=0,
                        help_text="Total top 3 finishes (TOURNAMENT_PLACED events with placement <= 3)",
                    ),
                ),
                (
                    "matches_played",
                    models.IntegerField(
                        default=0, help_text="Total matches played (MATCH_PLAYED events)"
                    ),
                ),
                (
                    "matches_won",
                    models.IntegerField(
                        default=0, help_text="Total matches won (MATCH_WON events)"
                    ),
                ),
                (
                    "total_earnings",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Total coins earned (sum of COINS_EARNED events)",
                        max_digits=12,
                    ),
                ),
                (
                    "total_spent",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Total coins spent (sum of COINS_SPENT events)",
                        max_digits=12,
                    ),
                ),
                (
                    "first_tournament_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Timestamp of first tournament participation",
                        null=True,
                    ),
                ),
                (
                    "last_tournament_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Timestamp of most recent tournament participation",
                        null=True,
                    ),
                ),
                (
                    "last_match_at",
                    models.DateTimeField(
                        blank=True, help_text="Timestamp of most recent match", null=True
                    ),
                ),
                (
                    "computed_at",
                    models.DateTimeField(
                        auto_now=True, help_text="When these stats were last recomputed from events"
                    ),
                ),
                (
                    "user_profile",
                    models.OneToOneField(
                        help_text="Profile these stats belong to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="stats",
                        to="user_profile.userprofile",
                    ),
                ),
            ],
            options={
                "verbose_name": "User Profile Stats",
                "verbose_name_plural": "User Profile Stats",
                "db_table": "user_profile_stats",
            },
        ),
        migrations.CreateModel(
            name="VerificationRecord",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "id_document_front",
                    models.ImageField(
                        blank=True,
                        help_text="Front side of government-issued ID (NID, Passport, Driver's License)",
                        null=True,
                        upload_to=apps.user_profile.models_main.kyc_document_path,
                    ),
                ),
                (
                    "id_document_back",
                    models.ImageField(
                        blank=True,
                        help_text="Back side of government-issued ID",
                        null=True,
                        upload_to=apps.user_profile.models_main.kyc_document_path,
                    ),
                ),
                (
                    "selfie_with_id",
                    models.ImageField(
                        blank=True,
                        help_text="Selfie holding the ID document for liveness verification",
                        null=True,
                        upload_to=apps.user_profile.models_main.kyc_document_path,
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("unverified", "Unverified"),
                            ("pending", "Pending Review"),
                            ("verified", "Verified"),
                            ("rejected", "Rejected"),
                        ],
                        default="unverified",
                        help_text="Current verification status",
                        max_length=20,
                    ),
                ),
                (
                    "verified_name",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Full name as shown on ID document",
                        max_length=200,
                    ),
                ),
                (
                    "verified_dob",
                    models.DateField(
                        blank=True, help_text="Date of birth from ID document", null=True
                    ),
                ),
                (
                    "verified_nationality",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Nationality from ID document",
                        max_length=100,
                    ),
                ),
                (
                    "id_number",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="ID document number (encrypted in production)",
                        max_length=50,
                    ),
                ),
                (
                    "submitted_at",
                    models.DateTimeField(
                        blank=True, help_text="When user submitted documents for review", null=True
                    ),
                ),
                (
                    "reviewed_at",
                    models.DateTimeField(
                        blank=True, help_text="When staff reviewed the submission", null=True
                    ),
                ),
                (
                    "rejection_reason",
                    models.TextField(
                        blank=True, default="", help_text="Reason for rejection (shown to user)"
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "reviewed_by",
                    models.ForeignKey(
                        blank=True,
                        help_text="Staff member who reviewed this verification",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="kyc_reviews_performed",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "user_profile",
                    models.OneToOneField(
                        help_text="User profile being verified",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="verification_record",
                        to="user_profile.userprofile",
                    ),
                ),
            ],
            options={
                "verbose_name": "Verification Record",
                "verbose_name_plural": "Verification Records",
                "ordering": ["-updated_at"],
            },
        ),
        migrations.CreateModel(
            name="WalletSettings",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                (
                    "bkash_enabled",
                    models.BooleanField(
                        default=False, help_text="Enable bKash as withdrawal method"
                    ),
                ),
                (
                    "bkash_account",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="bKash account number (11-digit BD mobile number)",
                        max_length=20,
                        validators=[
                            django.core.validators.RegexValidator(
                                message="Enter a valid Bangladeshi mobile number (e.g., 01712345678)",
                                regex="^01[3-9]\\d{8}$",
                            )
                        ],
                    ),
                ),
                (
                    "nagad_enabled",
                    models.BooleanField(
                        default=False, help_text="Enable Nagad as withdrawal method"
                    ),
                ),
                (
                    "nagad_account",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Nagad account number (11-digit BD mobile number)",
                        max_length=20,
                        validators=[
                            django.core.validators.RegexValidator(
                                message="Enter a valid Bangladeshi mobile number (e.g., 01712345678)",
                                regex="^01[3-9]\\d{8}$",
                            )
                        ],
                    ),
                ),
                (
                    "rocket_enabled",
                    models.BooleanField(
                        default=False, help_text="Enable Rocket as withdrawal method"
                    ),
                ),
                (
                    "rocket_account",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Rocket account number (11-digit BD mobile number)",
                        max_length=20,
                        validators=[
                            django.core.validators.RegexValidator(
                                message="Enter a valid Bangladeshi mobile number (e.g., 01712345678)",
                                regex="^01[3-9]\\d{8}$",
                            )
                        ],
                    ),
                ),
                (
                    "auto_withdrawal_threshold",
                    models.IntegerField(
                        default=0,
                        help_text="Automatically withdraw when balance reaches this threshold (DeltaCoins). 0 = manual withdrawals only",
                    ),
                ),
                (
                    "auto_convert_to_usd",
                    models.BooleanField(
                        default=False,
                        help_text="Automatically convert DeltaCoins to USD when withdrawing (subject to conversion rates)",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "user_profile",
                    models.OneToOneField(
                        help_text="User profile these wallet settings belong to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="wallet_settings",
                        to="user_profile.userprofile",
                    ),
                ),
            ],
            options={
                "verbose_name": "Wallet Settings",
                "verbose_name_plural": "Wallet Settings",
                "db_table": "user_profile_wallet_settings",
            },
        ),
        migrations.CreateModel(
            name="Achievement",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                ("name", models.CharField(help_text="Achievement name", max_length=100)),
                ("description", models.TextField(help_text="Achievement description")),
                (
                    "emoji",
                    models.CharField(
                        default="üèÜ", help_text="Emoji icon for display", max_length=10
                    ),
                ),
                (
                    "icon_url",
                    models.URLField(blank=True, default="", help_text="Optional custom icon URL"),
                ),
                (
                    "rarity",
                    models.CharField(
                        choices=[
                            ("common", "Common"),
                            ("rare", "Rare"),
                            ("epic", "Epic"),
                            ("legendary", "Legendary"),
                        ],
                        default="common",
                        help_text="Achievement rarity",
                        max_length=20,
                    ),
                ),
                ("earned_at", models.DateTimeField(auto_now_add=True)),
                (
                    "context",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="Context data (tournament_id, placement, etc.)",
                    ),
                ),
                (
                    "user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="achievements",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Achievement",
                "verbose_name_plural": "Achievements",
                "ordering": ["-earned_at"],
                "indexes": [
                    models.Index(
                        fields=["user", "-earned_at"], name="user_profil_user_id_9f19cf_idx"
                    ),
                    models.Index(
                        fields=["rarity", "-earned_at"], name="user_profil_rarity_30abc6_idx"
                    ),
                ],
            },
        ),
        migrations.CreateModel(
            name="BountyAcceptance",
            fields=[
                (
                    "bounty",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        primary_key=True,
                        related_name="acceptance",
                        serialize=False,
                        to="user_profile.bounty",
                    ),
                ),
                ("accepted_at", models.DateTimeField(auto_now_add=True)),
                ("ip_address", models.GenericIPAddressField(blank=True, null=True)),
                ("user_agent", models.CharField(blank=True, max_length=255, null=True)),
                (
                    "acceptor",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="bounty_acceptances",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Bounty Acceptance",
                "verbose_name_plural": "Bounty Acceptances",
            },
        ),
        migrations.CreateModel(
            name="BountyDispute",
            fields=[
                (
                    "bounty",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        primary_key=True,
                        related_name="dispute",
                        serialize=False,
                        to="user_profile.bounty",
                    ),
                ),
                ("reason", models.TextField(help_text="Why the result is disputed")),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("open", "Open"),
                            ("under_review", "Under Review"),
                            ("resolved_confirm", "Resolved - Confirmed Winner"),
                            ("resolved_reverse", "Resolved - Reversed Winner"),
                            ("resolved_void", "Resolved - Match Voided"),
                        ],
                        default="open",
                        max_length=20,
                    ),
                ),
                ("moderator_notes", models.TextField(blank=True)),
                (
                    "resolution",
                    models.TextField(
                        blank=True, help_text="Moderator's final decision explanation"
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("resolved_at", models.DateTimeField(blank=True, null=True)),
                (
                    "assigned_moderator",
                    models.ForeignKey(
                        blank=True,
                        limit_choices_to={"is_staff": True},
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="assigned_bounty_disputes",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "disputer",
                    models.ForeignKey(
                        help_text="User who raised the dispute",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="bounty_disputes_raised",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Bounty Dispute",
                "verbose_name_plural": "Bounty Disputes",
                "ordering": ["-created_at"],
            },
        ),
        migrations.AddIndex(
            model_name="bounty",
            index=models.Index(
                fields=["status", "expires_at"], name="user_profil_status_c29cf7_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="bounty",
            index=models.Index(fields=["creator", "status"], name="user_profil_creator_46af72_idx"),
        ),
        migrations.AddIndex(
            model_name="bounty",
            index=models.Index(
                fields=["acceptor", "status"], name="user_profil_accepto_c96449_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="bounty",
            index=models.Index(fields=["game", "status"], name="user_profil_game_id_a39717_idx"),
        ),
        migrations.AddIndex(
            model_name="bountyproof",
            index=models.Index(
                fields=["bounty", "submitted_at"], name="user_profil_bounty__92928e_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="certificate",
            index=models.Index(
                fields=["user", "-issued_at"], name="user_profil_user_id_01722a_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="certificate",
            index=models.Index(fields=["verification_code"], name="user_profil_verific_878acb_idx"),
        ),
        migrations.AddIndex(
            model_name="endorsementopportunity",
            index=models.Index(
                fields=["expires_at", "is_used"], name="user_profil_expires_630798_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="endorsementopportunity",
            index=models.Index(
                fields=["player", "is_used", "expires_at"], name="user_profil_player__6b9b5a_idx"
            ),
        ),
        migrations.AddConstraint(
            model_name="endorsementopportunity",
            constraint=models.UniqueConstraint(
                fields=("match", "player"), name="unique_opportunity_per_match_player"
            ),
        ),
        migrations.AddIndex(
            model_name="follow",
            index=models.Index(
                fields=["follower", "created_at"], name="user_profil_followe_9595c9_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="follow",
            index=models.Index(
                fields=["following", "created_at"], name="user_profil_followi_bd119a_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="follow",
            unique_together={("follower", "following")},
        ),
        migrations.AddIndex(
            model_name="gameconfig",
            index=models.Index(fields=["user", "game"], name="user_profil_user_id_37aa2b_idx"),
        ),
        migrations.AddIndex(
            model_name="gameconfig",
            index=models.Index(fields=["game", "is_public"], name="user_profil_game_id_458c33_idx"),
        ),
        migrations.AddIndex(
            model_name="gameconfig",
            index=models.Index(fields=["user", "is_public"], name="user_profil_user_id_2786f2_idx"),
        ),
        migrations.AddConstraint(
            model_name="gameconfig",
            constraint=models.UniqueConstraint(
                fields=("user", "game"), name="unique_game_config_per_user_per_game"
            ),
        ),
        migrations.AddIndex(
            model_name="gamepassportcooldown",
            index=models.Index(
                fields=["user", "game", "-created_at"], name="user_profil_user_id_13144b_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="gamepassportcooldown",
            index=models.Index(
                fields=["expires_at", "overridden"], name="user_profil_expires_2bcb99_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="gamepassportcooldown",
            unique_together={("user", "game", "cooldown_type")},
        ),
        migrations.AddIndex(
            model_name="gameprofile",
            index=models.Index(fields=["user", "game"], name="user_profil_user_id_4c45ec_idx"),
        ),
        migrations.AddIndex(
            model_name="gameprofile",
            index=models.Index(
                fields=["game", "identity_key"], name="user_profil_game_id_0efce4_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="gameprofile",
            index=models.Index(
                fields=["game", "-rank_tier"], name="user_profil_game_id_2d881f_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="gameprofile",
            index=models.Index(
                fields=["-is_pinned", "-pinned_order"], name="user_profil_is_pinn_21c49c_idx"
            ),
        ),
        migrations.AddConstraint(
            model_name="gameprofile",
            constraint=models.UniqueConstraint(
                fields=("game", "identity_key"), name="unique_game_identity"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="gameprofile",
            unique_together={("user", "game")},
        ),
        migrations.AddIndex(
            model_name="gamepassportdeleteotp",
            index=models.Index(
                fields=["user", "passport", "-created_at"], name="user_profil_user_id_d11755_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="gamepassportdeleteotp",
            index=models.Index(fields=["code", "expires_at"], name="user_profil_code_43345f_idx"),
        ),
        migrations.AddIndex(
            model_name="gameprofilealias",
            index=models.Index(
                fields=["game_profile", "-changed_at"], name="user_profil_game_pr_da10dd_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="hardwaregear",
            index=models.Index(fields=["user", "category"], name="user_profil_user_id_d9c6d8_idx"),
        ),
        migrations.AddIndex(
            model_name="hardwaregear",
            index=models.Index(fields=["brand", "model"], name="user_profil_brand_27f9b7_idx"),
        ),
        migrations.AddIndex(
            model_name="hardwaregear",
            index=models.Index(
                fields=["category", "is_public"], name="user_profil_categor_e82a23_idx"
            ),
        ),
        migrations.AddConstraint(
            model_name="hardwaregear",
            constraint=models.UniqueConstraint(
                fields=("user", "category"), name="unique_hardware_per_category_per_user"
            ),
        ),
        migrations.AddIndex(
            model_name="highlightclip",
            index=models.Index(
                fields=["user", "display_order"], name="user_profil_user_id_70caa8_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="highlightclip",
            index=models.Index(fields=["platform"], name="user_profil_platfor_1975d9_idx"),
        ),
        migrations.AddIndex(
            model_name="highlightclip",
            index=models.Index(fields=["game"], name="user_profil_game_id_7b125a_idx"),
        ),
        migrations.AddIndex(
            model_name="match",
            index=models.Index(
                fields=["user", "-played_at"], name="user_profil_user_id_3206ce_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="match",
            index=models.Index(
                fields=["game_name", "-played_at"], name="user_profil_game_na_f70389_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="match",
            index=models.Index(
                fields=["result", "-played_at"], name="user_profil_result_ffb8f8_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="pinnedhighlight",
            index=models.Index(fields=["user"], name="user_profil_user_id_25f975_idx"),
        ),
        migrations.AddIndex(
            model_name="skillendorsement",
            index=models.Index(
                fields=["receiver", "-created_at"], name="user_profil_receive_a4e8c9_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="skillendorsement",
            index=models.Index(
                fields=["match", "created_at"], name="user_profil_match_i_8b9e49_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="skillendorsement",
            index=models.Index(
                fields=["bounty", "created_at"], name="user_profil_bounty__56048f_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="skillendorsement",
            index=models.Index(
                fields=["receiver", "skill_name"], name="user_profil_receive_2d9b44_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="skillendorsement",
            index=models.Index(
                fields=["is_flagged", "created_at"], name="user_profil_is_flag_148abd_idx"
            ),
        ),
        migrations.AddConstraint(
            model_name="skillendorsement",
            constraint=models.UniqueConstraint(
                condition=models.Q(("match__isnull", False)),
                fields=("match", "endorser"),
                name="unique_endorsement_per_match_endorser",
            ),
        ),
        migrations.AddConstraint(
            model_name="skillendorsement",
            constraint=models.UniqueConstraint(
                condition=models.Q(("bounty__isnull", False)),
                fields=("bounty", "endorser"),
                name="unique_endorsement_per_bounty_endorser",
            ),
        ),
        migrations.AddConstraint(
            model_name="skillendorsement",
            constraint=models.CheckConstraint(
                condition=models.Q(("endorser", models.F("receiver")), _negated=True),
                name="no_self_endorsement",
            ),
        ),
        migrations.AddConstraint(
            model_name="skillendorsement",
            constraint=models.CheckConstraint(
                condition=models.Q(
                    models.Q(("bounty__isnull", True), ("match__isnull", False)),
                    models.Q(("bounty__isnull", False), ("match__isnull", True)),
                    _connector="OR",
                ),
                name="endorsement_has_match_or_bounty",
            ),
        ),
        migrations.AlterUniqueTogether(
            name="sociallink",
            unique_together={("user", "platform")},
        ),
        migrations.AddIndex(
            model_name="streamconfig",
            index=models.Index(fields=["user", "is_active"], name="user_profil_user_id_20ffb5_idx"),
        ),
        migrations.AddIndex(
            model_name="streamconfig",
            index=models.Index(fields=["platform"], name="user_profil_platfor_b46305_idx"),
        ),
        migrations.AddIndex(
            model_name="useractivity",
            index=models.Index(fields=["user", "-timestamp"], name="idx_activity_user_time"),
        ),
        migrations.AddIndex(
            model_name="useractivity",
            index=models.Index(fields=["event_type", "-timestamp"], name="idx_activity_type_time"),
        ),
        migrations.AddIndex(
            model_name="useractivity",
            index=models.Index(fields=["user", "event_type"], name="idx_activity_user_type"),
        ),
        migrations.AddIndex(
            model_name="useractivity",
            index=models.Index(fields=["source_model", "source_id"], name="idx_activity_source"),
        ),
        migrations.AddIndex(
            model_name="useractivity",
            index=models.Index(fields=["timestamp"], name="idx_activity_timestamp"),
        ),
        migrations.AddConstraint(
            model_name="useractivity",
            constraint=models.UniqueConstraint(
                condition=models.Q(("source_id__isnull", False), ("source_model__isnull", False)),
                fields=("source_model", "source_id", "event_type"),
                name="unique_source_event",
                violation_error_message="Event already exists for this source",
            ),
        ),
        migrations.AddIndex(
            model_name="userauditevent",
            index=models.Index(fields=["subject_user", "-created_at"], name="idx_audit_subject"),
        ),
        migrations.AddIndex(
            model_name="userauditevent",
            index=models.Index(fields=["actor_user", "-created_at"], name="idx_audit_actor"),
        ),
        migrations.AddIndex(
            model_name="userauditevent",
            index=models.Index(fields=["event_type", "-created_at"], name="idx_audit_event_type"),
        ),
        migrations.AddIndex(
            model_name="userauditevent",
            index=models.Index(fields=["source_app", "-created_at"], name="idx_audit_source"),
        ),
        migrations.AddIndex(
            model_name="userauditevent",
            index=models.Index(fields=["object_type", "object_id"], name="idx_audit_object"),
        ),
        migrations.AddIndex(
            model_name="userbadge",
            index=models.Index(
                fields=["user", "-earned_at"], name="user_profil_user_id_49ae4e_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="userbadge",
            index=models.Index(
                fields=["badge", "-earned_at"], name="user_profil_badge_i_c3e700_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="userbadge",
            index=models.Index(fields=["user", "is_pinned"], name="user_profil_user_id_8250d3_idx"),
        ),
        migrations.AlterUniqueTogether(
            name="userbadge",
            unique_together={("user", "badge")},
        ),
        migrations.AddIndex(
            model_name="userprofile",
            index=models.Index(fields=["region"], name="user_profil_region_1d3f95_idx"),
        ),
        migrations.AddIndex(
            model_name="userprofile",
            index=models.Index(fields=["public_id"], name="idx_profile_public_id"),
        ),
        migrations.AddIndex(
            model_name="profileaboutitem",
            index=models.Index(
                fields=["user_profile", "is_active", "order_index"],
                name="user_profil_user_pr_c20dce_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="profileaboutitem",
            index=models.Index(
                fields=["user_profile", "item_type"], name="user_profil_user_pr_d7c270_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="kycsubmission",
            index=models.Index(
                fields=["user_profile", "-submitted_at"], name="user_profil_user_pr_75c7e1_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="kycsubmission",
            index=models.Index(
                fields=["status", "-submitted_at"], name="user_profil_status_cf70b5_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="followrequest",
            index=models.Index(
                fields=["target", "status", "created_at"], name="user_profil_target__663713_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="followrequest",
            index=models.Index(
                fields=["requester", "status"], name="user_profil_request_59dc59_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="followrequest",
            index=models.Index(
                fields=["status", "created_at"], name="user_profil_status_19cb79_idx"
            ),
        ),
        migrations.AddConstraint(
            model_name="followrequest",
            constraint=models.CheckConstraint(
                condition=models.Q(("requester", models.F("target")), _negated=True),
                name="follow_request_no_self_request",
            ),
        ),
        migrations.AlterUniqueTogether(
            name="followrequest",
            unique_together={("requester", "target", "status")},
        ),
        migrations.AddIndex(
            model_name="userprofilestats",
            index=models.Index(fields=["-tournaments_won"], name="idx_stats_tournaments_won"),
        ),
        migrations.AddIndex(
            model_name="userprofilestats",
            index=models.Index(fields=["-matches_won"], name="idx_stats_matches_won"),
        ),
        migrations.AddIndex(
            model_name="userprofilestats",
            index=models.Index(fields=["computed_at"], name="idx_stats_computed_at"),
        ),
    ]
