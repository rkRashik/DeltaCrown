{% extends "base.html" %}
{% load static %}

{% block title %}Profile Settings - DeltaCrown{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/settings.css' %}">
{% endblock %}

{% block content %}
<div class="settings-container">
    
    <div class="settings-header">
        <h1 class="settings-title">Profile Settings</h1>
        <p class="settings-subtitle">Manage your account, privacy, and game profiles</p>
    </div>
    
    <div class="settings-layout">
        
        <!-- Sidebar Navigation -->
        <aside class="settings-sidebar">
            <nav class="settings-nav">
                <button class="nav-item active" data-section="profile">
                    <span class="nav-icon">üë§</span>
                    <span class="nav-text">Profile</span>
                </button>
                <button class="nav-item" data-section="identity">
                    <span class="nav-icon">üÜî</span>
                    <span class="nav-text">Identity & KYC</span>
                </button>
                <button class="nav-item" data-section="games">
                    <span class="nav-icon">üéÆ</span>
                    <span class="nav-text">Game IDs</span>
                </button>
                <button class="nav-item" data-section="socials">
                    <span class="nav-icon">üîó</span>
                    <span class="nav-text">Social Links</span>
                </button>
                <button class="nav-item" data-section="privacy">
                    <span class="nav-icon">üîí</span>
                    <span class="nav-text">Privacy</span>
                </button>
                <button class="nav-item" data-section="security">
                    <span class="nav-icon">üõ°Ô∏è</span>
                    <span class="nav-text">Security</span>
                </button>
            </nav>
        </aside>
        
        <!-- Main Content -->
        <main class="settings-main">
            
            <!-- Profile Section -->
            <section id="section-profile" class="settings-section active">
                <h2 class="section-title">Profile Information</h2>
                
                <form method="post" enctype="multipart/form-data" class="settings-form">
                    {% csrf_token %}
                    
                    <div class="form-group">
                        <label class="form-label">Avatar</label>
                        <div class="avatar-upload">
                            {% if request.user.profile.avatar %}
                                <img src="{{ request.user.profile.avatar.url }}" alt="Avatar" class="avatar-preview">
                            {% else %}
                                <div class="avatar-preview default">{{ request.user.username|first|upper }}</div>
                            {% endif %}
                            <input type="file" name="avatar" accept="image/*" class="file-input" id="avatar-input">
                            <label for="avatar-input" class="btn btn-secondary">Change Avatar</label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Banner Image</label>
                        <div class="banner-upload">
                            {% if request.user.profile.banner %}
                                <img src="{{ request.user.profile.banner.url }}" alt="Banner" class="banner-preview">
                            {% else %}
                                <div class="banner-preview default">No banner uploaded</div>
                            {% endif %}
                            <input type="file" name="banner" accept="image/*" class="file-input" id="banner-input">
                            <label for="banner-input" class="btn btn-secondary">Change Banner</label>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="username">Username</label>
                            <input type="text" id="username" name="username" value="{{ request.user.username }}" class="form-input" readonly>
                            <span class="form-hint">Username cannot be changed</span>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="display_name">Display Name</label>
                            <input type="text" id="display_name" name="display_name" value="{{ request.user.profile.display_name }}" class="form-input" maxlength="80">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="bio">Bio</label>
                        <textarea id="bio" name="bio" class="form-input" rows="4" placeholder="Tell us about yourself...">{{ request.user.profile.bio }}</textarea>
                        <span class="form-hint">Maximum 500 characters</span>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="country">Country</label>
                            <input type="text" id="country" name="country" value="{{ request.user.profile.country }}" class="form-input">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="city">City</label>
                            <input type="text" id="city" name="city" value="{{ request.user.profile.city }}" class="form-input">
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                </form>
            </section>
            
            <!-- Identity & KYC Section -->
            <section id="section-identity" class="settings-section">
                <h2 class="section-title">Identity & KYC Verification</h2>
                
                <div class="kyc-status-card">
                    {% if request.user.profile.is_kyc_verified %}
                        <div class="kyc-verified">
                            <span class="status-icon">‚úì</span>
                            <div>
                                <h3>KYC Verified</h3>
                                <p>Your identity has been verified</p>
                            </div>
                        </div>
                    {% else %}
                        <div class="kyc-unverified">
                            <span class="status-icon">‚ö†</span>
                            <div>
                                <h3>KYC Not Verified</h3>
                                <p>Verify your identity to unlock tournament features and prize withdrawals</p>
                                <a href="{% url 'user_profile:kyc_upload' %}" class="btn btn-primary">Start Verification</a>
                            </div>
                        </div>
                    {% endif %}
                </div>
                
                <form method="post" class="settings-form">
                    {% csrf_token %}
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="real_full_name">Full Legal Name</label>
                            <input type="text" id="real_full_name" name="real_full_name" value="{{ request.user.profile.real_full_name }}" class="form-input" {% if request.user.profile.is_kyc_verified %}readonly{% endif %}>
                            {% if request.user.profile.is_kyc_verified %}
                                <span class="form-hint">Locked after KYC verification</span>
                            {% endif %}
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="date_of_birth">Date of Birth</label>
                            <input type="date" id="date_of_birth" name="date_of_birth" value="{{ request.user.profile.date_of_birth|date:'Y-m-d' }}" class="form-input" {% if request.user.profile.is_kyc_verified %}readonly{% endif %}>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="nationality">Nationality</label>
                        <input type="text" id="nationality" name="nationality" value="{{ request.user.profile.nationality }}" class="form-input" {% if request.user.profile.is_kyc_verified %}readonly{% endif %}>
                    </div>
                    
                    {% if not request.user.profile.is_kyc_verified %}
                        <button type="submit" class="btn btn-primary">Update Identity Info</button>
                    {% endif %}
                </form>
            </section>
            
            <!-- Game IDs Section -->
            <section id="section-games" class="settings-section">
                <h2 class="section-title">Game Profiles</h2>
                <p class="section-description">Manage your in-game identities for all 11 supported games on DeltaCrown</p>
                
                <form method="post" action="{% url 'user_profile:save_game_profiles' %}" class="settings-form">
                    {% csrf_token %}
                    
                    <!-- Games Grid -->
                    <div style="display: grid; gap: 1rem;">
                        
                        <!-- VALORANT -->
                        <div class="game-profile-card" style="background: rgba(255, 70, 85, 0.1); border: 2px solid rgba(255, 70, 85, 0.3); border-radius: 0.75rem; padding: 1.25rem;">
                            <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                                <span style="font-size: 2rem;">üéØ</span>
                                <div>
                                    <h3 style="font-size: 1.125rem; font-weight: 700; color: #ff4655; margin: 0;">VALORANT</h3>
                                    <p style="font-size: 0.875rem; color: #94a3b8; margin: 0;">FPS ‚Ä¢ Featured</p>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="game_valorant_ign">Riot ID (Name#TAG)</label>
                                <input type="text" id="game_valorant_ign" name="game_valorant_ign" 
                                       value="{{ valorant_profile.ign|default:'' }}" 
                                       class="form-input" placeholder="PlayerName#0000">
                                <span class="form-hint">Example: TenZ#1234</span>
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;">
                                <div class="form-group">
                                    <label class="form-label" for="game_valorant_role">Role (Optional)</label>
                                    <select id="game_valorant_role" name="game_valorant_role" class="form-input">
                                        <option value="">Select Role</option>
                                        <option value="Duelist" {% if valorant_profile.role == "Duelist" %}selected{% endif %}>Duelist</option>
                                        <option value="Controller" {% if valorant_profile.role == "Controller" %}selected{% endif %}>Controller</option>
                                        <option value="Initiator" {% if valorant_profile.role == "Initiator" %}selected{% endif %}>Initiator</option>
                                        <option value="Sentinel" {% if valorant_profile.role == "Sentinel" %}selected{% endif %}>Sentinel</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="game_valorant_rank">Rank (Optional)</label>
                                    <input type="text" id="game_valorant_rank" name="game_valorant_rank" 
                                           value="{{ valorant_profile.rank|default:'' }}" 
                                           class="form-input" placeholder="e.g., Immortal 2">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Counter-Strike 2 -->
                        <div class="game-profile-card" style="background: rgba(205, 169, 98, 0.1); border: 2px solid rgba(205, 169, 98, 0.3); border-radius: 0.75rem; padding: 1.25rem;">
                            <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                                <span style="font-size: 2rem;">üî´</span>
                                <div>
                                    <h3 style="font-size: 1.125rem; font-weight: 700; color: #cda962; margin: 0;">Counter-Strike 2</h3>
                                    <p style="font-size: 0.875rem; color: #94a3b8; margin: 0;">FPS ‚Ä¢ Featured</p>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="game_cs2_ign">Steam Name / Friend Code</label>
                                <input type="text" id="game_cs2_ign" name="game_cs2_ign" 
                                       value="{{ cs2_profile.ign|default:'' }}" 
                                       class="form-input" placeholder="Your Steam username">
                                <span class="form-hint">Example: s1mple</span>
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;">
                                <div class="form-group">
                                    <label class="form-label" for="game_cs2_role">Role (Optional)</label>
                                    <select id="game_cs2_role" name="game_cs2_role" class="form-input">
                                        <option value="">Select Role</option>
                                        <option value="AWPer" {% if cs2_profile.role == "AWPer" %}selected{% endif %}>AWPer</option>
                                        <option value="Entry Fragger" {% if cs2_profile.role == "Entry Fragger" %}selected{% endif %}>Entry Fragger</option>
                                        <option value="Support" {% if cs2_profile.role == "Support" %}selected{% endif %}>Support</option>
                                        <option value="IGL" {% if cs2_profile.role == "IGL" %}selected{% endif %}>IGL</option>
                                        <option value="Lurker" {% if cs2_profile.role == "Lurker" %}selected{% endif %}>Lurker</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="game_cs2_rank">Rank (Optional)</label>
                                    <input type="text" id="game_cs2_rank" name="game_cs2_rank" 
                                           value="{{ cs2_profile.rank|default:'' }}" 
                                           class="form-input" placeholder="e.g., Global Elite">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Dota 2 -->
                        <div class="game-profile-card" style="background: rgba(165, 38, 27, 0.1); border: 2px solid rgba(165, 38, 27, 0.3); border-radius: 0.75rem; padding: 1.25rem;">
                            <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                                <span style="font-size: 2rem;">üõ°Ô∏è</span>
                                <div>
                                    <h3 style="font-size: 1.125rem; font-weight: 700; color: #a5261b; margin: 0;">Dota 2</h3>
                                    <p style="font-size: 0.875rem; color: #94a3b8; margin: 0;">MOBA ‚Ä¢ Featured</p>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="game_dota2_ign">Steam Name / Friend Code</label>
                                <input type="text" id="game_dota2_ign" name="game_dota2_ign" 
                                       value="{{ dota2_profile.ign|default:'' }}" 
                                       class="form-input" placeholder="Your Steam username">
                                <span class="form-hint">Example: Miracle-</span>
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;">
                                <div class="form-group">
                                    <label class="form-label" for="game_dota2_role">Position (Optional)</label>
                                    <select id="game_dota2_role" name="game_dota2_role" class="form-input">
                                        <option value="">Select Position</option>
                                        <option value="Carry" {% if dota2_profile.role == "Carry" %}selected{% endif %}>Carry</option>
                                        <option value="Mid" {% if dota2_profile.role == "Mid" %}selected{% endif %}>Mid</option>
                                        <option value="Offlane" {% if dota2_profile.role == "Offlane" %}selected{% endif %}>Offlane</option>
                                        <option value="Soft Support" {% if dota2_profile.role == "Soft Support" %}selected{% endif %}>Soft Support</option>
                                        <option value="Hard Support" {% if dota2_profile.role == "Hard Support" %}selected{% endif %}>Hard Support</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="game_dota2_rank">MMR (Optional)</label>
                                    <input type="text" id="game_dota2_rank" name="game_dota2_rank" 
                                           value="{{ dota2_profile.rank|default:'' }}" 
                                           class="form-input" placeholder="e.g., 7500 MMR">
                                </div>
                            </div>
                        </div>
                        
                        <!-- EA SPORTS FC 26 -->
                        <div class="game-profile-card" style="background: rgba(0, 164, 255, 0.1); border: 2px solid rgba(0, 164, 255, 0.3); border-radius: 0.75rem; padding: 1.25rem;">
                            <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                                <span style="font-size: 2rem;">‚öΩ</span>
                                <div>
                                    <h3 style="font-size: 1.125rem; font-weight: 700; color: #00a4ff; margin: 0;">EA SPORTS FC‚Ñ¢ 26</h3>
                                    <p style="font-size: 0.875rem; color: #94a3b8; margin: 0;">SPORTS ‚Ä¢ Featured</p>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="game_ea_fc_ign">EA ID / Gamertag</label>
                                <input type="text" id="game_ea_fc_ign" name="game_ea_fc_ign" 
                                       value="{{ ea_fc_profile.ign|default:'' }}" 
                                       class="form-input" placeholder="Your EA ID">
                                <span class="form-hint">Example: YourEAID</span>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="game_ea_fc_platform">Platform (Optional)</label>
                                <select id="game_ea_fc_platform" name="game_ea_fc_platform" class="form-input">
                                    <option value="">Select Platform</option>
                                    <option value="PC" {% if ea_fc_profile.platform == "PC" %}selected{% endif %}>PC</option>
                                    <option value="PlayStation" {% if ea_fc_profile.platform == "PlayStation" %}selected{% endif %}>PlayStation</option>
                                    <option value="Xbox" {% if ea_fc_profile.platform == "Xbox" %}selected{% endif %}>Xbox</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- eFootball 2026 -->
                        <div class="game-profile-card" style="background: rgba(0, 85, 170, 0.1); border: 2px solid rgba(0, 85, 170, 0.3); border-radius: 0.75rem; padding: 1.25rem;">
                            <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                                <span style="font-size: 2rem;">‚öΩ</span>
                                <div>
                                    <h3 style="font-size: 1.125rem; font-weight: 700; color: #0055aa; margin: 0;">eFootball‚Ñ¢ 2026</h3>
                                    <p style="font-size: 0.875rem; color: #94a3b8; margin: 0;">SPORTS</p>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="game_efootball_ign">Konami ID / Username</label>
                                <input type="text" id="game_efootball_ign" name="game_efootball_ign" 
                                       value="{{ efootball_profile.ign|default:'' }}" 
                                       class="form-input" placeholder="Your Konami ID">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="game_efootball_platform">Platform (Optional)</label>
                                <select id="game_efootball_platform" name="game_efootball_platform" class="form-input">
                                    <option value="">Select Platform</option>
                                    <option value="PC" {% if efootball_profile.platform == "PC" %}selected{% endif %}>PC</option>
                                    <option value="PlayStation" {% if efootball_profile.platform == "PlayStation" %}selected{% endif %}>PlayStation</option>
                                    <option value="Xbox" {% if efootball_profile.platform == "Xbox" %}selected{% endif %}>Xbox</option>
                                    <option value="Mobile" {% if efootball_profile.platform == "Mobile" %}selected{% endif %}>Mobile</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- PUBG MOBILE -->
                        <div class="game-profile-card" style="background: rgba(255, 153, 0, 0.1); border: 2px solid rgba(255, 153, 0, 0.3); border-radius: 0.75rem; padding: 1.25rem;">
                            <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                                <span style="font-size: 2rem;">üéÆ</span>
                                <div>
                                    <h3 style="font-size: 1.125rem; font-weight: 700; color: #ff9900; margin: 0;">PUBG MOBILE</h3>
                                    <p style="font-size: 0.875rem; color: #94a3b8; margin: 0;">BR ‚Ä¢ Featured</p>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="game_pubgm_ign">Player ID</label>
                                <input type="text" id="game_pubgm_ign" name="game_pubgm_ign" 
                                       value="{{ pubgm_profile.ign|default:'' }}" 
                                       class="form-input" placeholder="Your PUBG Mobile ID">
                                <span class="form-hint">Example: 5123456789</span>
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;">
                                <div class="form-group">
                                    <label class="form-label" for="game_pubgm_role">Role (Optional)</label>
                                    <select id="game_pubgm_role" name="game_pubgm_role" class="form-input">
                                        <option value="">Select Role</option>
                                        <option value="IGL" {% if pubgm_profile.role == "IGL" %}selected{% endif %}>IGL</option>
                                        <option value="Assaulter" {% if pubgm_profile.role == "Assaulter" %}selected{% endif %}>Assaulter</option>
                                        <option value="Sniper" {% if pubgm_profile.role == "Sniper" %}selected{% endif %}>Sniper</option>
                                        <option value="Support" {% if pubgm_profile.role == "Support" %}selected{% endif %}>Support</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="game_pubgm_rank">Tier (Optional)</label>
                                    <input type="text" id="game_pubgm_rank" name="game_pubgm_rank" 
                                           value="{{ pubgm_profile.rank|default:'' }}" 
                                           class="form-input" placeholder="e.g., Conqueror">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Mobile Legends: Bang Bang -->
                        <div class="game-profile-card" style="background: rgba(70, 110, 255, 0.1); border: 2px solid rgba(70, 110, 255, 0.3); border-radius: 0.75rem; padding: 1.25rem;">
                            <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                                <span style="font-size: 2rem;">‚ö°</span>
                                <div>
                                    <h3 style="font-size: 1.125rem; font-weight: 700; color: #466eff; margin: 0;">Mobile Legends: Bang Bang</h3>
                                    <p style="font-size: 0.875rem; color: #94a3b8; margin: 0;">MOBA ‚Ä¢ Featured</p>
                                </div>
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;">
                                <div class="form-group">
                                    <label class="form-label" for="game_mlbb_ign">Game ID</label>
                                    <input type="text" id="game_mlbb_ign" name="game_mlbb_ign" 
                                           value="{{ mlbb_profile.ign|default:'' }}" 
                                           class="form-input" placeholder="Your MLBB ID">
                                    <span class="form-hint">Example: 123456789</span>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="game_mlbb_server">Server ID</label>
                                    <input type="text" id="game_mlbb_server" name="game_mlbb_server" 
                                           value="{{ mlbb_profile.metadata.server_id|default:'' }}" 
                                           class="form-input" placeholder="Server ID">
                                    <span class="form-hint">Example: 1234</span>
                                </div>
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;">
                                <div class="form-group">
                                    <label class="form-label" for="game_mlbb_role">Role (Optional)</label>
                                    <select id="game_mlbb_role" name="game_mlbb_role" class="form-input">
                                        <option value="">Select Role</option>
                                        <option value="Tank" {% if mlbb_profile.role == "Tank" %}selected{% endif %}>Tank</option>
                                        <option value="Fighter" {% if mlbb_profile.role == "Fighter" %}selected{% endif %}>Fighter</option>
                                        <option value="Assassin" {% if mlbb_profile.role == "Assassin" %}selected{% endif %}>Assassin</option>
                                        <option value="Mage" {% if mlbb_profile.role == "Mage" %}selected{% endif %}>Mage</option>
                                        <option value="Marksman" {% if mlbb_profile.role == "Marksman" %}selected{% endif %}>Marksman</option>
                                        <option value="Support" {% if mlbb_profile.role == "Support" %}selected{% endif %}>Support</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="game_mlbb_rank">Rank (Optional)</label>
                                    <input type="text" id="game_mlbb_rank" name="game_mlbb_rank" 
                                           value="{{ mlbb_profile.rank|default:'' }}" 
                                           class="form-input" placeholder="e.g., Mythic Glory">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Free Fire -->
                        <div class="game-profile-card" style="background: rgba(255, 87, 51, 0.1); border: 2px solid rgba(255, 87, 51, 0.3); border-radius: 0.75rem; padding: 1.25rem;">
                            <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                                <span style="font-size: 2rem;">üî•</span>
                                <div>
                                    <h3 style="font-size: 1.125rem; font-weight: 700; color: #ff5733; margin: 0;">Free Fire</h3>
                                    <p style="font-size: 0.875rem; color: #94a3b8; margin: 0;">BR</p>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="game_freefire_ign">Player ID</label>
                                <input type="text" id="game_freefire_ign" name="game_freefire_ign" 
                                       value="{{ freefire_profile.ign|default:'' }}" 
                                       class="form-input" placeholder="Your Free Fire ID">
                                <span class="form-hint">Example: 123456789</span>
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;">
                                <div class="form-group">
                                    <label class="form-label" for="game_freefire_role">Role (Optional)</label>
                                    <select id="game_freefire_role" name="game_freefire_role" class="form-input">
                                        <option value="">Select Role</option>
                                        <option value="Rusher" {% if freefire_profile.role == "Rusher" %}selected{% endif %}>Rusher</option>
                                        <option value="Support" {% if freefire_profile.role == "Support" %}selected{% endif %}>Support</option>
                                        <option value="Sniper" {% if freefire_profile.role == "Sniper" %}selected{% endif %}>Sniper</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="game_freefire_rank">Rank (Optional)</label>
                                    <input type="text" id="game_freefire_rank" name="game_freefire_rank" 
                                           value="{{ freefire_profile.rank|default:'' }}" 
                                           class="form-input" placeholder="e.g., Heroic">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Call of Duty: Mobile -->
                        <div class="game-profile-card" style="background: rgba(82, 198, 126, 0.1); border: 2px solid rgba(82, 198, 126, 0.3); border-radius: 0.75rem; padding: 1.25rem;">
                            <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                                <span style="font-size: 2rem;">üéñÔ∏è</span>
                                <div>
                                    <h3 style="font-size: 1.125rem; font-weight: 700; color: #52c67e; margin: 0;">Call of Duty¬Æ: Mobile</h3>
                                    <p style="font-size: 0.875rem; color: #94a3b8; margin: 0;">FPS</p>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="game_codm_ign">Player ID / UID</label>
                                <input type="text" id="game_codm_ign" name="game_codm_ign" 
                                       value="{{ codm_profile.ign|default:'' }}" 
                                       class="form-input" placeholder="Your COD Mobile UID">
                                <span class="form-hint">Example: 6742012345678901234</span>
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;">
                                <div class="form-group">
                                    <label class="form-label" for="game_codm_role">Role (Optional)</label>
                                    <select id="game_codm_role" name="game_codm_role" class="form-input">
                                        <option value="">Select Role</option>
                                        <option value="Slayer" {% if codm_profile.role == "Slayer" %}selected{% endif %}>Slayer</option>
                                        <option value="Obj" {% if codm_profile.role == "Obj" %}selected{% endif %}>Obj</option>
                                        <option value="Sniper" {% if codm_profile.role == "Sniper" %}selected{% endif %}>Sniper</option>
                                        <option value="Support" {% if codm_profile.role == "Support" %}selected{% endif %}>Support</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="game_codm_rank">Rank (Optional)</label>
                                    <input type="text" id="game_codm_rank" name="game_codm_rank" 
                                           value="{{ codm_profile.rank|default:'' }}" 
                                           class="form-input" placeholder="e.g., Legendary">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Rocket League -->
                        <div class="game-profile-card" style="background: rgba(0, 112, 224, 0.1); border: 2px solid rgba(0, 112, 224, 0.3); border-radius: 0.75rem; padding: 1.25rem;">
                            <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                                <span style="font-size: 2rem;">üöó</span>
                                <div>
                                    <h3 style="font-size: 1.125rem; font-weight: 700; color: #0070e0; margin: 0;">Rocket League</h3>
                                    <p style="font-size: 0.875rem; color: #94a3b8; margin: 0;">SPORTS ‚Ä¢ Featured</p>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="game_rocketleague_ign">Epic Games ID</label>
                                <input type="text" id="game_rocketleague_ign" name="game_rocketleague_ign" 
                                       value="{{ rocketleague_profile.ign|default:'' }}" 
                                       class="form-input" placeholder="Your Epic Games ID">
                                <span class="form-hint">Example: YourEpicID</span>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="game_rocketleague_rank">Rank (Optional)</label>
                                <input type="text" id="game_rocketleague_rank" name="game_rocketleague_rank" 
                                       value="{{ rocketleague_profile.rank|default:'' }}" 
                                       class="form-input" placeholder="e.g., Grand Champion">
                            </div>
                        </div>
                        
                        <!-- Rainbow Six Siege -->
                        <div class="game-profile-card" style="background: rgba(242, 201, 76, 0.1); border: 2px solid rgba(242, 201, 76, 0.3); border-radius: 0.75rem; padding: 1.25rem;">
                            <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                                <span style="font-size: 2rem;">üè∞</span>
                                <div>
                                    <h3 style="font-size: 1.125rem; font-weight: 700; color: #f2c94c; margin: 0;">Tom Clancy's Rainbow Six¬Æ Siege</h3>
                                    <p style="font-size: 0.875rem; color: #94a3b8; margin: 0;">FPS ‚Ä¢ Featured</p>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="game_r6siege_ign">Ubisoft Username</label>
                                <input type="text" id="game_r6siege_ign" name="game_r6siege_ign" 
                                       value="{{ r6siege_profile.ign|default:'' }}" 
                                       class="form-input" placeholder="Your Ubisoft username">
                                <span class="form-hint">Example: Beaulo</span>
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;">
                                <div class="form-group">
                                    <label class="form-label" for="game_r6siege_role">Role (Optional)</label>
                                    <select id="game_r6siege_role" name="game_r6siege_role" class="form-input">
                                        <option value="">Select Role</option>
                                        <option value="Entry Fragger" {% if r6siege_profile.role == "Entry Fragger" %}selected{% endif %}>Entry Fragger</option>
                                        <option value="Support" {% if r6siege_profile.role == "Support" %}selected{% endif %}>Support</option>
                                        <option value="Flex" {% if r6siege_profile.role == "Flex" %}selected{% endif %}>Flex</option>
                                        <option value="Hard Breach" {% if r6siege_profile.role == "Hard Breach" %}selected{% endif %}>Hard Breach</option>
                                        <option value="IGL" {% if r6siege_profile.role == "IGL" %}selected{% endif %}>IGL</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="game_r6siege_rank">Rank (Optional)</label>
                                    <input type="text" id="game_r6siege_rank" name="game_r6siege_rank" 
                                           value="{{ r6siege_profile.rank|default:'' }}" 
                                           class="form-input" placeholder="e.g., Diamond 1">
                                </div>
                            </div>
                        </div>
                        
                    </div>
                    
                    <button type="submit" class="btn btn-primary" style="margin-top: 1.5rem; font-size: 1.125rem; padding: 0.875rem 2rem;">üíæ Save All Game Profiles</button>
                </form>
            </section>
            
            <!-- Social Links Section -->
            <section id="section-socials" class="settings-section">
                <h2 class="section-title">Social Links</h2>
                
                <form method="post" class="settings-form">
                    {% csrf_token %}
                    
                    <div class="form-group">
                        <label class="form-label" for="youtube_link">YouTube Channel</label>
                        <input type="url" id="youtube_link" name="youtube_link" value="{{ request.user.profile.youtube_link }}" class="form-input" placeholder="https://youtube.com/@channel">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="twitch_link">Twitch</label>
                        <input type="url" id="twitch_link" name="twitch_link" value="{{ request.user.profile.twitch_link }}" class="form-input" placeholder="https://twitch.tv/username">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="discord_id">Discord ID</label>
                        <input type="text" id="discord_id" name="discord_id" value="{{ request.user.profile.discord_id }}" class="form-input" placeholder="username#1234">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="facebook">Facebook</label>
                            <input type="url" id="facebook" name="facebook" value="{{ request.user.profile.facebook }}" class="form-input" placeholder="https://facebook.com/profile">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="instagram">Instagram</label>
                            <input type="url" id="instagram" name="instagram" value="{{ request.user.profile.instagram }}" class="form-input" placeholder="https://instagram.com/username">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="twitter">Twitter/X</label>
                        <input type="url" id="twitter" name="twitter" value="{{ request.user.profile.twitter }}" class="form-input" placeholder="https://twitter.com/username">
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Save Social Links</button>
                </form>
            </section>
            
            <!-- Privacy Section -->
            <section id="section-privacy" class="settings-section">
                <h2 class="section-title">Privacy Settings</h2>
                
                <form method="post" class="settings-form">
                    {% csrf_token %}
                    
                    <div class="privacy-group">
                        <h3 class="privacy-title">Profile Visibility</h3>
                        
                        <label class="checkbox-label">
                            <input type="checkbox" name="show_email" {% if request.user.profile.show_email %}checked{% endif %}>
                            <span>Show email address on public profile</span>
                        </label>
                        
                        <label class="checkbox-label">
                            <input type="checkbox" name="show_phone" {% if request.user.profile.show_phone %}checked{% endif %}>
                            <span>Show phone number on public profile</span>
                        </label>
                        
                        <label class="checkbox-label">
                            <input type="checkbox" name="show_real_name" {% if request.user.profile.show_real_name %}checked{% endif %}>
                            <span>Show real name on public profile</span>
                        </label>
                        
                        <label class="checkbox-label">
                            <input type="checkbox" name="show_age" {% if request.user.profile.show_age %}checked{% endif %}>
                            <span>Show age on public profile</span>
                        </label>
                        
                        <label class="checkbox-label">
                            <input type="checkbox" name="show_country" {% if request.user.profile.show_country %}checked{% endif %}>
                            <span>Show country on public profile</span>
                        </label>
                        
                        <label class="checkbox-label">
                            <input type="checkbox" name="show_socials" {% if request.user.profile.show_socials %}checked{% endif %}>
                            <span>Show social links on public profile</span>
                        </label>
                    </div>
                    
                    <div class="privacy-group">
                        <h3 class="privacy-title">Account Privacy</h3>
                        
                        <label class="checkbox-label">
                            <input type="checkbox" name="is_private" {% if request.user.profile.is_private %}checked{% endif %}>
                            <span>Make entire profile private</span>
                        </label>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Save Privacy Settings</button>
                </form>
            </section>
            
            <!-- Security Section -->
            <section id="section-security" class="settings-section">
                <h2 class="section-title">Security</h2>
                
                <div class="security-card">
                    <h3>Change Password</h3>
                    <p>Keep your account secure with a strong password</p>
                    <a href="{% url 'account:password_change' %}" class="btn btn-secondary">Change Password</a>
                </div>
                
                <div class="security-card">
                    <h3>Two-Factor Authentication</h3>
                    <p>Add an extra layer of security to your account</p>
                    <button class="btn btn-secondary" disabled>Coming Soon</button>
                </div>
                
                <div class="security-card danger">
                    <h3>Delete Account</h3>
                    <p>Permanently delete your account and all associated data</p>
                    <button class="btn btn-danger" onclick="alert('Please contact support to delete your account')">Delete Account</button>
                </div>
            </section>
            
        </main>
    </div>
    
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/settings.js' %}"></script>
{% endblock %}
