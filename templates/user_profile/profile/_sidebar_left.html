<!-- LEFT SIDEBAR -->
<aside class="lg:col-span-3 space-y-6">
    <!-- About Card -->
    <div class="z-card p-6 relative group">
        <div class="flex justify-between items-center mb-6 border-b border-white/5 pb-4">
            <h3 class="text-xs font-bold text-gray-400 uppercase tracking-widest">About</h3>
            {% if is_owner %}
            <button onclick="openAboutModal()" class="text-gray-500 hover:text-white transition edit-trigger" title="Edit About">
                <i class="fa-solid fa-pen"></i>
            </button>
            {% endif %}
        </div>
        <div class="space-y-5">
            {% if profile.country %}
            <div class="flex items-center gap-4">
                <div class="w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center text-gray-400 border border-white/5">
                    <i class="fa-solid fa-flag"></i>
                </div>
                <div>
                    <div class="text-[10px] text-gray-500 uppercase font-bold mb-0.5">Location</div>
                    <div class="text-white text-sm font-medium">{{ profile.country }}</div>
                </div>
            </div>
            {% endif %}
            <div class="flex items-center gap-4">
                <div class="w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center text-gray-400 border border-white/5">
                    <i class="fa-solid fa-calendar"></i>
                </div>
                <div>
                    <div class="text-[10px] text-gray-500 uppercase font-bold mb-0.5">Joined</div>
                    <div class="text-white text-sm font-medium">{{ profile.created_at|date:"F Y" }}</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Game Passports -->
    {% if pinned_passports or unpinned_passports %}
    <div class="z-card overflow-hidden group">
        <div class="p-4 bg-white/5 border-b border-white/5 flex justify-between items-center">
            <h3 class="text-xs font-bold text-white uppercase tracking-widest">Game IDs ({{ pinned_passports|length|add:unpinned_passports|length }})</h3>
            {% if is_owner %}
            <button onclick="openGamePassportsModal()" class="text-gray-500 hover:text-white transition edit-trigger" title="Manage Game IDs">
                <i class="fa-solid fa-gear"></i>
            </button>
            {% endif %}
        </div>

        {% for passport in pinned_passports %}
        <div class="p-5 border-l-[3px] border-l-[var(--z-cyan)] bg-gradient-to-r from-[var(--z-cyan)]/10 to-transparent relative group/item">
            <div class="flex justify-between items-center mb-1">
                <div class="flex items-center gap-2">
                    <span class="text-sm font-bold text-white">{{ passport.game.display_name }}</span>
                </div>
                <span class="text-[9px] bg-[var(--z-cyan)] text-black px-1.5 rounded font-bold uppercase">Pinned</span>
            </div>
            <div class="flex justify-between items-center">
                <span class="font-mono text-xs text-gray-300">{{ passport.ign }}</span>
                {% if passport.rank %}
                <div class="flex items-center gap-1 text-xs font-bold text-[var(--z-gold)]">
                    <i class="fa-solid fa-trophy"></i> {{ passport.rank }}
                </div>
                {% endif %}
            </div>
        </div>
        {% endfor %}

        {% for passport in unpinned_passports|slice:":2" %}
        <div class="p-4 border-b border-white/5 hover:bg-white/5 transition relative group/item">
            <div class="flex justify-between items-center mb-1">
                <div class="flex items-center gap-2">
                    <span class="text-sm font-bold text-gray-400 group-hover/item:text-white transition">{{ passport.game.display_name }}</span>
                </div>
            </div>
            <div class="text-xs font-mono text-gray-500">{{ passport.ign }}</div>
        </div>
        {% endfor %}

        {% if is_owner %}
        <button onclick="openGamePassportsModal()" class="w-full py-3 text-[10px] font-bold text-gray-500 hover:text-white hover:bg-white/5 transition uppercase tracking-widest border-t border-white/5">
            + Link New Account
        </button>
        {% endif %}
    </div>
    {% endif %}

    <!-- Loadout -->
    {% if has_loadout %}
    <div class="z-card p-6 relative group">
        <div class="flex justify-between items-center mb-5">
            <h3 class="text-xs font-bold text-gray-500 uppercase tracking-widest">Loadout</h3>
            {% if is_owner %}
            <button class="text-gray-500 hover:text-white transition edit-trigger" onclick="openEditLoadoutModal()" title="Edit Loadout">
                <i class="fa-solid fa-pen"></i>
            </button>
            {% endif %}
        </div>
        <div class="space-y-3">
            {% if hardware_gear.mouse %}
            <div class="flex items-center gap-3 group/item cursor-pointer p-2 rounded-lg hover:bg-white/5 transition">
                <div class="w-8 h-8 flex items-center justify-center text-lg text-gray-600 group-hover/item:text-[var(--z-gold)] transition">
                    <i class="fa-solid fa-computer-mouse"></i>
                </div>
                <div>
                    <div class="text-xs text-white font-bold group-hover/item:text-[var(--z-gold)] transition">{{ hardware_gear.mouse.brand }} {{ hardware_gear.mouse.model }}</div>
                    {% if hardware_gear.mouse.specs %}
                    <div class="text-[10px] text-gray-500">{{ hardware_gear.mouse.specs }}</div>
                    {% endif %}
                </div>
            </div>
            {% endif %}

            {% if hardware_gear.keyboard %}
            <div class="flex items-center gap-3 group/item cursor-pointer p-2 rounded-lg hover:bg-white/5 transition">
                <div class="w-8 h-8 flex items-center justify-center text-lg text-gray-600 group-hover/item:text-[var(--z-gold)] transition">
                    <i class="fa-solid fa-keyboard"></i>
                </div>
                <div>
                    <div class="text-xs text-white font-bold group-hover/item:text-[var(--z-gold)] transition">{{ hardware_gear.keyboard.brand }} {{ hardware_gear.keyboard.model }}</div>
                </div>
            </div>
            {% endif %}

            {% if hardware_gear.headset %}
            <div class="flex items-center gap-3 group/item cursor-pointer p-2 rounded-lg hover:bg-white/5 transition">
                <div class="w-8 h-8 flex items-center justify-center text-lg text-gray-600 group-hover/item:text-[var(--z-gold)] transition">
                    <i class="fa-solid fa-headphones"></i>
                </div>
                <div>
                    <div class="text-xs text-white font-bold group-hover/item:text-[var(--z-gold)] transition">{{ hardware_gear.headset.brand }} {{ hardware_gear.headset.model }}</div>
                </div>
            </div>
            {% endif %}
        </div>
    </div>
    {% endif %}
</aside>
