{% load static %}
<!-- UP-PHASE15 Session 3: KYC Status Display -->

<div class="kyc-status-container">
    <div class="info-card mb-6">
        <div class="card-header">‚úÖ Verification Status</div>
        <div class="card-content">
            {% if user_profile.kyc_verified %}
                <div class="kyc-verified">
                    <div class="status-badge status-verified">
                        ‚úì Verified
                    </div>
                    <p class="text-slate-300 mt-3">
                        Your identity has been verified. You have access to all platform features including 
                        tournament participation and prize withdrawals.
                    </p>
                    <div class="mt-4 text-sm text-slate-400">
                        <strong>Verified on:</strong> {{ user_profile.kyc_verified_date|date:"F d, Y" }}
                    </div>
                </div>
            {% else %}
                <div class="kyc-pending">
                    <div class="status-badge status-unverified">
                        ‚è≥ Unverified
                    </div>
                    <p class="text-slate-300 mt-3">
                        Identity verification is required to participate in premium tournaments and withdraw prizes.
                    </p>
                    <div class="mt-4">
                        <button type="button" class="btn btn-primary" id="start-kyc-btn">
                            üÜî Start Verification
                        </button>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>

    <div class="info-card">
        <div class="card-header">üìã What You Need</div>
        <div class="card-content">
            <ul class="kyc-requirements">
                <li>‚úì Government-issued photo ID (NID, Passport, or Driver's License)</li>
                <li>‚úì Clear photo of your face</li>
                <li>‚úì Proof of address (utility bill, bank statement, etc.)</li>
            </ul>
            <p class="text-sm text-slate-400 mt-4">
                <strong>Note:</strong> Your documents are securely stored and only used for verification purposes. 
                We comply with all data protection regulations.
            </p>
        </div>
    </div>
</div>

<style>
/* KYC Status Styles */
.kyc-status-container {
    margin-top: 1rem;
}

.status-badge {
    display: inline-block;
    padding: 0.5rem 1rem;
    border-radius: 8px;
    font-weight: 600;
    font-size: 0.875rem;
}

.status-verified {
    background: rgba(34, 197, 94, 0.2);
    color: rgb(134, 239, 172);
    border: 1px solid rgba(34, 197, 94, 0.3);
}

.status-unverified {
    background: rgba(251, 191, 36, 0.2);
    color: rgb(253, 224, 71);
    border: 1px solid rgba(251, 191, 36, 0.3);
}

.kyc-requirements {
    list-style: none;
    padding: 0;
    margin: 0;
}

.kyc-requirements li {
    padding: 0.5rem 0;
    color: rgb(203, 213, 225);
    border-bottom: 1px solid rgba(148, 163, 184, 0.1);
}

.kyc-requirements li:last-child {
    border-bottom: none;
}
</style>

<script type="module">
// KYC Start Button Handler
document.addEventListener('DOMContentLoaded', () => {
    const startKycBtn = document.getElementById('start-kyc-btn');
    
    if (startKycBtn) {
        startKycBtn.addEventListener('click', () => {
            // For Phase 15 Session 3: Show coming soon message
            // In future: navigate to KYC flow
            if (window.settingsController) {
                window.settingsController.showAlert('info', 
                    'KYC verification system is coming soon. Contact support@deltacrown.gg for priority verification.');
            } else {
                alert('KYC verification system is coming soon. Contact support@deltacrown.gg for priority verification.');
            }
        });
    }
});
</script>
