{% extends "base.html" %}
{% load static %}
{% load game_assets %}
{% load humanize %}

{% block title %}DeltaCrown — Bangladesh's Premier Esports Platform{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/homepage-modern.css' %}">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
/* Font loading optimization for mobile */
@font-face {
  font-family: 'Inter';
  font-display: swap;
}
@font-face {
  font-family: 'Space Grotesk';
  font-display: swap;
}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<meta name="description" content="Join Bangladesh's premier esports platform. Compete in tournaments, build teams, and win real prizes. Featured games: Valorant, eFootball, CS2, PUBG Mobile, and more.">
<meta name="keywords" content="esports bangladesh, gaming tournaments, valorant bangladesh, efootball tournaments, cs2 competitions, pubg mobile esports">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
{% endblock %}

{% block content %}
<main id="main-content">
<!-- Modern Hero Section -->
<section class="hero-section">
    <div class="hero-container">
        <div class="hero-content">
            <div class="hero-text">
                <div class="hero-badge">
                    <i class="fas fa-trophy"></i>
                    <span>Bangladesh's #1 Esports Platform</span>
                </div>

                <h1 class="hero-title">
                    Compete, Win, <span class="gradient-text">Dominate</span>
                </h1>

                <p class="hero-description">
                    Join thousands of gamers competing in professional tournaments.
                    Build your team, climb rankings, and win real cash prizes.
                </p>

                <div class="hero-stats">
                    <div class="stat-item">
                        <div class="stat-number">{{ community_stats.players|default:"5,200"|floatformat:0 }}+</div>
                        <div class="stat-label">Active Players</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">৳{{ community_stats.prizes_bdt|default:"500000"|floatformat:0 }}+</div>
                        <div class="stat-label">Prizes Won</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">150+</div>
                        <div class="stat-label">Tournaments</div>
                    </div>
                </div>

                <div class="hero-actions">
                    <a href="/tournaments/" class="btn btn-primary">
                        <i class="fas fa-trophy"></i>
                        Join Tournament
                    </a>
                    <a href="/teams/" class="btn btn-secondary">
                        <i class="fas fa-users"></i>
                        Find Team
                    </a>
                </div>
            </div>

            <div class="hero-visual">
                <div class="featured-tournament-card">
                    {% if featured_tournament %}
                        <div class="tournament-badge live">Live Tournament</div>
                        <h3>{{ featured_tournament.name }}</h3>
                        <div class="tournament-details">
                            <div class="detail-item">
                                <i class="fas fa-trophy"></i>
                                <span>Prize Pool</span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-calendar"></i>
                                <span>{{ featured_tournament.start_iso|date:"M d" }}</span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-users"></i>
                                <span>64 Teams</span>
                            </div>
                        </div>
                        <a href="{{ featured_tournament.detail_url }}" class="btn btn-outline btn-sm">View Details</a>
                    {% else %}
                        <div class="tournament-badge upcoming">Next Tournament</div>
                        <h3>Valorant Champions Cup</h3>
                        <div class="tournament-details">
                            <div class="detail-item">
                                <i class="fas fa-trophy"></i>
                                <span>৳50,000 Prize</span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-calendar"></i>
                                <span>Starting Soon</span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-users"></i>
                                <span>Open Registration</span>
                            </div>
                        </div>
                        <a href="/tournaments/" class="btn btn-outline btn-sm">Register Now</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Games Section -->
<section class="games-section">
    <div class="section-container">
        <div class="section-header">
            <div class="section-badge">
                <i class="fas fa-gamepad"></i>
                <span>Featured Games</span>
            </div>
            <h2 class="section-title">Choose Your Arena</h2>
            <p class="section-description">
                Compete across multiple game titles and prove your skills in various competitive environments.
            </p>
        </div>

        <div class="games-grid">
            {% for game in games_strip %}
                <div class="game-card" data-game="{{ game.slug }}">
                    <div class="game-card-header">
                        <div class="game-image">
                            <img src="{% static game.image %}" alt="{{ game.name }}" loading="lazy">
                            <div class="game-overlay"></div>
                        </div>
                        <div class="game-logo-container">
                            <img src="{% game_logo game.slug|upper %}" alt="{{ game.name }} Logo" class="game-logo-img">
                        </div>
                    </div>

                    <div class="game-card-content">
                        <div class="game-info">
                            <h3 class="game-title">{{ game.name }}</h3>
                            <div class="game-category">{% game_category game.slug|upper %}</div>
                        </div>

                        <div class="game-stats">
                            <div class="stat-item">
                                <i class="fas fa-trophy"></i>
                                <span>12 Active Tournaments</span>
                            </div>
                            <div class="stat-item">
                                <i class="fas fa-users"></i>
                                <span>2.5K+ Players</span>
                            </div>
                            <div class="stat-item">
                                <i class="fas fa-medal"></i>
                                <span>৳50K+ Prizes</span>
                            </div>
                            <div class="stat-item">
                                <i class="fas fa-clock"></i>
                                <span>Daily Matches</span>
                            </div>
                        </div>

                        <div class="game-actions">
                            <a href="/tournaments/?game={{ game.slug }}" class="btn btn-game-primary"
                               style="--game-color: {% game_color_primary game.slug|upper %}">
                                <i class="fas fa-play"></i>
                                Play Now
                            </a>
                            <a href="/teams/?game={{ game.slug }}" class="btn btn-game-secondary">
                                <i class="fas fa-users"></i>
                                Find Team
                            </a>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>

        <div class="section-footer">
            <a href="/tournaments/" class="btn btn-outline-large">
                <i class="fas fa-gamepad"></i>
                View All Games & Tournaments
            </a>
        </div>
    </div>
</section>

<!-- Live Tournaments Section -->
<section class="tournaments-section">
    <div class="section-container">
        <div class="section-header">
            <div class="section-badge">
                <i class="fas fa-trophy"></i>
                <span>Live & Upcoming</span>
            </div>
            <h2 class="section-title">Active Tournaments</h2>
            <p class="section-description">
                Join ongoing competitions or register for upcoming tournaments across all supported games.
            </p>
        </div>

        <div class="tournaments-grid">
            <!-- Featured Tournament -->
            {% if featured_tournament %}
            <div class="tournament-card featured">
                <div class="tournament-status live">
                    <i class="fas fa-circle"></i>
                    <span>Live Now</span>
                </div>
                <div class="tournament-game">
                    <img src="{% game_logo 'VALORANT' %}" alt="Game Logo">
                    <span>Valorant</span>
                </div>
                <h3 class="tournament-title">{{ featured_tournament.name }}</h3>
                <div class="tournament-info">
                    <div class="info-item">
                        <i class="fas fa-trophy"></i>
                        <span>৳75,000 Prize Pool</span>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-users"></i>
                        <span>64/64 Teams</span>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-calendar"></i>
                        <span>Grand Finals Today</span>
                    </div>
                </div>
                <div class="tournament-actions">
                    <a href="{{ featured_tournament.detail_url }}" class="btn btn-primary">
                        <i class="fas fa-eye"></i>
                        Watch Live Stream
                    </a>
                </div>
            </div>
            {% endif %}

            <!-- Upcoming Tournaments -->
            <div class="tournament-card upcoming">
                <div class="tournament-status upcoming">
                    <i class="fas fa-clock"></i>
                    <span>Registration Open</span>
                </div>
                <div class="tournament-game">
                    <img src="{% game_logo 'EFOOTBALL' %}" alt="eFootball Logo">
                    <span>eFootball</span>
                </div>
                <h3 class="tournament-title">eFootball Premier League</h3>
                <div class="tournament-info">
                    <div class="info-item">
                        <i class="fas fa-trophy"></i>
                        <span>৳35,000 Prize Pool</span>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-users"></i>
                        <span>32/64 Teams</span>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-calendar"></i>
                        <span>Starts Oct 5</span>
                    </div>
                </div>
                <div class="tournament-actions">
                    <a href="/tournaments/" class="btn btn-primary">
                        <i class="fas fa-plus"></i>
                        Register Team
                    </a>
                </div>
            </div>

            <!-- CS2 Tournament -->
            <div class="tournament-card upcoming">
                <div class="tournament-status upcoming">
                    <i class="fas fa-clock"></i>
                    <span>Coming Soon</span>
                </div>
                <div class="tournament-game">
                    <img src="{% game_logo 'CS2' %}" alt="CS2 Logo">
                    <span>Counter-Strike 2</span>
                </div>
                <h3 class="tournament-title">CS2 Championship</h3>
                <div class="tournament-info">
                    <div class="info-item">
                        <i class="fas fa-trophy"></i>
                        <span>৳60,000 Prize Pool</span>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-users"></i>
                        <span>0/32 Teams</span>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-calendar"></i>
                        <span>Starts Oct 15</span>
                    </div>
                </div>
                <div class="tournament-actions">
                    <a href="/tournaments/" class="btn btn-outline">
                        <i class="fas fa-bell"></i>
                        Get Notified
                    </a>
                </div>
            </div>
        </div>

        <div class="section-footer">
            <a href="/tournaments/" class="btn btn-outline-large">
                <i class="fas fa-trophy"></i>
                View All Tournaments
            </a>
        </div>
    </div>
</section>

<!-- Live Feed Section - Redesigned -->
<section class="live-feed-section">
    <div class="section-container">
        <div class="section-header">
            <div class="section-badge live-badge">
                <i class="fas fa-satellite-dish"></i>
                <span>Live Center</span>
            </div>
            <h2 class="section-title">Tournament Hub</h2>
            <p class="section-description">
                Stay updated with live matches, recent results, and upcoming tournaments across all games.
            </p>
        </div>

        <div class="feed-hub">
            <!-- Live Matches -->
            <div class="feed-section">
                <div class="feed-header">
                    <h3><i class="fas fa-circle live-indicator"></i> Live Matches</h3>
                    <span class="match-count">3 ongoing</span>
                </div>
                <div class="live-matches">
                    <div class="match-card live">
                        <div class="match-game">
                            <img src="{% game_logo 'VALORANT' %}" alt="Valorant">
                            <span>Valorant Finals</span>
                        </div>
                        <div class="match-teams">
                            <span class="team">DeltaElite</span>
                            <div class="score">2-1</div>
                            <span class="team">Phoenix Rising</span>
                        </div>
                        <div class="match-status">
                            <span class="live-dot"></span>
                            <span>Map 4 - Haven</span>
                        </div>
                    </div>
                    <div class="match-card live">
                        <div class="match-game">
                            <img src="{% game_logo 'CS2' %}" alt="CS2">
                            <span>CS2 Semi-Final</span>
                        </div>
                        <div class="match-teams">
                            <span class="team">Thunder Bolts</span>
                            <div class="score">1-0</div>
                            <span class="team">Storm Hawks</span>
                        </div>
                        <div class="match-status">
                            <span class="live-dot"></span>
                            <span>Round 15-10</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Results -->
            <div class="feed-section">
                <div class="feed-header">
                    <h3><i class="fas fa-trophy"></i> Recent Results</h3>
                    <a href="/tournaments/" class="view-all">View All</a>
                </div>
                <div class="recent-results">
                    <div class="result-item">
                        <div class="result-game">
                            <img src="{% game_logo 'EFOOTBALL' %}" alt="eFootball">
                        </div>
                        <div class="result-details">
                            <div class="match-result">Phoenix Rising 3-1 Storm Hawks</div>
                            <div class="result-meta">eFootball Pro League • 2 hours ago</div>
                        </div>
                    </div>
                    <div class="result-item">
                        <div class="result-game">
                            <img src="{% game_logo 'MLBB' %}" alt="MLBB">
                        </div>
                        <div class="result-details">
                            <div class="match-result">Cyber Wolves def. Night Riders</div>
                            <div class="result-meta">MLBB Championship • 4 hours ago</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Upcoming Tournaments -->
            <div class="feed-section">
                <div class="feed-header">
                    <h3><i class="fas fa-calendar-alt"></i> Upcoming</h3>
                    <a href="/tournaments/" class="view-all">Register</a>
                </div>
                <div class="upcoming-tournaments">
                    <div class="upcoming-item">
                        <div class="tournament-date">
                            <div class="date-day">Oct</div>
                            <div class="date-num">28</div>
                        </div>
                        <div class="tournament-info">
                            <div class="tournament-name">PUBG Mobile Championship</div>
                            <div class="tournament-details">₹75,000 Prize Pool • 64 Teams</div>
                        </div>
                        <div class="tournament-status">
                            <span class="status-badge open">Registration Open</span>
                        </div>
                    </div>
                    <div class="upcoming-item">
                        <div class="tournament-date">
                            <div class="date-day">Nov</div>
                            <div class="date-num">05</div>
                        </div>
                        <div class="tournament-info">
                            <div class="tournament-name">Free Fire Pro League</div>
                            <div class="tournament-details">₹50,000 Prize Pool • 32 Teams</div>
                        </div>
                        <div class="tournament-status">
                            <span class="status-badge soon">Coming Soon</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Teams Showcase Section -->
<section class="teams-section">
    <div class="section-container">
        <div class="section-header">
            <div class="section-badge">
                <i class="fas fa-users"></i>
                <span>Featured Teams</span>
            </div>
            <h2 class="section-title">Elite Teams</h2>
            <p class="section-description">
                Meet the top-performing teams in our platform. Join them or build your own championship team.
            </p>
        </div>

        <div class="teams-grid">
            <!-- Elite Team Cards with Enhanced Styling -->
            <div class="team-card elite-team" data-rank="1">
                <div class="team-rank champion">#1</div>
                <div class="team-logo">
                    <img src="{% static 'img/team_placeholder.png' %}" alt="Team Logo">
                    <div class="champion-glow"></div>
                </div>
                <div class="team-info">
                    <h3 class="team-name competitive-gradient">DeltaElite</h3>
                    <div class="team-game">
                        <img src="{% game_logo 'VALORANT' %}" alt="Valorant" class="game-icon">
                        <span>Valorant Champions</span>
                    </div>
                    <div class="team-stats">
                        <div class="stat">
                            <span class="stat-value neon-text">24</span>
                            <span class="stat-label">Wins</span>
                        </div>
                        <div class="stat">
                            <span class="stat-value">3</span>
                            <span class="stat-label">Losses</span>
                        </div>
                        <div class="stat">
                            <span class="stat-value highlight">৳45K</span>
                            <span class="stat-label">Earned</span>
                        </div>
                    </div>
                </div>
                <div class="team-actions">
                    <a href="/teams/" class="btn btn-primary btn-sm">
                        <i class="fas fa-crown"></i>
                        View Champions
                    </a>
                </div>
            </div>

            <div class="team-card elite-team" data-rank="2">
                <div class="team-rank runner-up">#2</div>
                <div class="team-logo">
                    <img src="{% static 'img/team_placeholder.png' %}" alt="Team Logo">
                    <div class="silver-glow"></div>
                </div>
                <div class="team-info">
                    <h3 class="team-name">Phoenix Rising</h3>
                    <div class="team-game">
                        <img src="{% game_logo 'EFOOTBALL' %}" alt="eFootball" class="game-icon">
                        <span>eFootball Pro</span>
                    </div>
                    <div class="team-stats">
                        <div class="stat">
                            <span class="stat-value neon-text">19</span>
                            <span class="stat-label">Wins</span>
                        </div>
                        <div class="stat">
                            <span class="stat-value">5</span>
                            <span class="stat-label">Losses</span>
                        </div>
                        <div class="stat">
                            <span class="stat-value highlight">৳32K</span>
                            <span class="stat-label">Earned</span>
                        </div>
                    </div>
                </div>
                <div class="team-actions">
                    <a href="/teams/" class="btn btn-secondary btn-sm">
                        <i class="fas fa-medal"></i>
                        View Profile
                    </a>
                </div>
            </div>

            <div class="team-card elite-team" data-rank="3">
                <div class="team-rank third-place">#3</div>
                <div class="team-logo">
                    <img src="{% static 'img/team_placeholder.png' %}" alt="Team Logo">
                    <div class="bronze-glow"></div>
                </div>
                <div class="team-info">
                    <h3 class="team-name">Thunder Bolts</h3>
                    <div class="team-game">
                        <img src="{% game_logo 'CS2' %}" alt="CS2" class="game-icon">
                        <span>CS2 Elite</span>
                    </div>
                    <div class="team-stats">
                        <div class="stat">
                            <span class="stat-value neon-text">16</span>
                            <span class="stat-label">Wins</span>
                        </div>
                        <div class="stat">
                            <span class="stat-value">4</span>
                            <span class="stat-label">Losses</span>
                        </div>
                        <div class="stat">
                            <span class="stat-value highlight">৳28K</span>
                            <span class="stat-label">Earned</span>
                        </div>
                    </div>
                </div>
                <div class="team-actions">
                    <a href="/teams/" class="btn btn-outline btn-sm">
                        <i class="fas fa-trophy"></i>
                        View Profile
                    </a>
                </div>
            </div>
        </div>

        <div class="section-footer">
            <div class="cta-content">
                <h3>Ready to Build Your Team?</h3>
                <p>Create your team, recruit players, and start competing in tournaments today.</p>
                <div class="cta-actions">
                    <a href="/teams/create/" class="btn btn-primary">
                        <i class="fas fa-plus"></i>
                        Create Team
                    </a>
                    <a href="/teams/" class="btn btn-outline">
                        <i class="fas fa-search"></i>
                        Browse Teams
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Platform Features Section -->
<section class="features-section">
    <div class="section-container">
        <div class="section-header">
            <div class="section-badge">
                <i class="fas fa-star"></i>
                <span>Platform Features</span>
            </div>
            <h2 class="section-title">Why Choose DeltaCrown?</h2>
            <p class="section-description">
                Experience the most advanced esports platform in Bangladesh with professional-grade features.
            </p>
        </div>

        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <h3 class="feature-title">Secure & Fair</h3>
                <p class="feature-description">
                    Advanced anti-cheat systems and fair play monitoring ensure competitive integrity.
                </p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-money-bill-wave"></i>
                </div>
                <h3 class="feature-title">Real Cash Prizes</h3>
                <p class="feature-description">
                    Win real money prizes with instant payouts through mobile banking and cards.
                </p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <h3 class="feature-title">Skill Tracking</h3>
                <p class="feature-description">
                    Detailed statistics and skill ratings help you track your improvement over time.
                </p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-users-cog"></i>
                </div>
                <h3 class="feature-title">Team Management</h3>
                <p class="feature-description">
                    Comprehensive team tools for recruitment, practice scheduling, and strategy planning.
                </p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-broadcast-tower"></i>
                </div>
                <h3 class="feature-title">Live Streaming</h3>
                <p class="feature-description">
                    Watch tournaments live with professional commentary and analysis.
                </p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-mobile-alt"></i>
                </div>
                <h3 class="feature-title">Mobile Optimized</h3>
                <p class="feature-description">
                    Full-featured mobile experience for managing teams and tournaments on-the-go.
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Call to Action Section -->
<section class="cta-section">
    <div class="section-container">
        <div class="cta-content">
            <div class="cta-text">
                <h2 class="cta-title">Ready to Start Your Esports Journey?</h2>
                <p class="cta-description">
                    Join thousands of gamers competing for real prizes. Create your account and start your path to esports glory.
                </p>
            </div>

            <div class="cta-actions">
                <a href="/account/signup/" class="btn btn-primary btn-large">
                    <i class="fas fa-user-plus"></i>
                    Create Account
                </a>
                <a href="/tournaments/" class="btn btn-outline btn-large">
                    <i class="fas fa-eye"></i>
                    Explore Tournaments
                </a>
            </div>

            <div class="cta-features">
                <div class="feature-item">
                    <i class="fas fa-check"></i>
                    <span>Free Registration</span>
                </div>
                <div class="feature-item">
                    <i class="fas fa-check"></i>
                    <span>Instant Tournament Access</span>
                </div>
                <div class="feature-item">
                    <i class="fas fa-check"></i>
                    <span>Mobile Banking Support</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Theme Toggle Button -->
<button class="theme-toggle" aria-label="Toggle theme">
    <i class="fas fa-sun light-icon"></i>
    <i class="fas fa-moon dark-icon"></i>
</button>
</main>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/homepage-enhanced.js' %}" defer></script>
{% endblock %}
