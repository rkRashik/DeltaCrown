{# Expects 't' tournament with title, slug, game, starts_at, entry_fee, slots_total, slots_taken, banner(optional) #}
<a href="/tournaments/{{ t.slug }}/" class="card hover:lift focus:outline-none focus:ring-2 focus:ring-dc-primary block">
  {% if t.banner %}
    <img src="{{ t.banner.url }}" alt="" class="w-full h-40 object-cover rounded-t-md">
  {% endif %}
  <div class="card-b space-y-2">
    <div class="flex items-center justify-between">
      <h3 class="text-lg font-semibold">{{ t.title }}</h3>
      <span class="badge">{{ t.game|default:"" }}</span>
    </div>
    <div class="text-sm text-dc-muted">
      <span>Starts: {{ t.starts_at|date:"M j, H:i" }}</span> Â·
      <span>Entry: {{ t.entry_fee|default:0 }} BDT</span>
    </div>
    {% with total=t.slots_total|default:0 taken=t.slots_taken|default:0 %}
    {% with pct=total|yesno:"" %}{% endwith %}
    <div class="capacity">
      {% with p=0 %}
        {% if total > 0 %}{% with p=taken|divisibleby:total %}{% endwith %}{% endif %}
      {% endwith %}
      <div class="bar"><span style="width: {% if total > 0 %}{{ taken|floatformat:2|add:'0'|floatformat:'2' }}{% endif %}%"></span></div>
    </div>
    {% endwith %}
    {% include "components/button.html" with text="Register" variant="primary" %}
  </div>
</a>
