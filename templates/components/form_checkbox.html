{# Checkbox Component #}
{# 
Usage:
{% include 'components/form_checkbox.html' with 
    field=form.agree_terms 
    label="I agree to the Terms and Conditions"
    required=True
%}

Or manual (without Django form):
{% include 'components/form_checkbox.html' with 
    id="remember_me"
    name="remember_me"
    label="Remember me"
    checked=True
%}
#}

{% load widget_tweaks %}

<div class="form-group {% if extra_classes %}{{ extra_classes }}{% endif %}">
    <div class="flex items-start">
        {# Checkbox Input #}
        <div class="flex items-center h-5">
            {% if field %}
                {# Django form field #}
                {% render_field field class="w-4 h-4 text-primary-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-primary-500 focus:ring-offset-0 cursor-pointer"|add:input_classes %}
            {% else %}
                {# Manual checkbox (no Django form) #}
                <input 
                    type="checkbox"
                    id="{{ id }}"
                    name="{{ name }}"
                    value="{{ value|default:'on' }}"
                    {% if checked %}checked{% endif %}
                    {% if required %}required{% endif %}
                    {% if disabled %}disabled{% endif %}
                    class="w-4 h-4 text-primary-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-primary-500 focus:ring-offset-0 cursor-pointer {{ input_classes }}"
                >
            {% endif %}
        </div>
        
        {# Label #}
        {% if label %}
        <div class="ml-3 text-sm">
            <label for="{{ field.id_for_label|default:id }}" class="font-medium text-gray-700 dark:text-gray-300 cursor-pointer">
                {{ label }}
                {% if required %}
                <span class="text-error-500">*</span>
                {% endif %}
            </label>
            
            {# Help Text #}
            {% if help_text %}
            <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">
                {{ help_text }}
            </p>
            {% elif field and field.help_text %}
            <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">
                {{ field.help_text }}
            </p>
            {% endif %}
        </div>
        {% endif %}
    </div>
    
    {# Error Message #}
    {% if field and field.errors %}
    <p class="mt-2 text-sm text-error-600 dark:text-error-400 ml-7">
        <i class="fas fa-exclamation-circle mr-1"></i>
        {{ field.errors|join:', ' }}
    </p>
    {% elif error %}
    <p class="mt-2 text-sm text-error-600 dark:text-error-400 ml-7">
        <i class="fas fa-exclamation-circle mr-1"></i>
        {{ error }}
    </p>
    {% endif %}
</div>
