{% load static %}
<header class="sticky top-0 z-50 backdrop-blur-md bg-surface/70 border-b border-border supports-[backdrop-filter]:bg-surface/60">
  <nav class="container flex items-center justify-between py-3">
    <a href="/" class="flex items-center gap-2 font-semibold tracking-tight">
      <img src="{% static 'siteui/svg/logo-deltacrown.svg' %}" alt="DeltaCrown" class="h-7 w-7" />
      <span class="hidden sm:inline">DeltaCrown</span>
    </a>

    <!-- Drawer trigger expected by tests -->
    <button class="md:hidden btn-ghost px-3 py-2 rounded-xl"
            data-open-drawer="main-drawer"
            aria-label="Open menu" aria-expanded="false">
      <span class="sr-only">Menu</span>
      <svg class="h-6 w-6" viewBox="0 0 24 24"><path fill="currentColor" d="M3 6h18v2H3V6zm0 5h18v2H3v-2zm0 5h18v2H3v-2z"/></svg>
    </button>

    <ul class="hidden md:flex items-center gap-6 text-sm">
      <li><a class="link-nav" href="/tournaments/">Tournaments</a></li>
      <li><a class="link-nav" href="/teams/">Teams</a></li>
      <li><a class="link-nav" href="/pages/about/">About</a></li>
      <li><a class="link-nav" href="/pages/community/">Community</a></li>
    </ul>

    <div class="hidden md:flex items-center gap-2">
      <!-- Toggle expected by tests -->
      <button class="btn-secondary" id="theme-toggle" data-theme-toggle aria-label="Toggle theme">Theme</button>
      {% if request.user.is_authenticated %}
        <a class="btn-primary" href="/dashboard/">Dashboard</a>
      {% else %}
        <a class="btn-primary" href="/accounts/login/">Sign in</a>
      {% endif %}
    </div>
  </nav>

  <!-- Mobile drawer -->
  <div id="main-drawer" class="mobile-drawer" hidden>
    <div class="mobile-drawer__panel">
      <button class="btn-ghost absolute right-3 top-3" data-close-drawer aria-label="Close menu">
        <svg class="h-6 w-6" viewBox="0 0 24 24"><path fill="currentColor" d="M18.3 5.71L12 12l6.3 6.29-1.41 1.42L10.59 13.4 4.29 19.7 2.88 18.29 9.17 12 2.88 5.71 4.29 4.29 10.59 10.6 16.89 4.29z"/></svg>
      </button>
      <ul class="flex flex-col gap-4 mt-12">
        <li><a class="link-nav" href="/tournaments/">Tournaments</a></li>
        <li><a class="link-nav" href="/teams/">Teams</a></li>
        <li><a class="link-nav" href="/pages/about/">About</a></li>
        <li><a class="link-nav" href="/pages/community/">Community</a></li>
        <li class="pt-2 border-t border-border">
          {% if request.user.is_authenticated %}
            <a class="btn-primary w-full" href="/dashboard/">Dashboard</a>
          {% else %}
            <a class="btn-primary w-full" href="/accounts/login/">Sign in</a>
          {% endif %}
        </li>
        <li><button class="btn-secondary w-full" data-theme-toggle id="theme-toggle-mobile">Theme</button></li>
      </ul>
    </div>
    <button class="mobile-drawer__scrim" data-close-drawer aria-label="Close"></button>
  </div>
</header>
