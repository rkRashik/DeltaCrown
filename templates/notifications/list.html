{% extends "base.html" %}
{% block title %}Notifications — DeltaCrown{% endblock %}

{% block content %}
{% meta_tags title="Notifications — DeltaCrown" description="Your recent activity and alerts." %}

<section aria-labelledby="h1">
  <header class="d-flex align-items-center justify-content-between mb-3">
    <h1 id="h1" class="mb-0">Notifications</h1>
  </header>

  {% with items=object_list|default:notifications %}
    {% if items %}
      <div class="card p-3">
        <ul class="list-unstyled mb-0">
          {% for n in items %}
            <li class="mb-3">
              <div class="fw-medium">{{ n.title|default:n.subject|default:"Notification" }}</div>
              <div class="text-muted">
                {% if n.created_at %}{{ n.created_at|date:"M d, Y h:i A" }}
                {% elif n.timestamp %}{{ n.timestamp|date:"M d, Y h:i A" }}{% endif %}
              </div>
              {% if n.body %}<div class="mt-3">{{ n.body|safe }}</div>{% endif %}
            </li>
            {% if not forloop.last %}<hr/>{% endif %}
          {% endfor %}
        </ul>
      </div>
    {% else %}
      <article class="card p-3">
        <div class="fw-medium mb-1">Nothing here yet</div>
        <p class="mb-0 text-muted">You’ll see invites, match updates, and results here.</p>
      </article>
    {% endif %}
  {% endwith %}

  <div class="mt-3">
    {% include "partials/pagination.html" %}
  </div>
</section>
{% endblock %}
