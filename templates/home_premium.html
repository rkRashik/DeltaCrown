{% extends "base.html" %}
{% load static %}
{% load game_assets %}
{% load humanize %}

{% block title %}DeltaCrown — Bangladesh's Premier Esports Platform{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/homepage-modern.css' %}">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<meta name="description" content="Join Bangladesh's premier esports platform. Compete in tournaments, build teams, and win real prizes. Featured games: Valorant, eFootball, CS2, PUBG Mobile, and more.">
<meta name="keywords" content="esports bangladesh, gaming tournaments, valorant bangladesh, efootball tournaments, cs2 competitions, pubg mobile esports">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section" id="hero">
    <div class="hero-background">
        <div class="hero-particles" id="particles"></div>
        <div class="hero-gradient"></div>
        <div class="hero-grid"></div>
    </div>
    
    <div class="hero-content">
        <div class="container">
            <div class="hero-main">
                <div class="hero-text">
                    <div class="hero-badge" data-aos="fade-up">
                        <i class="fas fa-crown"></i>
                        <span>{{ homepage.hero.subtitle }}</span>
                    </div>
                    
                    <h1 class="hero-title" data-aos="fade-up" data-aos-delay="100">
                        {{ homepage.hero.title }}
                    </h1>
                    
                    <p class="hero-description" data-aos="fade-up" data-aos-delay="200">
                        {{ homepage.hero.description }}
                    </p>
                    
                    <div class="hero-stats" data-aos="fade-up" data-aos-delay="300">
                        <div class="stat-item">
                            <div class="stat-number">{{ homepage.platform_stats.active_players|floatformat:0 }}</div>
                            <div class="stat-label">Active Players</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">{{ homepage.platform_stats.total_tournaments }}</div>
                            <div class="stat-label">Tournaments</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">{{ homepage.platform_stats.total_prizes }}</div>
                            <div class="stat-label">Prize Pool</div>
                        </div>
                    </div>
                    
                    <div class="hero-actions" data-aos="fade-up" data-aos-delay="400">
                        <a href="{{ homepage.hero.cta_primary.url }}" class="btn btn-primary btn-glow">
                            <i class="{{ homepage.hero.cta_primary.icon }}"></i>
                            {{ homepage.hero.cta_primary.text }}
                        </a>
                        <a href="{{ homepage.hero.cta_secondary.url }}" class="btn btn-secondary">
                            <i class="{{ homepage.hero.cta_secondary.icon }}"></i>
                            {{ homepage.hero.cta_secondary.text }}
                        </a>
                    </div>
                </div>
                
                <div class="hero-visual" data-aos="fade-left" data-aos-delay="300">
                    <div class="hero-game-showcase">
                        {% for game in homepage.featured_games %}
                            {% if game.highlight %}
                                <div class="showcase-game" data-game="{{ game.code|lower }}">
                                    <div class="game-card-3d">
                                        <img src="{% game_card game.code %}" alt="{{ game.code }}" class="game-bg">
                                        <div class="game-overlay">
                                            <img src="{% game_logo game.code %}" alt="{{ game.code }}" class="game-logo">
                                            <div class="game-stats">
                                                <span>{{ game.tournaments_count }} Tournaments</span>
                                                <span>{{ game.players_count }} Players</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="hero-scroll-indicator">
        <div class="scroll-mouse">
            <div class="scroll-wheel"></div>
        </div>
        <span>Scroll to explore</span>
    </div>
</section>

<!-- Featured Games Section -->
<section class="games-section" id="games">
    <div class="container">
        <div class="section-header" data-aos="fade-up">
            <h2 class="section-title">Choose Your Arena</h2>
            <p class="section-subtitle">Compete across multiple game titles and dominate the leaderboards</p>
        </div>
        
        <div class="games-grid" data-aos="fade-up" data-aos-delay="200">
            {% for game in homepage.featured_games %}
                <div class="game-card" data-game="{{ game.code|lower }}">
                    <div class="game-card-inner">
                        <div class="game-bg">
                            <img src="{% game_card game.code %}" alt="{% game_display_name game.code %}" loading="lazy">
                            <div class="game-gradient" style="background: linear-gradient(45deg, {% game_color_primary game.code %}40, {% game_color_secondary game.code %}40)"></div>
                        </div>
                        
                        <div class="game-content">
                            <div class="game-logo">
                                <img src="{% game_logo game.code %}" alt="{% game_display_name game.code %} Logo">
                            </div>
                            
                            <div class="game-info">
                                <h3 class="game-title">{% game_display_name game.code %}</h3>
                                <div class="game-category">{% game_category game.code %}</div>
                                
                                <div class="game-stats">
                                    <div class="stat">
                                        <i class="fas fa-trophy"></i>
                                        <span>{{ game.tournaments_count }} Tournaments</span>
                                    </div>
                                    <div class="stat">
                                        <i class="fas fa-users"></i>
                                        <span>{{ game.players_count }} Players</span>
                                    </div>
                                </div>
                                
                                {% if game.featured_tournament %}
                                    <div class="featured-tournament">
                                        <div class="tournament-badge">Featured</div>
                                        <div class="tournament-name">{{ game.featured_tournament.name }}</div>
                                        <div class="tournament-meta">
                                            <span class="prize">{{ game.featured_tournament.prize }}</span>
                                            <span class="starts">Starts in {{ game.featured_tournament.starts_in }}</span>
                                        </div>
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="game-actions">
                                <a href="/tournaments/?game={{ game.code|lower }}" class="btn btn-game" style="--game-color: {% game_color_primary game.code %}">
                                    <i class="fas fa-play"></i>
                                    Play Now
                                </a>
                                <a href="/teams/?game={{ game.code|lower }}" class="btn btn-outline">
                                    <i class="fas fa-users"></i>
                                    Find Teams
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="features-section" id="features">
    <div class="container">
        <div class="section-header" data-aos="fade-up">
            <h2 class="section-title">Why Choose DeltaCrown?</h2>
            <p class="section-subtitle">Experience the future of competitive gaming with our cutting-edge platform</p>
        </div>
        
        <div class="features-grid" data-aos="fade-up" data-aos-delay="200">
            {% for feature in homepage.features %}
                {% cycle 100 200 300 400 500 600 as delay %}
                <div class="feature-card" data-aos="zoom-in" data-aos-delay="{{ delay }}">
                    <div class="feature-icon" style="--feature-color: {{ feature.color }}">
                        <i class="{{ feature.icon }}"></i>
                    </div>
                    <h3 class="feature-title">{{ feature.title }}</h3>
                    <p class="feature-description">{{ feature.description }}</p>
                    <div class="feature-glow" style="background: {{ feature.color }}20"></div>
                </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Live Tournament Ticker -->
<section class="tournament-ticker">
    <div class="ticker-container">
        <div class="ticker-label">
            <i class="fas fa-broadcast-tower"></i>
            <span>Live Tournaments</span>
        </div>
        <div class="ticker-content">
            <div class="ticker-scroll">
                <span class="ticker-item">🏆 Valorant Champions Cup - 64 teams competing for ৳50,000</span>
                <span class="ticker-item">⚽ eFootball Premier League - Quarter-finals live now</span>
                <span class="ticker-item">🔫 CS2 Elite Championship - Grand finals tomorrow</span>
                <span class="ticker-item">📱 MLBB Mobile Masters - Registration open</span>
                <span class="ticker-item">🎯 PUBG Battle Royale - Top 100 players advancing</span>
            </div>
        </div>
    </div>
</section>

<!-- Platform Statistics -->
<section class="stats-section">
    <div class="container">
        <div class="stats-grid" data-aos="fade-up">
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-trophy"></i>
                </div>
                <div class="stat-content">
                    <div class="stat-number">{{ homepage.platform_stats.total_tournaments }}</div>
                    <div class="stat-label">Total Tournaments</div>
                    <div class="stat-growth">{{ homepage.platform_stats.growth_rate }} this month</div>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stat-content">
                    <div class="stat-number">{{ homepage.platform_stats.active_players|floatformat:0 }}</div>
                    <div class="stat-label">Active Players</div>
                    <div class="stat-growth">Growing daily</div>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-money-bill-wave"></i>
                </div>
                <div class="stat-content">
                    <div class="stat-number">{{ homepage.platform_stats.total_prizes }}</div>
                    <div class="stat-label">Prize Pool</div>
                    <div class="stat-growth">Distributed monthly</div>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <div class="stat-content">
                    <div class="stat-number">100%</div>
                    <div class="stat-label">Fair Play</div>
                    <div class="stat-growth">Anti-cheat protected</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Testimonials Section -->
<section class="testimonials-section" id="testimonials">
    <div class="container">
        <div class="section-header" data-aos="fade-up">
            <h2 class="section-title">Hear from Champions</h2>
            <p class="section-subtitle">Real stories from real players who achieved greatness on DeltaCrown</p>
        </div>
        
        <div class="testimonials-carousel" data-aos="fade-up" data-aos-delay="200">
            <div class="testimonials-wrapper">
                {% for testimonial in homepage.testimonials %}
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <div class="testimonial-text">"{{ testimonial.text }}"</div>
                            <div class="testimonial-rating">
                                {% for i in "12345" %}
                                    {% if forloop.counter <= testimonial.rating %}
                                        <i class="fas fa-star"></i>
                                    {% else %}
                                        <i class="far fa-star"></i>
                                    {% endif %}
                                {% endfor %}
                            </div>
                        </div>
                        <div class="testimonial-author">
                            <div class="author-avatar">
                                <img src="{% static testimonial.avatar %}" alt="{{ testimonial.name }}">
                                {% if testimonial.verified %}
                                    <div class="verified-badge">
                                        <i class="fas fa-check"></i>
                                    </div>
                                {% endif %}
                            </div>
                            <div class="author-info">
                                <div class="author-name">{{ testimonial.name }}</div>
                                <div class="author-team">{{ testimonial.team }}</div>
                                <div class="author-game">{{ testimonial.game }}</div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
            
            <div class="carousel-controls">
                <button class="carousel-btn prev-btn" id="prevBtn">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="carousel-btn next-btn" id="nextBtn">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
    </div>
</section>

<!-- Call to Action Section -->
<section class="cta-section">
    <div class="container">
        <div class="cta-content" data-aos="zoom-in">
            <h2 class="cta-title">Ready to Become a Legend?</h2>
            <p class="cta-subtitle">Join thousands of gamers competing for glory and prizes</p>
            
            <div class="cta-actions">
                <a href="/tournaments/" class="btn btn-primary btn-large btn-glow">
                    <i class="fas fa-trophy"></i>
                    Join Tournament
                </a>
                <a href="/teams/" class="btn btn-outline btn-large">
                    <i class="fas fa-users"></i>
                    Create Team
                </a>
            </div>
            
            <div class="cta-features">
                <div class="feature-item">
                    <i class="fas fa-check"></i>
                    <span>No registration fees</span>
                </div>
                <div class="feature-item">
                    <i class="fas fa-check"></i>
                    <span>Instant prize payouts</span>
                </div>
                <div class="feature-item">
                    <i class="fas fa-check"></i>
                    <span>Fair anti-cheat system</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Theme Toggle (Hidden but functional) -->
<button class="theme-toggle" id="themeToggle" aria-label="Toggle dark/light mode">
    <i class="fas fa-sun light-icon"></i>
    <i class="fas fa-moon dark-icon"></i>
</button>

{% endblock %}

{% block extra_js %}
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script src="{% static 'js/homepage-premium.js' %}"></script>
<script>
    // Initialize AOS (Animate On Scroll)
    AOS.init({
        duration: 1000,
        easing: 'ease-out-cubic',
        once: true,
        offset: 100
    });
</script>
{% endblock %}