{% extends "base.html" %}
{% block title %}Invite a Member Â· {{ team.name }}{% endblock %}

{% block content %}
{% meta_tags title="Invite a Member" description="Send a team invite by username or email." %}

<section aria-labelledby="h1" data-testid="team-invite">
  <h1 id="h1" class="mb-3">Invite a Member to {{ team.name }}</h1>

  <article class="card p-3">
    <form method="post">
      {% csrf_token %}

      {% if form %}
        {{ form.non_field_errors }}
        {% if form.username %}{% include "components/form_field.html" with field=form.username %}{% endif %}
        {% if form.email %}{% include "components/form_field.html" with field=form.email %}{% endif %}
        {% if form.message %}{% include "components/form_field.html" with field=form.message %}{% endif %}
      {% else %}
        <div class="form-field">
          <label class="label" for="username">Username</label>
          <input id="username" name="username" autocomplete="off" placeholder="Player username">
          <div class="help">Or use email below.</div>
        </div>
        <div class="form-field">
          <label class="label" for="email">Email (optional)</label>
          <input id="email" name="email" type="email" placeholder="name@example.com">
        </div>
        <div class="form-field">
          <label class="label" for="message">Message (optional)</label>
          <textarea id="message" name="message" rows="3" placeholder="Say hello ðŸ‘‹"></textarea>
        </div>
      {% endif %}

      <div class="d-flex gap-2">
        <button class="btn btn-primary" type="submit" data-busy-text="Sendingâ€¦">Send Invite</button>
        <a class="btn btn-outline" href="{% url 'teams:team_detail' team.id %}">Cancel</a>
      </div>
    </form>
  </article>
</section>
{% endblock %}
