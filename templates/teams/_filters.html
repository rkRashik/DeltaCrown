<div class="card glass p-4">
  <h3 class="text-sm font-semibold mb-3">Filters</h3>
  <form method="get" id="teams-filters">
    <div class="space-y-3">
      <div>
        <label class="label">Game</label>
        <div class="flex flex-wrap gap-2">
          <a class="chip {% if not active_game %}chip-active{% endif %}" href="?{% if query %}q={{ query|urlencode }}&amp;{% endif %}sort={{ sort }}">All</a>
          {% for value, label in games %}
            <a class="chip {% if active_game == value %}chip-active{% endif %}" href="?{% if query %}q={{ query|urlencode }}&amp;{% endif %}game={{ value }}&amp;sort={{ sort }}">{{ label }}</a>
          {% endfor %}
        </div>
      </div>

      <div>
        <label class="label" for="min_members">Min members</label>
        <input class="input" type="number" id="min_members" name="min_members" min="0" value="{{ filters.min_members }}">
      </div>

      {% if filters.founded_year_from or filters.founded_year_to or True %}
      <div class="grid grid-cols-2 gap-3">
        <div>
          <label class="label" for="founded_year_from">Founded from</label>
          <input class="input" type="number" id="founded_year_from" name="founded_year_from" value="{{ filters.founded_year_from }}">
        </div>
        <div>
          <label class="label" for="founded_year_to">Founded to</label>
          <input class="input" type="number" id="founded_year_to" name="founded_year_to" value="{{ filters.founded_year_to }}">
        </div>
      </div>
      {% endif %}

      <div class="flex items-center gap-2">
        <input type="checkbox" id="open_to_join" name="open_to_join" {% if filters.open_to_join %}checked{% endif %}>
        <label for="open_to_join">Open to join</label>
      </div>

      <button class="btn btn-secondary w-full" type="submit">Apply filters</button>
    </div>

    {# Persist existing q/sort in this form #}
    <input type="hidden" name="q" value="{{ query }}">
    <input type="hidden" name="sort" value="{{ sort }}">
    {% if active_game %}<input type="hidden" name="game" value="{{ active_game }}">{% endif %}
  </form>
</div>
