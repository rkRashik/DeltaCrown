{% comment %}
Competition Hub — Active tournaments, upcoming matches, tournament history, TOC panel.
Section 7.3 of the Master Plan.
{% endcomment %}
<section id="competition" class="hq-section space-y-4">

    {# ── Header ── #}
    <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3">
        <div>
            <h2 class="text-lg font-bold flex items-center gap-2">
                <i data-lucide="trophy" class="w-5 h-5 text-amber-400"></i>
                Competition Hub
            </h2>
            <p class="text-sm text-white/50 mt-0.5">Tournaments, matches, and competitive operations</p>
        </div>
        {% if can_manage_roster %}
        <a href="#"
            class="rounded-xl px-4 py-2 text-sm font-medium border border-line bg-white/5 hover:bg-white/10 transition inline-flex items-center gap-2">
            <i data-lucide="search" class="w-3.5 h-3.5"></i>
            Browse Tournaments
        </a>
        {% endif %}
    </div>

    {# ── Active Tournaments ── #}
    <div class="rounded-3xl border border-line bg-card shadow-soft p-5 lg:p-6">
        <h3 class="text-base font-bold mb-3 flex items-center gap-2">
            <i data-lucide="flame" class="w-4 h-4 text-orange-400"></i>
            Active Tournaments
        </h3>
        <div id="active-tournaments-list">
            <div class="rounded-xl border border-dashed border-white/15 bg-white/3 p-8 text-center">
                <i data-lucide="trophy" class="w-8 h-8 text-white/15 mx-auto mb-3"></i>
                <p class="text-sm text-white/40 font-medium">No active tournament registrations</p>
                <p class="text-xs text-white/25 mt-1">Browse and register for tournaments to get started</p>
            </div>
        </div>
    </div>

    {# ── Upcoming Matches ── #}
    <div class="rounded-3xl border border-line bg-card shadow-soft p-5 lg:p-6">
        <h3 class="text-base font-bold mb-3 flex items-center gap-2">
            <i data-lucide="calendar" class="w-4 h-4 text-blue-400"></i>
            Upcoming Matches
        </h3>
        <div id="upcoming-matches-list">
            <div class="rounded-xl border border-dashed border-white/15 bg-white/3 p-8 text-center">
                <i data-lucide="swords" class="w-8 h-8 text-white/15 mx-auto mb-3"></i>
                <p class="text-sm text-white/40 font-medium">No upcoming matches</p>
                <p class="text-xs text-white/25 mt-1">When your team is in a bracket, matches will appear here</p>
            </div>
        </div>
    </div>

    {# ── Tournament History ── #}
    <div class="rounded-3xl border border-line bg-card shadow-soft p-5 lg:p-6">
        <h3 class="text-base font-bold mb-3 flex items-center gap-2">
            <i data-lucide="history" class="w-4 h-4 text-purple-400"></i>
            Tournament History
        </h3>
        <div id="tournament-history-list">
            <div class="rounded-xl border border-dashed border-white/15 bg-white/3 p-6 text-center">
                <p class="text-sm text-white/30">No tournament history yet</p>
            </div>
        </div>
    </div>

    {# ── TOC Panel (Team of Champions) ── #}
    {% if is_admin %}
    <div class="rounded-3xl border border-indigo-500/20 bg-indigo-500/5 shadow-soft p-5 lg:p-6">
        <h3 class="text-base font-bold mb-2 flex items-center gap-2">
            <i data-lucide="crown" class="w-4 h-4 text-indigo-400"></i>
            Team of Champions
        </h3>
        <p class="text-sm text-white/50 mb-4">Season standings, crown point tracking, and qualification status.</p>

        <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
            <div class="rounded-xl bg-white/5 border border-white/8 p-3 text-center">
                <div class="text-xl font-black text-indigo-400">—</div>
                <div class="text-[10px] text-white/40 uppercase tracking-wide mt-1">Crown Points</div>
            </div>
            <div class="rounded-xl bg-white/5 border border-white/8 p-3 text-center">
                <div class="text-xl font-black text-white/50">—</div>
                <div class="text-[10px] text-white/40 uppercase tracking-wide mt-1">Season Rank</div>
            </div>
            <div class="rounded-xl bg-white/5 border border-white/8 p-3 text-center">
                <div class="text-xl font-black text-white/50">—</div>
                <div class="text-[10px] text-white/40 uppercase tracking-wide mt-1">Qualification</div>
            </div>
        </div>

        <div class="mt-3 text-xs text-white/30 flex items-center gap-1.5">
            <i data-lucide="info" class="w-3 h-3"></i>
            Data will populate when your team participates in ranked tournaments.
        </div>
    </div>
    {% endif %}

    {# ── Org Tournament Policies ── #}
    {% if team.organization %}
    <div class="rounded-2xl border border-indigo-500/15 bg-indigo-500/5 p-4 flex items-center gap-3">
        <i data-lucide="building-2" class="w-5 h-5 text-indigo-400 shrink-0"></i>
        <div class="text-sm text-white/50">
            <strong class="text-white/70">{{ team.organization.name }}</strong> may influence tournament registration policies for this team.
        </div>
    </div>
    {% endif %}

</section>
