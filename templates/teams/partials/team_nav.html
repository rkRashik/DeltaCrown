{% load static %}
{# ðŸŽ® GAMING TEAM NAVIGATION SYSTEM ðŸŽ® 
   Usage:
   - List page: {% include 'teams/partials/team_nav.html' with active_page='list' %}
   - Team pages: {% include 'teams/partials/team_nav.html' with team=team active_page='detail' %}
   
   Pages: 'list', 'detail', 'create', 'manage', 'invite', 'settings'
#}

<div class="gaming-team-navigation">
  <!-- Gaming Breadcrumbs -->
  <div class="gaming-breadcrumbs">
    <div class="breadcrumb-bg-effect"></div>
    
    <nav class="breadcrumb-nav">
      <!-- Home -->
      <a href="/" class="breadcrumb-item">
        <i class="fas fa-home"></i>
        <span>Home</span>
      </a>
      
      <div class="breadcrumb-separator">
        <i class="fas fa-chevron-right"></i>
      </div>
      
      <!-- Teams Section -->
      <a href="{% url 'teams:list' %}" class="breadcrumb-item {% if active_page == 'list' %}active{% endif %}">
        <i class="fas fa-users"></i>
        <span>Teams</span>
      </a>
      
      {% if team and team.slug %}
        <div class="breadcrumb-separator">
          <i class="fas fa-chevron-right"></i>
        </div>
        
        <!-- Team Detail -->
        <a href="{% url 'teams:detail' team.slug %}" class="breadcrumb-item {% if active_page == 'detail' %}active{% endif %}">
          {% if team.logo %}
            <img src="{{ team.logo.url }}" class="breadcrumb-team-logo" alt="{{ team.name }}">
          {% else %}
            <div class="breadcrumb-team-logo-placeholder">{{ team.name|first|upper }}</div>
          {% endif %}
          <span>{{ team.name }}</span>
        </a>
        
        <!-- Sub-pages -->
        {% if active_page == 'manage' %}
          <div class="breadcrumb-separator">
            <i class="fas fa-chevron-right"></i>
          </div>
          <span class="breadcrumb-item active">
            <i class="fas fa-cog"></i>
            <span>Manage</span>
          </span>
        {% elif active_page == 'invite' %}
          <div class="breadcrumb-separator">
            <i class="fas fa-chevron-right"></i>
          </div>
          <span class="breadcrumb-item active">
            <i class="fas fa-user-plus"></i>
            <span>Invite</span>
          </span>
        {% elif active_page == 'settings' %}
          <div class="breadcrumb-separator">
            <i class="fas fa-chevron-right"></i>
          </div>
          <span class="breadcrumb-item active">
            <i class="fas fa-edit"></i>
            <span>Settings</span>
          </span>
        {% endif %}
      {% elif active_page == 'create' %}
        <div class="breadcrumb-separator">
          <i class="fas fa-chevron-right"></i>
        </div>
        <span class="breadcrumb-item active">
          <i class="fas fa-plus"></i>
          <span>Create Team</span>
        </span>
      {% endif %}
    </nav>
  </div>

  <!-- Gaming Action Bar (only for team pages) -->
  {% if team and team.slug %}
  <div class="gaming-action-bar">
    <div class="action-bar-bg"></div>
    
    <!-- Team Quick Info -->
    <div class="team-quick-info">
      <div class="team-info-card">
        {% if team.logo %}
          <img src="{{ team.logo.url }}" class="quick-team-logo" alt="{{ team.name }}">
        {% else %}
          <div class="quick-team-logo-placeholder">{{ team.name|first|upper }}</div>
        {% endif %}
        
        <div class="quick-team-details">
          <div class="quick-team-name">{{ team.name }}</div>
          {% if team.tag %}
            <div class="quick-team-tag">[{{ team.tag }}]</div>
          {% endif %}
          <div class="quick-team-stats">
            <span><i class="fas fa-users"></i> {{ team.active_members.count }}</span>
            <span><i class="fas fa-trophy"></i> {{ team.wins|default:"0" }}</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Navigation Tabs -->
    <div class="nav-tabs">
      <a href="{% url 'teams:detail' team.slug %}" 
         class="nav-tab {% if active_page == 'detail' %}active{% endif %}">
        <i class="fas fa-info-circle"></i>
        <span>Overview</span>
      </a>
      
      {% if user.is_authenticated %}
        <a href="{% url 'teams:manage' team.slug %}" 
           class="nav-tab {% if active_page == 'manage' %}active{% endif %}">
          <i class="fas fa-cog"></i>
          <span>Manage</span>
        </a>
        
        <a href="{% url 'teams:invite_member' team.slug %}" 
           class="nav-tab {% if active_page == 'invite' %}active{% endif %}">
          <i class="fas fa-user-plus"></i>
          <span>Invite</span>
        </a>
      {% endif %}
    </div>
    
    <!-- Quick Actions -->
    <div class="quick-actions">
      {% if user.is_authenticated %}
        <a href="{% url 'teams:join' team.slug %}" class="action-btn primary">
          <i class="fas fa-plus"></i>
          <span>Join Team</span>
        </a>
      {% endif %}
      
      <button class="action-btn secondary">
        <i class="fas fa-share"></i>
        <span>Share</span>
      </button>
    </div>
  </div>
  {% endif %}
</div>

<style>
/* ðŸŽ® GAMING TEAM NAVIGATION STYLES ðŸŽ® */
.gaming-team-navigation {
    background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 25%, #16213e 75%, #0f3460 100%);
    border-bottom: 2px solid #00d4ff;
    box-shadow: 0 4px 20px rgba(0, 212, 255, 0.3);
    position: relative;
    overflow: hidden;
}

.gaming-team-navigation::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(ellipse at 10% 30%, rgba(255, 0, 255, 0.1) 0%, transparent 50%),
        radial-gradient(ellipse at 90% 70%, rgba(0, 255, 255, 0.1) 0%, transparent 50%);
    pointer-events: none;
}

/* Gaming Breadcrumbs */
.gaming-breadcrumbs {
    padding: 16px 20px;
    position: relative;
    z-index: 2;
}

.breadcrumb-bg-effect {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        linear-gradient(90deg, transparent 0%, rgba(0, 212, 255, 0.05) 50%, transparent 100%);
}

.breadcrumb-nav {
    display: flex;
    align-items: center;
    gap: 8px;
    max-width: 1400px;
    margin: 0 auto;
    position: relative;
    z-index: 1;
}

.breadcrumb-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 16px;
    background: rgba(0, 212, 255, 0.1);
    border: 1px solid rgba(0, 212, 255, 0.3);
    border-radius: 8px;
    color: #e6edf3;
    text-decoration: none;
    transition: all 0.3s ease;
    font-size: 14px;
    font-weight: 500;
    position: relative;
    overflow: hidden;
}

.breadcrumb-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(0, 212, 255, 0.3), transparent);
    transition: left 0.6s ease;
}

.breadcrumb-item:hover::before {
    left: 100%;
}

.breadcrumb-item:hover {
    background: rgba(0, 212, 255, 0.2);
    border-color: #00d4ff;
    color: #00d4ff;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 212, 255, 0.4);
}

.breadcrumb-item.active {
    background: linear-gradient(135deg, #00d4ff, #0099cc);
    color: #0a0a0f;
    border-color: #00d4ff;
    font-weight: 600;
    box-shadow: 0 0 16px rgba(0, 212, 255, 0.5);
}

.breadcrumb-separator {
    color: #7d8590;
    font-size: 12px;
}

.breadcrumb-team-logo, .breadcrumb-team-logo-placeholder {
    width: 20px;
    height: 20px;
    border-radius: 4px;
}

.breadcrumb-team-logo-placeholder {
    background: linear-gradient(135deg, #ff00ff, #00ffff);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    font-weight: 900;
    color: white;
}

/* Gaming Action Bar */
.gaming-action-bar {
    background: rgba(0, 0, 0, 0.2);
    padding: 16px 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    position: relative;
}

.action-bar-bg {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(ellipse at 20% 50%, rgba(255, 0, 255, 0.08) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 50%, rgba(0, 255, 255, 0.08) 0%, transparent 50%);
}

.gaming-action-bar {
    max-width: 1400px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: auto 1fr auto;
    gap: 30px;
    align-items: center;
    position: relative;
    z-index: 2;
}

/* Team Quick Info */
.team-info-card {
    display: flex;
    align-items: center;
    gap: 12px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 12px;
}

.quick-team-logo {
    width: 40px;
    height: 40px;
    border-radius: 8px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    object-fit: cover;
    box-shadow: 0 0 12px rgba(0, 255, 255, 0.3);
}

.quick-team-logo-placeholder {
    width: 40px;
    height: 40px;
    border-radius: 8px;
    background: linear-gradient(135deg, #ff00ff, #00ffff);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    font-weight: 900;
    color: white;
    border: 2px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 0 12px rgba(255, 0, 255, 0.3);
}

.quick-team-details {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.quick-team-name {
    font-size: 16px;
    font-weight: 600;
    color: #e6edf3;
}

.quick-team-tag {
    font-size: 12px;
    color: #00d4ff;
    font-weight: 500;
}

.quick-team-stats {
    display: flex;
    gap: 12px;
    font-size: 12px;
    color: #7d8590;
}

/* Navigation Tabs */
.nav-tabs {
    display: flex;
    gap: 4px;
}

.nav-tab {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 10px 16px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px 8px 0 0;
    color: rgba(255, 255, 255, 0.7);
    text-decoration: none;
    transition: all 0.3s ease;
    font-size: 14px;
    position: relative;
}

.nav-tab:hover {
    background: rgba(255, 255, 255, 0.2);
    color: #00ffff;
}

.nav-tab.active {
    background: rgba(0, 212, 255, 0.2);
    border-color: #00d4ff;
    color: #00d4ff;
    box-shadow: inset 0 -2px 0 #00d4ff;
}

/* Quick Actions */
.quick-actions {
    display: flex;
    gap: 8px;
}

.action-btn {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 10px 16px;
    border: none;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
    text-decoration: none;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.action-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.6s ease;
}

.action-btn:hover::before {
    left: 100%;
}

.action-btn.primary {
    background: linear-gradient(135deg, #00d4ff, #0099cc);
    color: #0a0a0f;
    font-weight: 600;
}

.action-btn.primary:hover {
    background: linear-gradient(135deg, #00ffff, #00d4ff);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 212, 255, 0.4);
}

.action-btn.secondary {
    background: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.action-btn.secondary:hover {
    background: rgba(255, 255, 255, 0.2);
    color: #00ffff;
    transform: translateY(-2px);
}

/* Responsive Design */
@media (max-width: 1200px) {
    .gaming-action-bar {
        grid-template-columns: 1fr;
        gap: 20px;
        text-align: center;
    }
    
    .nav-tabs {
        justify-content: center;
        flex-wrap: wrap;
    }
    
    .quick-actions {
        justify-content: center;
    }
}

@media (max-width: 768px) {
    .breadcrumb-nav {
        flex-wrap: wrap;
    }
    
    .action-btn {
        font-size: 12px;
        padding: 8px 12px;
    }
    
    .nav-tab {
        font-size: 12px;
        padding: 8px 12px;
    }
    
    .gaming-breadcrumbs,
    .gaming-action-bar {
        padding: 12px 16px;
    }
}
</style>