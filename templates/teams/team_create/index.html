{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="Create your esports team on DeltaCrown - Join the competitive gaming community">
    <title>Create Your Team | DeltaCrown Esports</title>
    
    <!-- Preload critical assets -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'teams/css/team-create.css' %}?v=1.0">
    
    <!-- CSRF Token -->
    <meta name="csrf-token" content="{{ csrf_token }}">
</head>
<body>
    <!-- Background Effects -->
    <div class="bg-effects">
        <div class="bg-grid"></div>
        <div class="bg-glow bg-glow-1"></div>
        <div class="bg-glow bg-glow-2"></div>
        <div class="bg-glow bg-glow-3"></div>
    </div>

    <!-- Main Container -->
    <div class="team-create-container">
        
        <!-- Header -->
        <header class="team-create-header">
            <div class="header-content">
                <a href="{% url 'teams:list' %}" class="btn-back" title="Back to Teams">
                    <i class="fas fa-arrow-left"></i>
                    <span>Back</span>
                </a>
                <div class="header-title">
                    <h1>Create Your Team</h1>
                    <p>Join the competitive esports community</p>
                </div>
                <div class="header-actions">
                    <button type="button" class="btn-draft" id="btnLoadDraft" style="display: none;">
                        <i class="fas fa-file-import"></i>
                        <span>Load Draft</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Progress Bar -->
        <div class="progress-wrapper">
            <div class="progress-bar-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-steps">
                    <div class="progress-step active" data-step="1">
                        <div class="step-circle">
                            <i class="fas fa-id-card"></i>
                            <i class="fas fa-check step-check"></i>
                        </div>
                        <span class="step-label">Identity</span>
                    </div>
                    <div class="progress-step" data-step="2">
                        <div class="step-circle">
                            <i class="fas fa-gamepad"></i>
                            <i class="fas fa-check step-check"></i>
                        </div>
                        <span class="step-label">Game</span>
                    </div>
                    <div class="progress-step" data-step="3">
                        <div class="step-circle">
                            <i class="fas fa-globe"></i>
                            <i class="fas fa-check step-check"></i>
                        </div>
                        <span class="step-label">Region</span>
                    </div>
                    <div class="progress-step" data-step="4">
                        <div class="step-circle">
                            <i class="fas fa-palette"></i>
                            <i class="fas fa-check step-check"></i>
                        </div>
                        <span class="step-label">Branding</span>
                    </div>
                    <div class="progress-step" data-step="5">
                        <div class="step-circle">
                            <i class="fas fa-check-circle"></i>
                            <i class="fas fa-check step-check"></i>
                        </div>
                        <span class="step-label">Review</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="team-create-content">
            
            <!-- Form Container -->
            <div class="form-container">
                <form id="teamCreateForm" method="POST" enctype="multipart/form-data" action="{% url 'teams:create' %}">
                    {% csrf_token %}
                    
                    <!-- Step 1: Identity -->
                    <div class="form-step active" data-step="1">
                        <div class="step-header">
                            <h2>Team Identity</h2>
                            <p>Choose a memorable name and tag for your team</p>
                        </div>
                        
                        <div class="form-group">
                            <label for="teamName">
                                Team Name
                                <span class="required">*</span>
                                <button type="button" class="btn-tooltip" data-tooltip="Choose a unique, memorable name that represents your team's identity and values.">
                                    <i class="fas fa-question-circle"></i>
                                </button>
                            </label>
                            <div class="input-with-validation">
                                <input 
                                    type="text" 
                                    id="teamName" 
                                    name="name" 
                                    class="form-input" 
                                    placeholder="Enter team name (3-50 characters)"
                                    minlength="3"
                                    maxlength="50"
                                    required
                                    autocomplete="off"
                                >
                                <div class="validation-icon">
                                    <i class="fas fa-spinner fa-spin validation-checking"></i>
                                    <i class="fas fa-check validation-valid"></i>
                                    <i class="fas fa-times validation-invalid"></i>
                                </div>
                            </div>
                            <div class="field-feedback">
                                <span class="char-count">0 / 50</span>
                                <span class="validation-message"></span>
                            </div>
                            <div class="suggestions-container" style="display: none;">
                                <p class="suggestions-label">Try these variations:</p>
                                <div class="suggestions-list"></div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="teamTag">
                                Team Tag
                                <span class="required">*</span>
                                <button type="button" class="btn-tooltip" data-tooltip="Short acronym (2-10 chars) shown in brackets. Example: [THUND]">
                                    <i class="fas fa-question-circle"></i>
                                </button>
                            </label>
                            <div class="input-with-validation">
                                <input 
                                    type="text" 
                                    id="teamTag" 
                                    name="tag" 
                                    class="form-input" 
                                    placeholder="Enter team tag (2-10 characters)"
                                    minlength="2"
                                    maxlength="10"
                                    required
                                    autocomplete="off"
                                    style="text-transform: uppercase;"
                                >
                                <div class="validation-icon">
                                    <i class="fas fa-spinner fa-spin validation-checking"></i>
                                    <i class="fas fa-check validation-valid"></i>
                                    <i class="fas fa-times validation-invalid"></i>
                                </div>
                            </div>
                            <div class="field-feedback">
                                <span class="char-count">0 / 10</span>
                                <span class="validation-message"></span>
                            </div>
                            <div class="suggestions-container" style="display: none;">
                                <p class="suggestions-label">Try these variations:</p>
                                <div class="suggestions-list"></div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="teamTagline">
                                Team Tagline
                                <span class="optional">(Optional)</span>
                                <button type="button" class="btn-tooltip" data-tooltip="Your team's motto or catchphrase. Keep it inspiring!">
                                    <i class="fas fa-question-circle"></i>
                                </button>
                            </label>
                            <input 
                                type="text" 
                                id="teamTagline" 
                                name="tagline" 
                                class="form-input" 
                                placeholder='e.g., "Rise Above", "Never Back Down", "Victory Awaits"'
                                maxlength="200"
                                autocomplete="off"
                            >
                            <div class="field-feedback">
                                <span class="char-count">0 / 200</span>
                            </div>
                        </div>

                        <div class="info-box">
                            <i class="fas fa-lightbulb"></i>
                            <div>
                                <strong>Brand Identity:</strong> Short, memorable names with 2-3 words receive significantly higher engagement and are easier for fans to remember.
                            </div>
                        </div>

                        <div class="step-actions">
                            <button type="button" class="btn btn-next" data-next="2" disabled>
                                Next: Choose Game
                                <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Step 2: Game Selection -->
                    <div class="form-step" data-step="2">
                        <div class="step-header">
                            <h2>Choose Your Game</h2>
                            <p>Select the game your team will compete in</p>
                        </div>

                        <input type="hidden" id="teamGame" name="game" required>

                        <!-- One Team Per Game Alert (Hidden by default) -->
                        <div class="alert alert-error" id="existingTeamAlert" style="display: none;">
                            <div class="alert-icon">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div class="alert-content">
                                <h4>You're Already on a Team</h4>
                                <p id="existingTeamMessage"></p>
                                <div class="alert-actions">
                                    <a href="#" class="btn btn-sm btn-secondary" id="viewExistingTeamBtn">View My Team</a>
                                    <a href="#" class="btn btn-sm btn-secondary" id="leaveTeamBtn">Leave Team</a>
                                </div>
                            </div>
                        </div>

                        <!-- Game ID Notice (Hidden by default) -->
                        <div class="alert alert-info" id="gameIdNotice" style="display: none;">
                            <div class="alert-icon">
                                <i class="fas fa-info-circle"></i>
                            </div>
                            <div class="alert-content">
                                <h4>Game ID Required</h4>
                                <p id="gameIdMessage"></p>
                                <a href="#" class="btn btn-sm btn-primary" id="addGameIdBtn">Add Game ID Now</a>
                            </div>
                        </div>

                        <!-- Game Cards Grid -->
                        <div class="game-cards-grid" id="gameCardsGrid">
                            <!-- Dynamically loaded via JavaScript -->
                        </div>

                        <!-- Game ID Input (Hidden by default, shown after game selection) -->
                        <div class="game-id-section" id="gameIdSection" style="display: none;">
                            <div class="form-group">
                                <label for="gameIdInput">
                                    <span id="gameIdLabel">Game ID</span>
                                    <span class="required">*</span>
                                    <button type="button" class="btn-tooltip" data-tooltip="Your unique player ID for this game. This will be saved to your profile.">
                                        <i class="fas fa-question-circle"></i>
                                    </button>
                                </label>
                                <input 
                                    type="text" 
                                    id="gameIdInput" 
                                    name="game_id"
                                    class="form-input" 
                                    placeholder="Enter your game ID"
                                    autocomplete="off"
                                >
                                <div class="field-feedback">
                                    <span class="feedback-icon"></span>
                                    <span class="feedback-message"></span>
                                </div>
                                <p class="field-hint" id="gameIdHint"></p>
                            </div>
                        </div>

                        <div class="info-box">
                            <i class="fas fa-lightbulb"></i>
                            <div>
                                <strong>Player Identity:</strong> Your game ID will be automatically saved to your profile for future use across the platform.
                            </div>
                        </div>

                        <div class="step-actions">
                            <button type="button" class="btn btn-secondary btn-prev" data-prev="1">
                                <i class="fas fa-arrow-left"></i>
                                Back
                            </button>
                            <button type="button" class="btn btn-next" data-next="3" disabled>
                                Next: Select Region
                                <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Step 3: Region Selection -->
                    <div class="form-step" data-step="3">
                        <div class="step-header">
                            <h2>Select Your Region</h2>
                            <p>Choose where your team will compete</p>
                        </div>

                        <input type="hidden" id="teamRegion" name="region" required>

                        <!-- Region Loading State -->
                        <div class="loading-state" id="regionLoadingState">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>Loading regions...</p>
                        </div>

                        <!-- Region Cards Grid -->
                        <div class="region-cards-grid" id="regionCardsGrid" style="display: none;">
                            <!-- Dynamically loaded via JavaScript -->
                        </div>

                        <div class="info-box">
                            <i class="fas fa-lightbulb"></i>
                            <div>
                                <strong>Regional Choice:</strong> Your region determines your primary competitive zone. Choose the region with the best ping and most active tournaments.
                            </div>
                        </div>

                        <div class="step-actions">
                            <button type="button" class="btn btn-secondary btn-prev" data-prev="2">
                                <i class="fas fa-arrow-left"></i>
                                Back
                            </button>
                            <button type="button" class="btn btn-next" data-next="4" disabled>
                                Next: Add Branding
                                <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Step 4: Branding & Profile -->
                    <div class="form-step" data-step="4">
                        <div class="step-header">
                            <h2>Team Branding</h2>
                            <p>Upload your logo and banner to make your team stand out</p>
                        </div>

                        <div class="branding-grid">
                            <!-- Logo Upload -->
                            <div class="form-group">
                                <label>
                                    Team Logo
                                    <span class="optional">(Optional)</span>
                                    <button type="button" class="btn-tooltip" data-tooltip="Square image works best. Maximum 5MB.">
                                        <i class="fas fa-question-circle"></i>
                                    </button>
                                </label>
                                <div class="file-upload-zone" id="logoUploadZone">
                                    <input type="file" id="logoInput" name="logo" accept="image/jpeg,image/jpg,image/png,image/webp,image/gif" hidden>
                                    <div class="upload-placeholder">
                                        <i class="fas fa-image"></i>
                                        <p>Click or drag to upload</p>
                                        <span>JPG, PNG, WEBP (maximum 5MB)</span>
                                    </div>
                                    <div class="upload-preview" style="display: none;">
                                        <img id="logoPreview" alt="Logo preview">
                                        <button type="button" class="btn-remove-file" data-target="logo">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="field-feedback">
                                    <span class="validation-message"></span>
                                </div>
                            </div>

                            <!-- Banner Upload -->
                            <div class="form-group">
                                <label>
                                    Team Banner
                                    <span class="optional">(Optional)</span>
                                    <button type="button" class="btn-tooltip" data-tooltip="Widescreen format recommended (1920x400). Maximum 10MB.">
                                        <i class="fas fa-question-circle"></i>
                                    </button>
                                </label>
                                <div class="file-upload-zone banner-upload" id="bannerUploadZone">
                                    <input type="file" id="bannerInput" name="banner_image" accept="image/jpeg,image/jpg,image/png,image/webp" hidden>
                                    <div class="upload-placeholder">
                                        <i class="fas fa-panorama"></i>
                                        <p>Click or drag to upload</p>
                                        <span>JPG, PNG, WEBP (maximum 10MB)</span>
                                    </div>
                                    <div class="upload-preview" style="display: none;">
                                        <img id="bannerPreview" alt="Banner preview">
                                        <button type="button" class="btn-remove-file" data-target="banner">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="field-feedback">
                                    <span class="validation-message"></span>
                                </div>
                            </div>
                        </div>

                        <!-- Description -->
                        <div class="form-group">
                            <label for="teamDescription">
                                Team Description
                                <span class="optional">(Optional)</span>
                            </label>
                            <textarea 
                                id="teamDescription" 
                                name="description" 
                                class="form-textarea" 
                                placeholder="Tell us about your team, playstyle, and goals..."
                                rows="4"
                                maxlength="500"
                            ></textarea>
                            <div class="field-feedback">
                                <span class="char-count">0 / 500</span>
                            </div>
                        </div>

                        <!-- Social Links -->
                        <div class="form-group">
                            <label>
                                Social Links
                                <span class="optional">(Optional)</span>
                            </label>
                            <div class="social-inputs">
                                <div class="social-input-group">
                                    <i class="fab fa-twitter"></i>
                                    <input type="url" name="twitter" placeholder="https://twitter.com/your-team" class="form-input">
                                </div>
                                <div class="social-input-group">
                                    <i class="fab fa-instagram"></i>
                                    <input type="url" name="instagram" placeholder="https://instagram.com/your-team" class="form-input">
                                </div>
                                <div class="social-input-group">
                                    <i class="fab fa-discord"></i>
                                    <input type="url" name="discord" placeholder="https://discord.gg/your-server" class="form-input">
                                </div>
                                <div class="social-input-group">
                                    <i class="fab fa-youtube"></i>
                                    <input type="url" name="youtube" placeholder="https://youtube.com/your-channel" class="form-input">
                                </div>
                                <div class="social-input-group">
                                    <i class="fab fa-twitch"></i>
                                    <input type="url" name="twitch" placeholder="https://twitch.tv/your-channel" class="form-input">
                                </div>
                            </div>
                        </div>

                        <div class="info-box">
                            <i class="fas fa-lightbulb"></i>
                            <div>
                                <strong>Visual Impact:</strong> Teams with custom logos get 3x more member applications! Use high-contrast designs that look good at small sizes.
                            </div>
                        </div>

                        <div class="step-actions">
                            <button type="button" class="btn btn-secondary btn-prev" data-prev="3">
                                <i class="fas fa-arrow-left"></i>
                                Back
                            </button>
                            <button type="button" class="btn btn-next" data-next="5">
                                Next: Plan Roster
                                <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Step 5: Review & Confirm -->
                    <div class="form-step" data-step="5">
                        <div class="step-header">
                            <h2>Review & Confirm</h2>
                            <p>Check everything looks good before launching your team</p>
                        </div>

                        <!-- Summary Card -->
                        <div class="summary-card">
                            <h3>Team Summary</h3>
                            <div class="summary-grid">
                                <div class="summary-item">
                                    <span class="summary-label">Team Name:</span>
                                    <span class="summary-value" id="summaryName">-</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">Team Tag:</span>
                                    <span class="summary-value" id="summaryTag">-</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">Game:</span>
                                    <span class="summary-value" id="summaryGame">-</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">Region:</span>
                                    <span class="summary-value" id="summaryRegion">-</span>
                                </div>
                            </div>
                            <div class="quick-edit-links">
                        <div class="step-actions">
                            <button type="button" class="btn btn-secondary btn-prev" data-prev="3">
                                <i class="fas fa-arrow-left"></i>
                                Back
                            </button>
                            <button type="button" class="btn btn-next" data-next="5">
                                Next: Review & Confirm
                                <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>  <div class="terms-content" id="termsContent">
                                <div class="terms-section">
                                    <h4>1. Fair Play & Integrity</h4>
                                    <ul>
                                        <li><strong>No Cheating:</strong> Use of cheats, hacks, exploits, or third-party software providing unfair advantages is strictly prohibited</li>
                                        <li><strong>No Win Trading:</strong> Manipulating match outcomes or colluding with opponents is forbidden</li>
                                        <li><strong>No Smurfing:</strong> Creating alternate accounts to gain unfair matchmaking advantages violates our policies</li>
                                        <li><strong>Account Integrity:</strong> All team members must use their legitimate, verified game accounts</li>
                                    </ul>
                                </div>

                                <div class="terms-section">
                                    <h4>2. Respect & Community Standards</h4>
                                    <ul>
                                        <li><strong>Zero Tolerance for Toxicity:</strong> Harassment, hate speech, discrimination, or abusive behavior is not tolerated</li>
                                        <li><strong>Professional Conduct:</strong> Represent your team with dignity during matches, streams, and community interactions</li>
                                        <li><strong>Inclusive Environment:</strong> DeltaCrown is for everyone - discrimination of any kind will result in permanent bans</li>
                                    </ul>
                                </div>

                                <div class="terms-section">
                                    <h4>3. Content Guidelines</h4>
                                    <ul>
                                        <li><strong>Appropriate Names:</strong> Team names, tags, and descriptions must not contain profanity, slurs, or offensive content</li>
                                        <li><strong>Logo & Banner Standards:</strong> Uploaded media must be appropriate and comply with copyright laws</li>
                                        <li><strong>No Impersonation:</strong> Don't impersonate professional teams, organizations, or individuals</li>
                                    </ul>
                                </div>

                                <div class="terms-section">
                                    <h4>4. Eligibility Requirements</h4>
                                    <ul>
                                        <li><strong>Age Minimum:</strong> Players must meet minimum age requirements (typically 13-16 years)</li>
                                        <li><strong>Account Ownership:</strong> You must own and have access to the accounts you register</li>
                                        <li><strong>One Team Per Game:</strong> Each player may only have ONE active team membership per game (strictly enforced)</li>
                                    </ul>
                                </div>

                                <div class="terms-section">
                                    <h4>5. Team Conduct</h4>
                                    <ul>
                                        <li><strong>Match Etiquette:</strong> Show up on time, communicate professionally, accept results gracefully</li>
                                        <li><strong>Representation:</strong> Your behavior reflects your team - act accordingly</li>
                                        <li><strong>Communication:</strong> Respond to official messages within 24 hours</li>
                                    </ul>
                                </div>

                                <div class="terms-section">
                                    <h4>6. Privacy & Data</h4>
                                    <ul>
                                        <li><strong>Data Collection:</strong> We collect team info, match data, and communication for platform functionality</li>
                                        <li><strong>GDPR Compliance:</strong> EU users have rights to data access, correction, and deletion</li>
                                        <li><strong>Third-Party Sharing:</strong> Data shared with tournament organizers and anti-cheat providers only</li>
                                    </ul>
                                </div>

                                <div class="terms-section">
                                    <h4>7. Moderation & Enforcement</h4>
                                    <ul>
                                        <li><strong>DeltaCrown Rights:</strong> We reserve the right to remove teams, suspend players, or ban accounts for violations</li>
                                        <li><strong>Appeals Process:</strong> Contact support@deltacrown.gg to appeal decisions</li>
                                        <li><strong>Sanctions:</strong> Violations may result in warnings, temporary bans, or permanent account closure</li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Terms Acceptance -->
                            <div class="terms-acceptance">
                                <label class="checkbox-container">
                                    <input type="checkbox" id="acceptTerms" name="accept_terms" required>
                                    <span class="checkmark"></span>
                                    <span class="checkbox-label">
                                        I accept the DeltaCrown Team Terms & Guidelines and confirm I'm authorized to create this team
                                    </span>
                                </label>
                            </div>

                            <!-- Terms Error Alert -->
                            <div class="alert alert-error" id="termsErrorAlert" style="display: none;">
                                <div class="alert-icon">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <div class="alert-content">
                                    <p>You must agree to the DeltaCrown Team Terms & Guidelines before creating your team.</p>
                                </div>
                            </div>
                        </div>

                        <div class="step-actions">
                            <button type="button" class="btn btn-secondary btn-prev" data-prev="4">
                                <i class="fas fa-arrow-left"></i>
                                Back
                            </button>
                            <button type="submit" class="btn btn-success btn-create">
                                <i class="fas fa-rocket"></i>
                                Create Team
                            </button>
                        </div>
                    </div>

                </form>
            </div>

            <!-- Live Preview Sidebar -->
            <div class="preview-sidebar">
                <div class="preview-card" id="livePreview">
                    <div class="preview-banner" id="previewBanner">
                        <div class="preview-logo-wrapper">
                            <div class="preview-logo" id="previewLogo">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                        </div>
                    </div>
                    <div class="preview-body">
                        <div class="preview-name">
                            <span class="preview-tag" id="previewTag">[TAG]</span>
                            <span id="previewName">Team Name</span>
                        </div>
                        <p class="preview-tagline" id="previewTagline">Your inspiring tagline...</p>
                        <div class="preview-meta">
                            <span id="previewGame"><i class="fas fa-gamepad"></i> Select game</span>
                            <span id="previewRegion"><i class="fas fa-globe"></i> Select region</span>
                        </div>
                        <div class="preview-socials" id="previewSocials">
                            <!-- Social icons appear here when added -->
                        </div>
                    </div>
                </div>

                <div class="preview-tip">
                    <i class="fas fa-eye"></i>
                    <p>Live Preview - Updates as you type!</p>
                </div>
            </div>

        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="spinner-large"></div>
            <p id="loadingMessage">Creating your team...</p>
        </div>
    </div>

    <!-- Toast Notifications Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Draft Restore Modal -->
    <div class="modal" id="draftModal" style="display: none;">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Continue Where You Left Off?</h3>
                <button type="button" class="modal-close" data-modal-close>
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <p>You have an unfinished team creation from <span id="draftTimeAgo"></span>.</p>
                <div class="draft-info">
                    <div class="draft-item">
                        <strong>Team Name:</strong>
                        <span id="draftName">-</span>
                    </div>
                    <div class="draft-item">
                        <strong>Game:</strong>
                        <span id="draftGame">-</span>
                    </div>
                </div>
            </div>
            <div class="modal-actions">
                <button type="button" class="btn btn-secondary" data-modal-close>
                    Start Fresh
                </button>
                <button type="button" class="btn btn-primary" id="btnRestoreDraft">
                    Continue Draft
                </button>
            </div>
        </div>
    </div>

    <!-- Configuration Data -->
    <script>
        window.TEAM_CREATE_CONFIG = {
            gameConfigs: {{ game_configs|safe }},
            existingTeams: {{ existing_teams|safe }},
            hasDraft: {{ has_draft|safe }},
            draftData: {{ draft_data|safe }},
            userProfile: {{ user_profile|safe }},
            csrfToken: '{{ csrf_token }}',
            urls: {
                validateName: '{% url "teams:validate_team_name" %}',
                validateTag: '{% url "teams:validate_team_tag" %}',
                checkExistingTeam: '{% url "teams:check_existing_team" %}',
                getRegions: '/teams/api/game-regions/',
                saveDraft: '{% url "teams:save_draft" %}',
                loadDraft: '{% url "teams:load_draft" %}',
                clearDraft: '{% url "teams:clear_draft" %}',
                submit: '{% url "teams:create" %}'
            }
        };
    </script>

    <!-- Custom JavaScript -->
    <script src="{% static 'teams/js/team-create.js' %}?v=1.0"></script>
</body>
</html>
