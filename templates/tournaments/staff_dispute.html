{% extends "base.html" %}
{% block title %}Resolve Dispute Â· Match #{{ match.id }}{% endblock %}

{% block content %}
<h1 class="mb-3">Resolve Dispute</h1>

{% if dispute and dispute.is_open %}
  <div class="alert alert-warning">
    <strong>Open dispute:</strong> {{ dispute.reason }}
  </div>
{% else %}
  <div class="alert alert-info">No open dispute was found. You may still set a resolution.</div>
{% endif %}

<form method="post" class="card">
  <div class="card-body">
    {% csrf_token %}
    <div class="form-check">
      <input class="form-check-input" type="radio" name="action" id="keep" value="keep" checked>
      <label class="form-check-label" for="keep">Keep reported result and mark verified</label>
    </div>
    <div class="form-check mt-2">
      <input class="form-check-input" type="radio" name="action" id="setA" value="set_a">
      <label class="form-check-label" for="setA">Set winner: Side A</label>
    </div>
    <div class="form-check mt-2">
      <input class="form-check-input" type="radio" name="action" id="setB" value="set_b">
      <label class="form-check-label" for="setB">Set winner: Side B</label>
    </div>
    <div class="form-check mt-2">
      <input class="form-check-input" type="radio" name="action" id="void" value="void">
      <label class="form-check-label" for="void">Void match</label>
    </div>

    <div class="mt-3">
      <button class="btn btn-danger btn-sm" type="submit">Apply Resolution</button>
      <a class="btn btn-outline btn-sm" href="{% url 'tournaments:match_review' match.id %}">Cancel</a>
    </div>
  </div>
</form>
{% endblock %}
