{# Renders ONE payment method's instructions based on backend settings.
   Usage:
     {% include "tournaments/partials/_payment_instructions.html" with tournament=t method="bkash" only %}
     method ∈ {"bkash","nagad","rocket","bank"}
#}

{% with m=method|default:"bkash" %}
  {% if m == "bkash" %}
    {% with num=tournament.settings.bkash_receive_number %}
      <div class="kv small">
        <div><strong>bKash Personal</strong></div>
        {% if num %}
          <div class="mt-1">
            <div>Number</div>
            <div class="inline-flex items-center gap-2">
              <code>{{ num }}</code>
              <button type="button" class="copy" data-copy="{{ num }}">Copy</button>
            </div>
          </div>
          <div class="muted small mt-1">Send entry fee and keep your TXID. You’ll enter it below.</div>
        {% else %}
          <div class="muted small">bKash is not available for this tournament.</div>
        {% endif %}
      </div>
    {% endwith %}
  {% elif m == "nagad" %}
    {% with num=tournament.settings.nagad_receive_number %}
      <div class="kv small">
        <div><strong>Nagad Personal</strong></div>
        {% if num %}
          <div class="mt-1">
            <div>Number</div>
            <div class="inline-flex items-center gap-2">
              <code>{{ num }}</code>
              <button type="button" class="copy" data-copy="{{ num }}">Copy</button>
            </div>
          </div>
          <div class="muted small mt-1">Send entry fee and keep your TXID. You’ll enter it below.</div>
        {% else %}
          <div class="muted small">Nagad is not available for this tournament.</div>
        {% endif %}
      </div>
    {% endwith %}
  {% elif m == "rocket" %}
    {% with num=tournament.settings.rocket_receive_number %}
      <div class="kv small">
        <div><strong>Rocket</strong></div>
        {% if num %}
          <div class="mt-1">
            <div>Number</div>
            <div class="inline-flex items-center gap-2">
              <code>{{ num }}</code>
              <button type="button" class="copy" data-copy="{{ num }}">Copy</button>
            </div>
          </div>
          <div class="muted small mt-1">Send entry fee and keep your TXID. You’ll enter it below.</div>
        {% else %}
          <div class="muted small">Rocket is not available for this tournament.</div>
        {% endif %}
      </div>
    {% endwith %}
  {% elif m == "bank" %}
    {% with info=tournament.settings.bank_instructions %}
      <div class="kv small">
        <div><strong>Bank Transfer</strong></div>
        {% if info %}
          <div class="mt-1 small">{{ info|safe }}</div>
        {% else %}
          <div class="muted small">Bank transfer instructions are not available.</div>
        {% endif %}
      </div>
    {% endwith %}
  {% else %}
    <div class="muted small">Payment method not recognized.</div>
  {% endif %}
{% endwith %}
