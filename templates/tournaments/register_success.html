{% extends "base.html" %}
{% load static %}
{% block title %}Registration Submitted — {% firstof tournament.name "Tournament" %}{% endblock %}
{% block content %}
<section class="container py-16">
  <div class="glass p-8 rounded-2xl max-w-2xl mx-auto text-center relative overflow-hidden">
    <div id="confetti" aria-hidden="true"></div>
    <h1 class="text-2xl font-bold">Registration Submitted</h1>
    <p class="text-muted mt-2">We’ll verify your payment and confirm your slot shortly.</p>
    <div class="mt-6 flex gap-2 justify-center">
      {% if tournament and tournament.slug %}
        <a class="btn-primary" href="/tournaments/{{ tournament.slug }}/">Back to Tournament</a>
        <a class="btn-secondary" href="{% url 'tournaments:registration_receipt' slug=tournament.slug %}">View Receipt</a>
      {% else %}
        <a class="btn-primary" href="/tournaments/">Browse Events</a>
      {% endif %}
    </div>
  </div>
</section>
<script>
(function(){
  if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
  const box = document.getElementById('confetti'); if(!box) return; const n=60;
  for(let i=0;i<n;i++){ const s=document.createElement('span'); s.style.position='absolute'; s.style.left=Math.random()*100+'%'; s.style.top='-10px'; s.style.width='6px'; s.style.height='10px'; s.style.background = i%2? 'var(--brand-delta)':'var(--brand-crown)'; s.style.opacity='.8'; s.style.transform=`rotate(${Math.random()*180}deg)`;
    const dur = 1500 + Math.random()*1500; const dx = (Math.random()*40-20);
    s.animate([{transform:`translate(${dx}px,0) rotate(0deg)`},{transform:`translate(${dx}px,120vh) rotate(360deg)`}],{duration:dur,iterations:1,easing:'ease-out'});
    box.appendChild(s); setTimeout(()=>s.remove(), dur);
  }
})();
</script>
{% endblock %}
