{% extends "tournaments/base.html" %}
{% load static %}

{# ─────────────────────────────────────────────────────────
   Registration Ineligible
   Context: tournament, eligibility_result
   Phase 4 Frontend Rebuild
   ───────────────────────────────────────────────────────── #}

{% block title %}Not Eligible — {{ tournament.name }} | DeltaCrown{% endblock %}

{% block tournament_content %}

<div class="max-w-xl mx-auto px-4 sm:px-6 py-12 text-center">

  <div class="glass rounded-xl p-8">
    <div class="w-16 h-16 mx-auto mb-6 rounded-2xl bg-red-900/20 flex items-center justify-center">
      <i data-lucide="shield-x" class="w-8 h-8 text-red-400"></i>
    </div>

    <h1 class="text-xl font-display font-bold text-white mb-2">Registration Not Available</h1>

    {% if eligibility_result %}
      <p class="text-sm text-gray-400 mb-6">{{ eligibility_result.reason|default:"You are not eligible to register for this tournament." }}</p>

      {% if eligibility_result.details %}
        <div class="text-left glass rounded-xl p-4 mb-6">
          <ul class="space-y-2">
            {% for detail in eligibility_result.details %}
              <li class="flex items-start gap-2 text-sm">
                <i data-lucide="x" class="w-4 h-4 text-red-400 flex-shrink-0 mt-0.5"></i>
                <span class="text-gray-300">{{ detail }}</span>
              </li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}
    {% else %}
      <p class="text-sm text-gray-400 mb-6">You are not eligible to register for this tournament at this time.</p>
    {% endif %}

    <a href="{% url 'tournaments:detail' tournament.slug %}"
       class="inline-flex items-center px-5 py-2.5 bg-white/5 text-white text-sm rounded-xl border border-dc-border hover:bg-white/10 transition">
      <i data-lucide="arrow-left" class="w-4 h-4 mr-2"></i> Back to Tournament
    </a>
  </div>

</div>

{% endblock %}
