{% extends "base.html" %}
{% load static %}
{% block title %}Tournaments - Games | DeltaCrown{% endblock %}
{% block content %}
<main id="tournaments-hub" class="min-h-screen">

  <!-- Hero -->
  <section class="relative overflow-hidden">
    <div aria-hidden="true" class="pointer-events-none absolute inset-0 opacity-70">
      <div class="absolute -top-28 left-1/2 -translate-x-1/2 h-[36rem] w-[36rem] rounded-full blur-3xl"
           style="background: radial-gradient(closest-side, rgba(99,102,241,.28), transparent 70%);"></div>
      <div class="absolute -bottom-36 left-1/3 h-[28rem] w-[28rem] rounded-full blur-3xl"
           style="background: radial-gradient(closest-side, rgba(56,189,248,.22), transparent 70%);"></div>
    </div>
    <div class="relative container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-16 pb-10">
      <div class="text-center">
        <h1 class="text-4xl sm:text-5xl font-extrabold tracking-tight text-white">Pick your game</h1>
        <p class="mx-auto mt-3 max-w-2xl text-white/75">Browse tournaments by title. Clean filters, fast pages, light/dark ready.</p>
      </div>
    </div>
  </section>

  <!-- Game cards -->
  <section class="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-14">
    <div class="grid gap-5 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
      {% comment %}
      Expect context var "games": list of {slug, name, count, image_url?}
      If not provided, we show a sensible default grid with zero counts.
      {% endcomment %}
      {% for g in games|default:'' %}
      <article class="group rounded-2xl ring-1 ring-white/10 bg-white/5 overflow-hidden hover:ring-white/20 transition">
        <div class="aspect-[16/9] bg-white/5">
          <img src="{% static g.image %}" alt="{{ g.name }}" class="w-full h-full object-cover group-hover:scale-[1.02] transition"/>
        </div>
        <div class="p-5">
          <div class="flex items-start justify-between gap-3">
            <h2 class="text-white font-semibold">{{ g.name }}</h2>
            <span class="chip">{{ g.count|default:"0" }} active</span>
          </div>
          <div class="mt-4 grid grid-cols-2 gap-2">
            <a href="/tournaments/game/{{ g.slug }}/" class="btn btn-secondary w-full">View All</a>
            <a href="/tournaments/game/{{ g.slug }}/upcoming/" class="btn btn-ghost w-full">Upcoming</a>
          </div>
        </div>
      </article>
      {% endfor %}
    </div>
  </section>
</main>
{% endblock %}
