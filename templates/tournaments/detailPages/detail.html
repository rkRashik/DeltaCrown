{% extends "base.html" %}
{% load static %}

{% block title %}{{ tournament.name }} - DeltaCrown Tournaments{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'tournaments/detailPages/css/detail.css' %}">
<link rel="stylesheet" href="{% static 'tournaments/detailPages/css/detail_theme.css' %}">
<link rel="stylesheet" href="{% static 'tournaments/detailPages/css/detail_animations.css' %}">
{% endblock %}

{% block content %}
<div class="tournament-detail relative min-h-screen" data-game-slug="{{ game_spec.slug }}">
    
    {# Ultra-Modern Dynamic Esports Background with Particle Effects #}
    <div class="fixed inset-0 z-0 overflow-hidden bg-slate-950">
        {# Animated gradient base layer #}
        <div class="absolute inset-0 bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950"></div>
        
        {# Game-specific animated accent gradients with color shifts #}
        {% if game_spec.slug == 'valorant' %}
            <div class="absolute inset-0 bg-gradient-to-br from-red-950/40 via-transparent to-rose-950/40 animate-gradient-shift"></div>
            <div class="absolute top-0 right-0 w-[600px] h-[600px] bg-red-500/8 rounded-full filter blur-[120px] animate-float"></div>
            <div class="absolute bottom-1/4 left-1/4 w-[400px] h-[400px] bg-rose-600/6 rounded-full filter blur-[100px] animate-float-delayed"></div>
        {% elif game_spec.slug == 'cs2' or game_spec.slug == 'csgo' %}
            <div class="absolute inset-0 bg-gradient-to-br from-orange-950/40 via-transparent to-yellow-950/40 animate-gradient-shift"></div>
            <div class="absolute bottom-0 left-0 w-[600px] h-[600px] bg-orange-500/8 rounded-full filter blur-[120px] animate-float"></div>
            <div class="absolute top-1/3 right-1/4 w-[400px] h-[400px] bg-amber-600/6 rounded-full filter blur-[100px] animate-float-delayed"></div>
        {% elif game_spec.slug == 'mlbb' or game_spec.slug == 'mobile_legends' %}
            <div class="absolute inset-0 bg-gradient-to-br from-blue-950/40 via-transparent to-purple-950/40 animate-gradient-shift"></div>
            <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-blue-500/8 rounded-full filter blur-[120px] animate-float"></div>
            <div class="absolute bottom-0 right-0 w-[400px] h-[400px] bg-purple-600/6 rounded-full filter blur-[100px] animate-float-delayed"></div>
        {% elif game_spec.slug == 'lol' or game_spec.slug == 'league_of_legends' %}
            <div class="absolute inset-0 bg-gradient-to-br from-indigo-950/40 via-transparent to-cyan-950/40 animate-gradient-shift"></div>
            <div class="absolute top-0 left-0 w-[600px] h-[600px] bg-cyan-500/8 rounded-full filter blur-[120px] animate-float"></div>
            <div class="absolute bottom-1/4 right-1/3 w-[400px] h-[400px] bg-indigo-600/6 rounded-full filter blur-[100px] animate-float-delayed"></div>
        {% elif game_spec.slug == 'efootball' or game_spec.slug == 'fifa' %}
            <div class="absolute inset-0 bg-gradient-to-br from-emerald-950/40 via-transparent to-green-950/40 animate-gradient-shift"></div>
            <div class="absolute bottom-0 right-0 w-[600px] h-[600px] bg-emerald-500/8 rounded-full filter blur-[120px] animate-float"></div>
            <div class="absolute top-1/4 left-1/4 w-[400px] h-[400px] bg-green-600/6 rounded-full filter blur-[100px] animate-float-delayed"></div>
        {% elif game_spec.slug == 'dota2' or game_spec.slug == 'dota_2' %}
            <div class="absolute inset-0 bg-gradient-to-br from-red-950/40 via-transparent to-orange-950/40 animate-gradient-shift"></div>
            <div class="absolute top-1/3 right-1/4 w-[600px] h-[600px] bg-red-600/8 rounded-full filter blur-[120px] animate-float"></div>
            <div class="absolute bottom-0 left-0 w-[400px] h-[400px] bg-orange-600/6 rounded-full filter blur-[100px] animate-float-delayed"></div>
        {% elif game_spec.slug == 'pubg' or game_spec.slug == 'pubg_mobile' %}
            <div class="absolute inset-0 bg-gradient-to-br from-yellow-950/40 via-transparent to-orange-950/40 animate-gradient-shift"></div>
            <div class="absolute top-0 left-1/2 transform -translate-x-1/2 w-[600px] h-[600px] bg-yellow-600/8 rounded-full filter blur-[120px] animate-float"></div>
            <div class="absolute bottom-1/4 right-0 w-[400px] h-[400px] bg-orange-500/6 rounded-full filter blur-[100px] animate-float-delayed"></div>
        {% elif game_spec.slug == 'apex' or game_spec.slug == 'apex_legends' %}
            <div class="absolute inset-0 bg-gradient-to-br from-red-950/40 via-transparent to-slate-950/40 animate-gradient-shift"></div>
            <div class="absolute bottom-1/3 left-1/3 w-[600px] h-[600px] bg-red-500/8 rounded-full filter blur-[120px] animate-float"></div>
            <div class="absolute top-1/4 right-1/4 w-[400px] h-[400px] bg-slate-600/6 rounded-full filter blur-[100px] animate-float-delayed"></div>
        {% else %}
            {# Default cyan/blue theme #}
            <div class="absolute inset-0 bg-gradient-to-br from-cyan-950/40 via-transparent to-blue-950/40 animate-gradient-shift"></div>
            <div class="absolute top-1/4 right-1/4 w-[600px] h-[600px] bg-cyan-500/8 rounded-full filter blur-[120px] animate-float"></div>
            <div class="absolute bottom-1/3 left-1/3 w-[400px] h-[400px] bg-blue-600/6 rounded-full filter blur-[100px] animate-float-delayed"></div>
        {% endif %}
        
        {# Hexagonal grid pattern overlay #}
        <div class="absolute inset-0 opacity-[0.02] pointer-events-none" style="background-image: radial-gradient(circle at center, rgba(255,255,255,0.05) 1px, transparent 1px); background-size: 50px 50px;"></div>
        
        {# Subtle noise texture #}
        <div class="absolute inset-0 opacity-[0.04] mix-blend-overlay" style="background-image: url('data:image/svg+xml,%3Csvg viewBox=%220 0 400 400%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cfilter id=%22noiseFilter%22%3E%3CfeTurbulence type=%22fractalNoise%22 baseFrequency=%220.9%22 numOctaves=%223%22 stitchTiles=%22stitch%22/%3E%3C/filter%3E%3Crect width=%22100%25%22 height=%22100%25%22 filter=%22url(%23noiseFilter)%22/%3E%3C/svg%3E');"></div>
        
        {# Animated scanlines effect #}
        <div class="absolute inset-0 opacity-[0.015] pointer-events-none animate-scanlines" style="background: repeating-linear-gradient(0deg, transparent 0px, transparent 2px, rgba(255,255,255,0.03) 2px, rgba(255,255,255,0.03) 4px);"></div>
        
        {# Vignette effect #}
        <div class="absolute inset-0 pointer-events-none" style="background: radial-gradient(circle at center, transparent 0%, rgba(0,0,0,0.4) 100%);"></div>
    </div>
    
    {# Main Content (relative z-index) #}
    <div class="relative z-10">
    
    {# Hero Section #}
    {% include 'tournaments/detailPages/partials/detail/hero.html' %}
    
    {# Meta Strip - Sticky Quick Stats #}
    {% include 'tournaments/detailPages/partials/detail/meta_strip.html' %}
    
    {# Horizontal Tab Navigation - Sticky Below Meta Strip #}
    {% include 'tournaments/detailPages/partials/detail/tab_nav.html' %}
    
    {# Main Content Area - Full Width (No Sidebar) #}
    <div class="td-main-content-fullwidth">
        <div class="td-tab-panels">
            {% include 'tournaments/detailPages/partials/detail/tab_overview.html' %}
            {% include 'tournaments/detailPages/partials/detail/tab_rules.html' %}
            {% include 'tournaments/detailPages/partials/detail/tab_prizes.html' %}
            {% include 'tournaments/detailPages/partials/detail/tab_participants.html' %}
            {% include 'tournaments/detailPages/partials/detail/tab_bracket.html' %}
            {% include 'tournaments/detailPages/partials/detail/tab_matches.html' %}
            {% include 'tournaments/detailPages/partials/detail/tab_standings.html' %}
            {% include 'tournaments/detailPages/partials/detail/tab_streams_media.html' %}
            {% if tournament.enable_challenges or tournament.enable_fan_voting %}
                {% include 'tournaments/detailPages/partials/detail/tab_challenges_fanvoting.html' %}
            {% endif %}
        </div>
    </div>
    
    {# Dynamic Footer #}
    {% include 'tournaments/detailPages/partials/detail/footer_dynamic.html' %}
    
    </div> {# End relative z-10 wrapper #}
</div> {# End tournament-detail #}
{% endblock %}

{% block extra_js %}
<script src="{% static 'tournaments/detailPages/js/detail.js' %}"></script>
<script src="{% static 'tournaments/detailPages/js/detail_live.js' %}"></script>
{% endblock %}
