{% comment %}
FE-T-001: Tournament Filters Component
Purpose: Game and status filters for tournament discovery
{% endcomment %}

<div class="tournament-filters flex flex-wrap gap-4 items-center">
  <!-- Search Bar -->
  <form method="get" action="" class="flex-1 min-w-[280px]" id="tournament-search-form">
    <div class="relative">
      <input 
        type="search" 
        name="search" 
        value="{{ current_search }}"
        placeholder="Search tournaments..." 
        class="w-full px-4 py-2 pl-10 bg-surface border border-line rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"
      >
      <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-body-secondary"></i>
    </div>
    <!-- Keep other filter params when searching -->
    <input type="hidden" name="game" value="{{ current_game }}">
    <input type="hidden" name="status" value="{{ current_status }}">
  </form>

  <!-- Game Filter -->
  <form method="get" action="" class="game-filter" id="game-filter-form">
    <select 
      name="game" 
      class="px-4 py-2 bg-surface border border-line rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"
      onchange="this.form.submit()"
    >
      <option value="">All Games</option>
      {% for game in games %}
        <option value="{{ game.slug }}" {% if game.slug == current_game %}selected{% endif %}>
          {{ game.name }}
        </option>
      {% endfor %}
    </select>
    <!-- Keep search and status when changing game -->
    <input type="hidden" name="search" value="{{ current_search }}">
    <input type="hidden" name="status" value="{{ current_status }}">
  </form>

  <!-- Status Filter Tabs -->
  <div class="status-filter-tabs flex gap-2">
    {% for option in status_options %}
      <a 
        href="?status={{ option.value }}{% if current_game %}&game={{ current_game }}{% endif %}{% if current_search %}&search={{ current_search }}{% endif %}"
        class="px-4 py-2 rounded-lg font-medium transition-colors
          {% if option.value == current_status %}
            bg-primary text-white
          {% else %}
            bg-surface border border-line text-body-secondary hover:bg-surface-elevated
          {% endif %}
        "
      >
        {{ option.label }}
      </a>
    {% endfor %}
  </div>
</div>

<!-- Mobile: Collapse filters into drawer on small screens -->
<style>
@media (max-width: 768px) {
  .tournament-filters {
    flex-direction: column;
    align-items: stretch;
  }
  .game-filter, .status-filter-tabs {
    width: 100%;
  }
  .status-filter-tabs {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
  }
  .status-filter-tabs::-webkit-scrollbar {
    display: none;
  }
}
</style>
