{% load static %}

<tr class="leaderboard-row {% if standing.is_current_user %}highlight-current-user{% endif %}"
    {% if standing.is_current_user %}aria-current="true"{% endif %}
    role="row">
  <!-- Rank Column with Medal Icons -->
  <td class="rank" role="cell">
    {% if standing.rank == 1 %}
      <span aria-label="Gold medal - First place">ğŸ¥‡</span>
    {% elif standing.rank == 2 %}
      <span aria-label="Silver medal - Second place">ğŸ¥ˆ</span>
    {% elif standing.rank == 3 %}
      <span aria-label="Bronze medal - Third place">ğŸ¥‰</span>
    {% else %}
      <span class="rank-number">{{ standing.rank }}</span>
    {% endif %}
  </td>
  
  <!-- Participant Column -->
  <td class="participant" role="cell">
    <div class="participant-info">
      {% if standing.participant.avatar %}
        <img src="{{ standing.participant.avatar.url }}" 
             alt="{{ standing.participant.name }}" 
             class="participant-avatar">
      {% elif standing.participant.get_avatar_url %}
        <img src="{{ standing.participant.get_avatar_url }}" 
             alt="{{ standing.participant.name }}" 
             class="participant-avatar">
      {% else %}
        <img src="{% static 'img/default-avatar.png' %}" 
             alt="{{ standing.participant.name }}" 
             class="participant-avatar">
      {% endif %}
      <span class="participant-name">
        {{ standing.participant.name|default:standing.participant.username|default:standing.participant }}
        {% if standing.is_current_user %}
          <span style="color: #f59e0b; font-weight: 700;">(You)</span>
        {% endif %}
      </span>
    </div>
  </td>
  
  <!-- Games Played -->
  <td class="stat-cell" role="cell">
    {{ standing.games_played }}
  </td>
  
  <!-- Wins -->
  <td class="stat-cell" role="cell" style="color: #10b981;">
    {{ standing.wins }}
  </td>
  
  <!-- Losses -->
  <td class="stat-cell" role="cell" style="color: #ef4444;">
    {{ standing.losses }}
  </td>
  
  <!-- Points -->
  <td class="points-cell" role="cell">
    {{ standing.points }}
  </td>
</tr>
