{% extends "tournaments/base.html" %}
{% load static humanize %}

{# ─────────────────────────────────────────────────────────
   Registration Wizard — Team Success
   Phase 4 Frontend Rebuild
   ───────────────────────────────────────────────────────── #}

{% block title %}Team Registration Complete — {{ tournament.name }} | DeltaCrown{% endblock %}

{% block tournament_content %}

<div class="max-w-2xl mx-auto px-4 sm:px-6 py-12 text-center">

  {# ── Success Animation ── #}
  <div class="mb-8">
    <div class="w-24 h-24 mx-auto mb-6 rounded-full bg-dc-purple/10 flex items-center justify-center
                animate-[pulse_2s_ease-in-out_3] shadow-[0_0_40px_rgba(139,92,246,0.25)]">
      <i data-lucide="check-circle-2" class="w-12 h-12 text-dc-purple"></i>
    </div>
    <h1 class="text-2xl sm:text-3xl font-display font-bold text-white">Team Registered!</h1>
    <p class="text-gray-400 text-sm mt-2 max-w-md mx-auto">
      Your team has been registered for <span class="text-dc-purple">{{ tournament.name }}</span>.
      {% if registration and registration.status == 'pending' %}
        Payment verification is in progress.
      {% endif %}
    </p>
  </div>

  {# ── Registration Summary ── #}
  <div class="glass rounded-xl p-6 text-left mb-6">
    <h3 class="text-sm font-display font-semibold text-white mb-4">
      <i data-lucide="clipboard-list" class="w-4 h-4 inline mr-1 text-dc-purple"></i> Registration Summary
    </h3>
    <dl class="space-y-3 text-sm">
      {% if registration.id %}
        <div class="flex justify-between">
          <dt class="text-gray-500">Registration ID</dt>
          <dd class="text-white font-mono">#{{ registration.id }}</dd>
        </div>
      {% endif %}
      {% if team_name %}
        <div class="flex justify-between">
          <dt class="text-gray-500">Team</dt>
          <dd class="text-dc-purple">{{ team_name }}</dd>
        </div>
      {% endif %}
      <div class="flex justify-between">
        <dt class="text-gray-500">Tournament</dt>
        <dd class="text-white">{{ tournament.name }}</dd>
      </div>
      {% if registration.status %}
        <div class="flex justify-between">
          <dt class="text-gray-500">Status</dt>
          <dd>
            <span class="px-2 py-0.5 text-xs rounded-full
              {% if registration.status == 'approved' or registration.status == 'confirmed' %}
                bg-green-900/40 text-green-400 border border-green-700/30
              {% elif registration.status == 'pending' %}
                bg-yellow-900/40 text-yellow-400 border border-yellow-700/30
              {% else %}
                bg-gray-800/40 text-gray-400 border border-gray-700/30
              {% endif %}
            ">{{ registration.get_status_display|default:registration.status|title }}</span>
          </dd>
        </div>
      {% endif %}
    </dl>
  </div>

  {# ── What's Next ── #}
  <div class="glass rounded-xl p-6 text-left mb-8">
    <h3 class="text-sm font-display font-semibold text-white mb-4">
      <i data-lucide="list-checks" class="w-4 h-4 inline mr-1 text-dc-cyan"></i> What's Next
    </h3>
    <ul class="space-y-3">
      <li class="flex items-start gap-3">
        <div class="w-6 h-6 mt-0.5 rounded-full bg-dc-purple/10 flex items-center justify-center flex-shrink-0">
          <i data-lucide="check" class="w-3 h-3 text-dc-purple"></i>
        </div>
        <p class="text-sm text-gray-300">Registration submitted</p>
      </li>
      <li class="flex items-start gap-3">
        <div class="w-6 h-6 mt-0.5 rounded-full bg-dc-surface flex items-center justify-center flex-shrink-0">
          <i data-lucide="clock" class="w-3 h-3 text-gray-500"></i>
        </div>
        <p class="text-sm text-gray-400">Payment verified by organizer</p>
      </li>
      <li class="flex items-start gap-3">
        <div class="w-6 h-6 mt-0.5 rounded-full bg-dc-surface flex items-center justify-center flex-shrink-0">
          <i data-lucide="clock" class="w-3 h-3 text-gray-500"></i>
        </div>
        <p class="text-sm text-gray-400">Join the lobby to coordinate with teammates</p>
      </li>
      <li class="flex items-start gap-3">
        <div class="w-6 h-6 mt-0.5 rounded-full bg-dc-surface flex items-center justify-center flex-shrink-0">
          <i data-lucide="clock" class="w-3 h-3 text-gray-500"></i>
        </div>
        <p class="text-sm text-gray-400">Check in before the tournament starts</p>
      </li>
    </ul>
  </div>

  {# ── Action Buttons ── #}
  <div class="flex flex-col sm:flex-row items-center justify-center gap-3">
    {% if registration.id %}
      <a href="{% url 'tournaments:registration_status' tournament.slug registration.id %}"
         class="px-6 py-3 bg-dc-purple text-white font-bold text-sm rounded-xl hover:bg-dc-purple/90 transition">
        <i data-lucide="eye" class="w-4 h-4 inline mr-1"></i> Track Status
      </a>
    {% endif %}
    <a href="{% url 'tournaments:detail' tournament.slug %}"
       class="px-6 py-3 bg-white/5 text-white text-sm rounded-xl border border-dc-border hover:bg-white/10 transition">
      <i data-lucide="trophy" class="w-4 h-4 inline mr-1"></i> Tournament Page
    </a>
    <a href="{% url 'tournaments:my_tournaments' %}"
       class="px-6 py-3 bg-white/5 text-white text-sm rounded-xl border border-dc-border hover:bg-white/10 transition">
      <i data-lucide="flag" class="w-4 h-4 inline mr-1"></i> My Tournaments
    </a>
  </div>

</div>

{% endblock %}
