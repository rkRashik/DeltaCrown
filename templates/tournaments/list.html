{% extends "base.html" %}
{% load static %}

{% block title %}Tournaments — DeltaCrown{% endblock %}

{% block content %}
<section class="relative overflow-hidden">
  <div class="dc-animate-gradient"></div>
  <div class="max-w-7xl mx-auto px-4 py-12 md:py-16">
    <header class="flex flex-col sm:flex-row sm:items-end sm:justify-between gap-3">
      <div>
        <h1 class="text-3xl md:text-4xl font-extrabold leading-tight">Tournaments</h1>
        <p class="mt-2 dc-muted">Compete in premium events across Valorant, eFootball, and more.</p>
      </div>
      <div class="flex items-center gap-2">
        <a href="{% url 'tournaments:list' %}" class="px-4 py-2 rounded-xl border dc-border hover:border-brand-primary/60">All</a>
        <a href="?status=upcoming" class="px-4 py-2 rounded-xl border dc-border hover:border-brand-primary/60">Upcoming</a>
        <a href="?status=live" class="px-4 py-2 rounded-xl border dc-border hover:border-brand-primary/60">Ongoing</a>
        <a href="?status=finished" class="px-4 py-2 rounded-xl border dc-border hover:border-brand-primary/60">Finished</a>
      </div>
    </header>

    <div class="mt-8 grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
      {% if tournaments %}
        {% for t in tournaments %}
          <article class="rounded-2xl overflow-hidden dc-card dc-card-raise dc-reveal">
            <a href="{% url 'tournaments:detail' t.slug %}" class="block">
              <div class="aspect-[16/9]" style="background: var(--surface); border-bottom: 1px solid var(--border)"></div>
              <div class="p-4">
                <div class="flex items-center gap-2 text-xs dc-muted">
                  <span>{{ t.game_name|default:"Esports" }}</span>
                  {% if t.status %}<span>•</span><span>{{ t.status }}</span>{% endif %}
                </div>
                <h3 class="mt-1 text-lg font-semibold">{{ t.title|default:t.name|default:"Tournament" }}</h3>
                <div class="mt-2 text-sm dc-muted">
                  {% if t.start_date %}Starts {{ t.start_date }}{% elif t.start_at %}Starts {{ t.start_at|date:"Y-m-d" }}{% else %}Schedule TBA{% endif %}
                </div>
                <div class="mt-3 flex justify-between items-center">
                  <span class="text-xs px-2 py-1 rounded dc-chip">
                    {% if t.entry_fee %}Entry: {{ t.entry_fee }}{% else %}Free/Varies{% endif %}
                  </span>
                  <span class="text-xs px-2 py-1 rounded dc-chip">
                    {% if t.prize_pool %}Prize: {{ t.prize_pool }}{% else %}Prize TBA{% endif %}
                  </span>
                </div>
              </div>
            </a>
          </article>
        {% endfor %}
      {% else %}
        <div class="dc-muted">No tournaments yet.</div>
      {% endif %}
    </div>
  </div>
</section>
{% endblock %}
