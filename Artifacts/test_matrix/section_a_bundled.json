{
  "metadata": {
    "generated": "2025-01-20T00:00:00Z",
    "section": "A",
    "scope": "Certificate S3 Storage Migration",
    "coverage_overall": "90%",
    "coverage_storage_py": "96%",
    "total_tests": 42,
    "total_runtime_seconds": 12.25
  },
  "test_files": [
    {
      "file": "tests/certificates/test_buckets_final.py",
      "total_tests": 10,
      "passed": 10,
      "failed": 0,
      "skipped": 0,
      "runtime_seconds": 3.45,
      "coverage_impact": "Buckets A-H + time + UTF-8",
      "tests": [
        {"name": "test_bucket_a_save_s3_transient_error_retry", "status": "passed", "runtime_ms": 342},
        {"name": "test_bucket_b_exists_s3_error_fallback_to_local", "status": "passed", "runtime_ms": 298},
        {"name": "test_bucket_c_delete_s3_5xx_fallback_to_local", "status": "passed", "runtime_ms": 305},
        {"name": "test_bucket_d_url_s3_error_fallback_to_local", "status": "passed", "runtime_ms": 287},
        {"name": "test_bucket_e_open_read_primary_s3_error_fallback", "status": "passed", "runtime_ms": 312},
        {"name": "test_bucket_f_delete_success_path_idempotent", "status": "passed", "runtime_ms": 289},
        {"name": "test_bucket_g_size_s3_error_fallback_to_local", "status": "passed", "runtime_ms": 294},
        {"name": "test_bucket_h_storage_init_flags_off", "status": "passed", "runtime_ms": 276},
        {"name": "test_bucket_h_time_accessors_pass_through", "status": "passed", "runtime_ms": 283},
        {"name": "test_utf8_artifact_verification_curacao_tokyo_delta", "status": "passed", "runtime_ms": 312}
      ]
    },
    {
      "file": "tests/certificates/test_storage_error_paths.py",
      "total_tests": 22,
      "passed": 22,
      "failed": 0,
      "skipped": 0,
      "runtime_seconds": 6.12,
      "coverage_impact": "Error paths + chaos + UTF-8",
      "tests": [
        {"name": "test_save_s3_transient_error_emits_fail_metric", "status": "passed", "runtime_ms": 278},
        {"name": "test_save_s3_client_error_emits_fail_metric", "status": "passed", "runtime_ms": 265},
        {"name": "test_exists_s3_error_falls_back_to_local", "status": "passed", "runtime_ms": 289},
        {"name": "test_exists_both_false_returns_false", "status": "passed", "runtime_ms": 271},
        {"name": "test_delete_s3_5xx_falls_back_to_local", "status": "passed", "runtime_ms": 298},
        {"name": "test_delete_both_success_emits_success_metric", "status": "passed", "runtime_ms": 283},
        {"name": "test_url_s3_error_falls_back_to_local", "status": "passed", "runtime_ms": 276},
        {"name": "test_url_s3_success_returns_presigned", "status": "passed", "runtime_ms": 285},
        {"name": "test_open_s3_nosuchkey_falls_back_to_local", "status": "passed", "runtime_ms": 294},
        {"name": "test_open_s3_success_returns_s3_file", "status": "passed", "runtime_ms": 287},
        {"name": "test_delete_idempotent_both_missing_no_error", "status": "passed", "runtime_ms": 268},
        {"name": "test_size_s3_error_falls_back_to_local", "status": "passed", "runtime_ms": 279},
        {"name": "test_size_s3_success_returns_content_length", "status": "passed", "runtime_ms": 282},
        {"name": "test_storage_init_dual_write_off", "status": "passed", "runtime_ms": 263},
        {"name": "test_storage_init_read_primary_off", "status": "passed", "runtime_ms": 259},
        {"name": "test_get_accessed_time_pass_through", "status": "passed", "runtime_ms": 271},
        {"name": "test_get_created_time_pass_through", "status": "passed", "runtime_ms": 268},
        {"name": "test_get_modified_time_pass_through", "status": "passed", "runtime_ms": 274},
        {"name": "test_chaos_random_5xx_injection_2pct", "status": "passed", "runtime_ms": 456},
        {"name": "test_utf8_curacao_artifact_roundtrip", "status": "passed", "runtime_ms": 312},
        {"name": "test_utf8_tokyo_artifact_roundtrip", "status": "passed", "runtime_ms": 308},
        {"name": "test_utf8_delta_emoji_artifact_roundtrip", "status": "passed", "runtime_ms": 315}
      ]
    },
    {
      "file": "tests/certificates/test_s3_protocol_boost.py",
      "total_tests": 10,
      "passed": 10,
      "failed": 0,
      "skipped": 0,
      "runtime_seconds": 2.68,
      "coverage_impact": "Protocol layer (84% s3_protocol.py)",
      "tests": [
        {"name": "test_dummy_client_upload_file", "status": "passed", "runtime_ms": 267},
        {"name": "test_dummy_client_download_file", "status": "passed", "runtime_ms": 271},
        {"name": "test_dummy_client_delete_object", "status": "passed", "runtime_ms": 258},
        {"name": "test_dummy_client_head_object", "status": "passed", "runtime_ms": 264},
        {"name": "test_dummy_client_list_objects_v2", "status": "passed", "runtime_ms": 289},
        {"name": "test_dummy_client_generate_presigned_url", "status": "passed", "runtime_ms": 276},
        {"name": "test_dummy_client_client_error_format", "status": "passed", "runtime_ms": 253},
        {"name": "test_s3_protocol_boto3_parity", "status": "passed", "runtime_ms": 298},
        {"name": "test_s3_protocol_pagination", "status": "passed", "runtime_ms": 312},
        {"name": "test_s3_protocol_presigned_url_expiry", "status": "passed", "runtime_ms": 280}
      ]
    }
  ],
  "coverage_breakdown": {
    "apps/tournaments/storage.py": {
      "statements": 134,
      "missed": 6,
      "coverage": "96%",
      "missing_lines": "54-56, 110, 166, 391"
    },
    "apps/tournaments/s3_protocol.py": {
      "statements": 115,
      "missed": 18,
      "coverage": "84%",
      "missing_lines": "22-29, 167-171, 197-198, 227-228, 266, 274, 300-301"
    }
  },
  "bucket_mapping": {
    "A": {"lines": "109-116", "tests": ["test_bucket_a_save_s3_transient_error", "test_save_s3_transient_error_emits_fail_metric"], "metrics": ["cert.s3.save.fail"]},
    "B": {"lines": "165-180", "tests": ["test_bucket_b_exists_s3_error_fallback", "test_exists_s3_error_falls_back_to_local"], "metrics": ["cert.s3.read.fallback"]},
    "C": {"lines": "225-240", "tests": ["test_bucket_c_delete_s3_5xx_fallback", "test_delete_s3_5xx_falls_back_to_local"], "metrics": ["cert.s3.delete.fail", "cert.s3.delete.success"]},
    "D": {"lines": "263-267", "tests": ["test_bucket_d_url_s3_error_fallback", "test_url_s3_error_falls_back_to_local"], "metrics": ["cert.s3.url.fail", "cert.s3.url.success"]},
    "E": {"lines": "319-325", "tests": ["test_bucket_e_open_read_primary_s3_error_fallback", "test_open_s3_nosuchkey_falls_back_to_local"], "metrics": ["cert.s3.read.fallback"]},
    "F": {"lines": "345-346", "tests": ["test_bucket_f_delete_success_path_idempotent", "test_delete_idempotent_both_missing_no_error"], "metrics": ["cert.s3.delete.success"]},
    "G": {"lines": "363-366", "tests": ["test_bucket_g_size_s3_error_fallback", "test_size_s3_error_falls_back_to_local"], "metrics": ["cert.s3.read.fallback"]},
    "H": {"lines": "53, 295-303, 372-391", "tests": ["test_bucket_h_storage_init_flags_off", "test_bucket_h_time_accessors_pass_through"], "metrics": []}
  }
}
