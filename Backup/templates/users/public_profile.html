{% extends "base.html" %}
{% load static %}

{% block title %}Public Profile â€” DeltaCrown{% endblock %}

{% block content %}
{# Render using whichever context key is present. Fall back to a placeholder when empty. #}
{% if profile %}
  {% include "users/_public_profile_body.html" with u=profile.user|default:None prof=profile only %}
{% elif public_user %}
  {% if public_user.user %}
    {% include "users/_public_profile_body.html" with u=public_user.user prof=public_user only %}
  {% else %}
    {% include "users/_public_profile_body.html" with u=public_user prof=public_user only %}
  {% endif %}
{% else %}
  {# Audit/smoke render with empty context #}
  {% include "users/_public_profile_body.html" with u=None prof=None only %}
{% endif %}
{% endblock %}
