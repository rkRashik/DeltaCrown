{# Game IDs List Component #}
{# UP-PHASE-2: Display user's Game IDs/Passports in a compact list #}
{# 
  Usage: {% include 'user_profile/profile/components/game_ids_list.html' with game_passports=pinned_passports show_actions=True %}
  Params:
    - game_passports: List of GameProfile dicts
    - show_actions: Show edit/delete buttons (default: is_owner)
    - compact: Compact view (default: False)
#}

{% if game_passports %}
<div class="space-y-3">
    {% for passport in game_passports %}
    <div class="z-card p-4 flex items-center justify-between group hover:border-[var(--z-cyan)]/50 transition {% if compact %}py-2{% endif %}">
        <div class="flex items-center gap-4 flex-1 min-w-0">
            {# Game Icon/Logo #}
            <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-[var(--z-purple)]/20 to-[var(--z-cyan)]/20 flex items-center justify-center flex-shrink-0 border border-white/10">
                <i class="fa-solid fa-gamepad text-[var(--z-cyan)]"></i>
            </div>
            
            {# Game Info #}
            <div class="flex-1 min-w-0">
                <h4 class="text-white font-bold text-sm uppercase tracking-wide truncate">{{ passport.game|upper }}</h4>
                <div class="flex items-center gap-2 mt-1 flex-wrap">
                    {# IGN #}
                    <span class="text-xs font-mono text-[var(--z-cyan)] bg-[var(--z-cyan)]/10 px-2 py-0.5 rounded border border-[var(--z-cyan)]/20">
                        {{ passport.ign }}{% if passport.discriminator %}#{{ passport.discriminator }}{% endif %}
                    </span>
                    
                    {# Rank (if present) #}
                    {% if passport.rank %}
                    <span class="text-xs text-gray-400 bg-white/5 px-2 py-0.5 rounded border border-white/10">
                        {{ passport.rank }}
                    </span>
                    {% endif %}
                    
                    {# Role (if present) #}
                    {% if passport.role %}
                    <span class="text-xs text-gray-400 bg-white/5 px-2 py-0.5 rounded border border-white/10">
                        {{ passport.role }}
                    </span>
                    {% endif %}
                </div>
            </div>
        </div>
        
        {# Actions (owner only) #}
        {% if show_actions and is_owner %}
        <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition">
            <button onclick="openEditGamePassportModal('{{ passport.game }}')" class="w-8 h-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center transition" title="Edit">
                <i class="fa-solid fa-pen text-xs text-gray-400"></i>
            </button>
            <button onclick="deleteGamePassport('{{ passport.game }}')" class="w-8 h-8 rounded-lg bg-[var(--z-red)]/10 hover:bg-[var(--z-red)]/20 flex items-center justify-center transition" title="Delete">
                <i class="fa-solid fa-trash text-xs text-[var(--z-red)]"></i>
            </button>
        </div>
        {% endif %}
    </div>
    {% endfor %}
</div>
{% else %}
{# Empty state #}
{% include 'user_profile/profile/components/state_empty.html' with icon="fa-id-card" title="No Game IDs yet" message="Add your game accounts to track stats across platforms" cta_label="Add Game ID" cta_action="openGamePassportsModal()" %}
{% endif %}
