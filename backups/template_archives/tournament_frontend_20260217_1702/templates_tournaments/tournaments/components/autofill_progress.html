{% comment %}
Auto-Fill Completion Progress Component

Displays a visual progress bar showing how much registration data is auto-filled.
Encourages users to complete their profile for faster registration.

Usage:
{% include 'tournaments/components/autofill_progress.html' with percentage=completion_percentage missing_count=missing_count %}
{% endcomment %}

<div class="bg-gradient-to-r from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700 shadow-lg">
    <!-- Header -->
    <div class="flex items-center justify-between mb-4">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center">
                <svg class="w-5 h-5 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                </svg>
            </div>
            <div>
                <h3 class="text-lg font-bold text-white">Quick Fill</h3>
                <p class="text-sm text-gray-400">Auto-filled from your profile</p>
            </div>
        </div>
        
        <!-- Percentage Badge -->
        <div class="flex items-center gap-2">
            <span class="text-2xl font-bold 
                {% if percentage >= 80 %}
                    text-green-400
                {% elif percentage >= 50 %}
                    text-yellow-400
                {% else %}
                    text-red-400
                {% endif %}">
                {{ percentage }}%
            </span>
            {% if percentage >= 100 %}
                <svg class="w-6 h-6 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
            {% endif %}
        </div>
    </div>
    
    <!-- Progress Bar -->
    <div class="relative h-3 bg-gray-700 rounded-full overflow-hidden mb-3">
        <!-- Background glow effect -->
        <div class="absolute inset-0 bg-gradient-to-r 
            {% if percentage >= 80 %}
                from-green-500/20 to-green-400/20
            {% elif percentage >= 50 %}
                from-yellow-500/20 to-yellow-400/20
            {% else %}
                from-blue-500/20 to-blue-400/20
            {% endif %} blur-sm"></div>
        
        <!-- Progress fill -->
        <div class="absolute inset-y-0 left-0 rounded-full bg-gradient-to-r 
            {% if percentage >= 80 %}
                from-green-500 to-green-400
            {% elif percentage >= 50 %}
                from-yellow-500 to-yellow-400
            {% else %}
                from-blue-500 to-blue-400
            {% endif %} transition-all duration-500 ease-out shadow-lg"
             style="width: {{ percentage }}%">
            <!-- Shimmer effect -->
            <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent transform -skew-x-12 animate-shimmer"></div>
        </div>
    </div>
    
    <!-- Status Message -->
    {% if percentage >= 100 %}
        <div class="flex items-center gap-2 text-green-400">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            <p class="text-sm font-medium">All fields auto-filled! Just review and submit.</p>
        </div>
    {% elif percentage >= 80 %}
        <div class="flex items-center gap-2 text-yellow-400">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <p class="text-sm font-medium">Almost there! {{ missing_count }} field{{ missing_count|pluralize }} remaining.</p>
        </div>
    {% elif percentage >= 50 %}
        <div class="flex items-center gap-2 text-blue-400">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <p class="text-sm font-medium">Good progress! {{ missing_count }} field{{ missing_count|pluralize }} need{{ missing_count|pluralize:"s," }} your input.</p>
        </div>
    {% else %}
        <div class="flex items-center gap-2 text-gray-400">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <p class="text-sm font-medium">Complete your profile to speed up future registrations.</p>
        </div>
    {% endif %}
    
    <!-- Update Profile CTA (if missing data) -->
    {% if percentage < 100 and missing_count > 0 %}
        <div class="mt-4 pt-4 border-t border-gray-700">
            <a href="/profile/edit/" 
               class="inline-flex items-center gap-2 text-sm text-blue-400 hover:text-blue-300 font-medium transition-colors group">
                <svg class="w-4 h-4 transform group-hover:scale-110 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                </svg>
                Update Profile to Auto-Fill {{ missing_count }} Missing Field{{ missing_count|pluralize }}
                <svg class="w-4 h-4 transform group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
                </svg>
            </a>
        </div>
    {% endif %}
</div>

<style>
@keyframes shimmer {
    0% { transform: translateX(-100%) skewX(-12deg); }
    100% { transform: translateX(200%) skewX(-12deg); }
}

.animate-shimmer {
    animation: shimmer 2s infinite;
}
</style>
