{% extends "tournaments/team_registration/base.html" %}

{% block content %}
<div class="space-y-8">
    <!-- Step Header -->
    <div class="text-center">
        <h2 class="text-3xl font-bold text-white mb-2">
            <span class="text-4xl mr-2">üë•</span>
            Team Information
        </h2>
        <p class="text-gray-400">Register your team for the tournament</p>
    </div>

    <!-- Form -->
    <form method="POST" enctype="multipart/form-data" class="space-y-8">
        {% csrf_token %}
        <input type="hidden" name="step" value="1">

        <!-- Team Details Section -->
        <div class="gradient-border rounded-lg p-6">
            <h3 class="text-xl font-bold text-white mb-4 flex items-center">
                <span class="text-2xl mr-2">üèÜ</span>
                Team Details
            </h3>
            
            <div class="space-y-4">
                <!-- Team Name -->
                <div>
                    <label for="team_name" class="block text-sm font-medium text-gray-300 mb-2">
                        Team Name <span class="text-red-500">*</span>
                    </label>
                    <div class="text-xs text-gray-400 mb-2">
                        <i class="fas fa-info-circle mr-1"></i>
                        Choose a unique and memorable team name
                    </div>
                    <input type="text" id="team_name" name="team_name" required
                        placeholder="Valorant Warriors"
                        class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500">
                </div>

                <!-- Team Tag -->
                <div>
                    <label for="team_tag" class="block text-sm font-medium text-gray-300 mb-2">
                        Team Tag <span class="text-red-500">*</span>
                    </label>
                    <div class="text-xs text-gray-400 mb-2">
                        <i class="fas fa-info-circle mr-1"></i>
                        2-5 characters (e.g., VW, WARR, VG)
                    </div>
                    <input type="text" id="team_tag" name="team_tag" required minlength="2" maxlength="5"
                        placeholder="VW"
                        class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 uppercase">
                </div>

                <!-- Team Logo -->
                {% if form_config.enable_team_logo_field %}
                <div>
                    <label for="team_logo" class="block text-sm font-medium text-gray-300 mb-2">
                        Team Logo (Optional)
                    </label>
                    <div class="text-xs text-gray-400 mb-2">
                        <i class="fas fa-info-circle mr-1"></i>
                        Upload your team logo (Square format recommended)
                    </div>
                    <input type="file" id="team_logo" name="team_logo" accept="image/*"
                        class="block w-full text-sm text-gray-400
                            file:mr-4 file:py-3 file:px-4
                            file:rounded-lg file:border-0
                            file:text-sm file:font-semibold
                            file:bg-primary file:text-white
                            file:cursor-pointer file:hover:bg-secondary
                            hover:file:bg-secondary">
                    <div class="text-xs text-gray-500 mt-2">
                        Supported formats: JPG, PNG (Max 2MB)
                    </div>
                </div>
                {% endif %}

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Region -->
                    {% if form_config.enable_team_region_field %}
                    <div>
                        <label for="region" class="block text-sm font-medium text-gray-300 mb-2">
                            Region <span class="text-red-500">*</span>
                        </label>
                        <select id="region" name="region" required
                            class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white">
                            <option value="South Asia">üåè South Asia</option>
                            <option value="Southeast Asia">üåè Southeast Asia</option>
                            <option value="APAC">üåè Asia-Pacific</option>
                        </select>
                    </div>
                    {% endif %}

                    <!-- Country -->
                    <div>
                        <label for="country" class="block text-sm font-medium text-gray-300 mb-2">
                            Country <span class="text-red-500">*</span>
                        </label>
                        <select id="country" name="country" required
                            class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white">
                            <option value="Bangladesh">üáßüá© Bangladesh</option>
                            <option value="India">üáÆüá≥ India</option>
                            <option value="Pakistan">üáµüá∞ Pakistan</option>
                            <option value="Nepal">üá≥üáµ Nepal</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- Team Captain Section -->
        <div class="gradient-border rounded-lg p-6">
            <h3 class="text-xl font-bold text-white mb-4 flex items-center">
                <span class="text-2xl mr-2">‚≠ê</span>
                Team Captain (You)
            </h3>
            
            <div class="space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Captain Full Name -->
                    <div>
                        <label for="captain_full_name" class="block text-sm font-medium text-gray-300 mb-2">
                            Full Name <span class="text-red-500">*</span>
                        </label>
                        <input type="text" id="captain_full_name" name="captain_full_name" required
                            placeholder="Amanul Hakim"
                            class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500">
                    </div>

                    <!-- Captain Display Name -->
                    {% if form_config.enable_captain_display_name_field %}
                    <div>
                        <label for="captain_display_name" class="block text-sm font-medium text-gray-300 mb-2">
                            In-Game Name <span class="text-red-500">*</span>
                        </label>
                        <input type="text" id="captain_display_name" name="captain_display_name" required
                            placeholder="CaptainRazor"
                            class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500">
                    </div>
                    {% endif %}
                </div>

                <!-- Captain Game ID -->
                <div>
                    <label for="captain_game_id" class="block text-sm font-medium text-gray-300 mb-2">
                        Game ID <span class="text-red-500">*</span>
                    </label>
                    <div class="text-xs text-gray-400 mb-2">
                        <i class="fas fa-info-circle mr-1"></i>
                        Format: PlayerName#TAG
                    </div>
                    <input type="text" id="captain_game_id" name="captain_game_id" required
                        placeholder="CaptainRazor#BD01"
                        pattern="^[a-zA-Z0-9]+#[a-zA-Z0-9]+$"
                        class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500">
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Captain Email -->
                    <div>
                        <label for="captain_email" class="block text-sm font-medium text-gray-300 mb-2">
                            Email <span class="text-red-500">*</span>
                        </label>
                        <input type="email" id="captain_email" name="captain_email" required
                            placeholder="captain@example.com"
                            class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500">
                    </div>

                    <!-- Captain Phone -->
                    {% if form_config.enable_captain_phone_field or form_config.enable_captain_whatsapp_field %}
                    <div>
                        <label for="captain_phone" class="block text-sm font-medium text-gray-300 mb-2">
                            WhatsApp Number <span class="text-red-500">*</span>
                        </label>
                        <input type="tel" id="captain_phone" name="captain_phone" required
                            placeholder="01700000000"
                            class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500">
                    </div>
                    {% endif %}
                </div>

                <!-- Captain Discord -->
                {% if form_config.enable_captain_discord_field %}
                <div>
                    <label for="captain_discord" class="block text-sm font-medium text-gray-300 mb-2">
                        Discord Username <span class="text-red-500">*</span>
                    </label>
                    <input type="text" id="captain_discord" name="captain_discord" required
                        placeholder="CaptainRazor#1234"
                        class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500">
                </div>
                {% endif %}
            </div>
        </div>

        <!-- Team Members Section -->
        <div class="gradient-border rounded-lg p-6">
            <h3 class="text-xl font-bold text-white mb-4 flex items-center">
                <span class="text-2xl mr-2">üë•</span>
                Team Members (4 Players + 1 Substitute)
            </h3>
            
            <div class="text-sm text-gray-400 mb-6">
                <i class="fas fa-info-circle mr-1"></i>
                Enter details for 4 main players + 1 substitute (total 5 players including you)
            </div>

            <!-- Player 2 -->
            <div class="bg-gray-800/50 rounded-lg p-4 mb-4">
                <h4 class="font-bold text-white mb-3">Player 2 <span class="text-red-500">*</span></h4>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                    <input type="text" name="player2_name" required placeholder="Full Name"
                        class="px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white placeholder-gray-500 text-sm">
                    <input type="text" name="player2_ign" required placeholder="In-Game Name"
                        class="px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white placeholder-gray-500 text-sm">
                    <input type="text" name="player2_game_id" required placeholder="Game ID"
                        pattern="^[a-zA-Z0-9]+#[a-zA-Z0-9]+$"
                        class="px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white placeholder-gray-500 text-sm">
                </div>
            </div>

            <!-- Player 3 -->
            <div class="bg-gray-800/50 rounded-lg p-4 mb-4">
                <h4 class="font-bold text-white mb-3">Player 3 <span class="text-red-500">*</span></h4>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                    <input type="text" name="player3_name" required placeholder="Full Name"
                        class="px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white placeholder-gray-500 text-sm">
                    <input type="text" name="player3_ign" required placeholder="In-Game Name"
                        class="px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white placeholder-gray-500 text-sm">
                    <input type="text" name="player3_game_id" required placeholder="Game ID"
                        pattern="^[a-zA-Z0-9]+#[a-zA-Z0-9]+$"
                        class="px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white placeholder-gray-500 text-sm">
                </div>
            </div>

            <!-- Player 4 -->
            <div class="bg-gray-800/50 rounded-lg p-4 mb-4">
                <h4 class="font-bold text-white mb-3">Player 4 <span class="text-red-500">*</span></h4>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                    <input type="text" name="player4_name" required placeholder="Full Name"
                        class="px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white placeholder-gray-500 text-sm">
                    <input type="text" name="player4_ign" required placeholder="In-Game Name"
                        class="px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white placeholder-gray-500 text-sm">
                    <input type="text" name="player4_game_id" required placeholder="Game ID"
                        pattern="^[a-zA-Z0-9]+#[a-zA-Z0-9]+$"
                        class="px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white placeholder-gray-500 text-sm">
                </div>
            </div>

            <!-- Player 5 -->
            <div class="bg-gray-800/50 rounded-lg p-4 mb-4">
                <h4 class="font-bold text-white mb-3">Player 5 <span class="text-red-500">*</span></h4>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                    <input type="text" name="player5_name" required placeholder="Full Name"
                        class="px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white placeholder-gray-500 text-sm">
                    <input type="text" name="player5_ign" required placeholder="In-Game Name"
                        class="px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white placeholder-gray-500 text-sm">
                    <input type="text" name="player5_game_id" required placeholder="Game ID"
                        pattern="^[a-zA-Z0-9]+#[a-zA-Z0-9]+$"
                        class="px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white placeholder-gray-500 text-sm">
                </div>
            </div>

            <!-- Substitute -->
            <div class="bg-gray-800/50 rounded-lg p-4 border-2 border-yellow-500/30">
                <h4 class="font-bold text-white mb-3">
                    <span class="text-yellow-500">üîÑ</span> Substitute Player <span class="text-red-500">*</span>
                </h4>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                    <input type="text" name="substitute_name" required placeholder="Full Name"
                        class="px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white placeholder-gray-500 text-sm">
                    <input type="text" name="substitute_ign" required placeholder="In-Game Name"
                        class="px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white placeholder-gray-500 text-sm">
                    <input type="text" name="substitute_game_id" required placeholder="Game ID"
                        pattern="^[a-zA-Z0-9]+#[a-zA-Z0-9]+$"
                        class="px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white placeholder-gray-500 text-sm">
                </div>
            </div>
        </div>

        <!-- Navigation Buttons -->
        <div class="flex items-center justify-between pt-6">
            <a href="{% url 'tournaments:detail' tournament.slug %}" 
                class="px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors">
                <i class="fas fa-arrow-left mr-2"></i>
                Cancel
            </a>
            
            <button type="submit" 
                class="px-8 py-3 bg-gradient-to-r from-primary to-secondary text-white font-bold rounded-lg glow-button">
                Continue to Review
                <i class="fas fa-arrow-right ml-2"></i>
            </button>
        </div>
    </form>
</div>
{% endblock %}
