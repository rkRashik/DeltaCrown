[pytest]
DJANGO_SETTINGS_MODULE = deltacrown.settings_test
python_files = tests.py test_*.py *_test.py
addopts = --reuse-db -q
# pytest-asyncio installed for async WebSocket tests (Module 4.5)
# UP-PHASE12: Use 'auto' mode to avoid marking sync tests as async
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function
markers =
    s3: marks tests as requiring S3/boto3 (deselect with '-m "not s3"')
    observability: marks tests for observability & cache (Module 8.3)
    smoke: marks tests for end-to-end smoke tests (Phase 9)
    ops: marks tests for DR chaos mini-drills (Phase 10)
